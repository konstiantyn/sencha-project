"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(c,a,b){return a in c?Object.defineProperty(c,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[a]=b,c}var _get=function get(b,e,d){null===b&&(b=Function.prototype);var f=Object.getOwnPropertyDescriptor(b,e);if(void 0===f){var c=Object.getPrototypeOf(b);return null===c?void 0:get(c,e,d)}if("value" in f){return f.value}var a=f.get;if(void 0!==a){return a.call(d)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(m,j){if(!g[m]){if(!c[m]){var i="function"==typeof require&&require;if(!j&&i){return i(m,!0)}if(b){return b(m,!0)}var k=Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};c[m][0].call(h.exports,function(l){var o=c[m][1][l];return d(o?o:l)},h,h.exports,a,c,g,e)}return g[m].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,g,b){var f,h=d("./src/export/Base.js"),c=d("./src/export/css/CssVariableManager.js"),e=new c;h.apply(h,(f={css:e,CssExport:c,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(f,"Types",d("./src/export/type/Types.js")),_defineProperty(f,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(f,"Output",d("./src/export/Output.js")),_defineProperty(f,"Runtime",d("./src/export/Runtime.js")),f)),g.exports=h},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(k,f,z){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function h(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?h(F,G):C[E]=G):C[E]=G}}return C}function b(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function d(C){return C&&"function"==typeof C}function o(C,D){console.log(b("[DBG] "+C,D))}function i(C,D){console.log(b("[LOG] "+C,D))}function u(C,D){console.log(b("[INF] "+C,D))}function t(C,D){console.log(b("[WRN] "+C,D))}function s(C,D){console.log(b("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function l(D,E){var C;E&&(D=b(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function m(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function j(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function c(C){return C.length&&C[C.length-1]}function B(C){return C.length>2?C.slice(1):[]}function e(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function q(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;e(E,n.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function A(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?A(E,F-1,C):C.push(E)}return C}var g=k("./../NameConverter.js"),n=function n(C){_classCallCheck(this,n),C&&h(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return c(this.items)}},{key:"tail",value:function(){return B(this.items)}}]),C}();y.prototype.items=null;var p=Object.create||function(C){return x.prototype=C,new x};f.exports={EmptyArray:[],getJsName:g.getJsName,chain:p,Base:n,BaseSet:y,apply:r,merge:h,createMessage:b,isFunction:d,debug:o,log:i,info:u,warn:t,error:s,raise:v,raiseAt:l,filter:m,convert:j,first:w,last:c,tail:B,mixin:q,flatten:A}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(k,f,m){var d=k("./Base.js"),n=d.Base,b=k("./type/Type.js"),r=k("./type/List.js"),o=k("./type/Bool.js"),e=k("./type/Color.js"),q=k("./type/ColorRGBA.js"),j=k("./type/Text.js"),i=k("./type/Literal.js"),h=k("./type/Statics.js"),g=k("./type/TypeVisitor.js"),l=k("./type/Types.js"),p=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();d.apply(p.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var c=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:h.boxType,unbox:h.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(B,E){for(var C,D={},A=0,z=0;z<B.length;z++){var y=B[z];if(void 0!==y){if(y===!0||y===!1){D[E[A]]=y,A++}else{if(void 0===y.type){for(C in y){D[C.replace(/^\$/,"")]=y[C]}}else{C=E[A],C instanceof Array?(C=C[0],D[C]=D[C]||new r,D[C].add(y)):(D[C]=y,A++)}}}}return D},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new o(v)}},{key:"color",value:function t(x){var w=e.map[x],v=new q(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new j(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new i(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(x){x=x||this.types;for(var v,y=Object.getOwnPropertyNames(x),z=[],w=0;w<y.length;w++){v=y[w],z.push(v+" = Types."+v),z.push("__"+v+" = "+v)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(y){y=y||this.constructor.prototype;for(var x,v,z=[];y;){x=Object.getOwnPropertyNames(y);for(var w=0;w<x.length;w++){v=x[w],"function"==typeof y[v]&&z.push("__rt_"+v+" = __rt."+v+".bind(__rt)")}y=Object.getPrototypeOf(y)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var v,x=Object.getOwnPropertyNames(this),y=[],w=0;w<x.length;w++){v=x[w],y.push("__rt_"+v+" = __rt."+v)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(d,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,B){var A=y||v,z=B||{};return A.reset(),C&&(C.$isScope?A._globalScope=C:A._globalScope.map=C),B&&(A._dynamics=B),A._currentScope=A._globalScope,A._scopeStack=[A._currentScope],x(v.types,A,A._globalScope,void 0,z),A._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new g(v))}},{key:"register",value:function(v){v.dynamic&&(d.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(d.error('Cannot register javascript function named "require"'),delete v.require),d.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new p(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||d.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(w,y,x){var v=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),v.map[w]=y,y}},{key:"setDynamic",value:function(x,z,y){var A,w=d.getJsName(x),v=this._globalScope;return z&&z.$isFashionLiteral||(z=this.box(z)),z.ast=z.ast||this.getAstNode(y),z.$referenceName||z.$constant?(A=z.clone(),A.$previousReference=z,z=A,z.ast=this.getAstNode(y)):z.$referenceName=x,v.map[w]=z,z}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new r(w,y)}},{key:"applySplatArgs",value:function(z){var v,x,B,A,y,w=[];for(x=0;x<z.length;x++){if(v=z[x],v&&v.splat&&v.$isFashionList){for(y=v.getItems(),A=0;A<y.length;A++){B=y[A],B&&(B.splatSeparator=v.separator),w.push(B)}}else{w.push(v)}v&&(v.splat=void 0)}return w}},{key:"warn",value:function(){d.warn.apply(d,arguments)}},{key:"debug",value:function(){d.debug.apply(d,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(n);d.apply(c.prototype,{box:b.box,unbox:b.unbox,Scope:p,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:l,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),f.exports=c},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(e,g,b){var i=e("../Base.js"),f=e("../Runtime.js"),d=e("../parse/ValueParser.js"),h=e("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new f}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(p){var u,v,s,m,r,w,t,q=this,n=q.getRuntime(),l=new d,k=q.variableMap;v=new n.Scope;for(m in p){u=i.getJsName(m.replace(q.nameRe,"")),0!==u.indexOf("$")&&(u="$"+u),v.put(u,l.parse(p[m]))}n._globalScope=v,n._currentScope=v;for(var o=0;o<q.calcFns.length;o++){q.calcFns[o](n)}s=new h,p={};for(m in k){r=k[m];for(var o=0;o<r.length;o++){u=r[o],w="$"+i.getJsName(u),t=v.get(w),t&&(t.$isWrapper&&(t=t.value),p[u]=s.toSource(t))}}return p}},{key:"applyVariables",value:function(q){var r=this,k=r.variableMap;for(var l in k){var s=k[l],n=document.querySelectorAll(l);if(n){for(var p=0;p<n.length;p++){for(var o=0;o<s.length;o++){var m=s[o];n[p].style.setProperty("--"+m,q[m])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return i.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var r=this,k=r.variableMap,o={};for(var l in k){var s=k[l],n=document.querySelectorAll(l);if(n){for(var q=0;q<n.length;q++){for(var p=0;p<s.length;p++){var m=s[p];o[m]=n[q].style.getPropertyValue("--"+m)}}}}return o}}]),j}();i.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),g.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,e,m){var c=j("../Base.js"),b=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),d=l.Color,i=l.Text,h=l.Numeric,q=l.List,n=l.Bool,g=l.Literal,p=l.ColorRGBA,o=l.ColorHSLA,f=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var u,v=this,z="",y=v.str,t=y.length,s=!1,x=!1,w=0;v.index<t;){if(u=y[v.index],v.index++,u<=" "&&!s&&!w){if(z.length){break}}else{if(";"===u&&!s&&!x){break}if("("===u&&w++,")"===u&&w&&w--,","===u&&!s&&!x&&!w){if(z.length){v.index--;break}return u}"\\"===u&&s?(x=1,v.index++):('"'!==u&&"'"!==u||(s?s===u&&(s=!1):s=u),x=!1,z+=u)}}return z}},{key:"parseValue",value:function(x){var w,y,z={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===x[0]||"'"===x[0]){return y=x=x.substring(1,x.length-1),new i(y,x[0])}if("true"===x){return new n((!0))}if("false"===x){return new n((!1))}if("null"===x){return g.Null}if("none"===x){return g.None}if(c.Color.map[x]){var v=d.map[x],s=new p(v[0],v[1],v[2],v[3]);return s.stringified=x,s}if(w=z.number.exec(x)){return new h(parseFloat(w[1]),w[2])}if(w=z.shortHexColor.exec(x)){return p.fromHex(w[1])}if(w=z.longHexColor.exec(x)){return p.fromHex(w[1])}if(w=z.functionCall.exec(x)){var u=w[1],t=this.parse(w[2]).items;return"hsla"===u||"hsl"===u?new o(b.unbox(t[0]),b.unbox(t[1]),b.unbox(t[2]),b.unbox(t[3])||1):"rgba"===u||"rgb"===u?new p(b.unbox(t[0]),b.unbox(t[1]),b.unbox(t[2]),b.unbox(t[3])||1):new f(u,t)}return(w=z.parenList.exec(x))?new f(this.parse(w[1])):new c.Literal(x)}},{key:"parse",value:function(y){var v,w=this,x=[],t=[],s=null;for(w.str=y,w.index=0;v=w._advance();){x.push(v)}for(var u=0;u<x.length;u++){v=x[u].trim(),","===x[u+1]?(s=s||[],s.push(w.parseValue(v)),u++):s?(s.push(w.parseValue(v)),t.push(new q(s,", ")),s=null):t.push(w.parseValue(v))}return 1===t.length?t[0]:new q(t," ")}}]),r}();e.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),i=e("./Bool.js"),b=e("./Numeric.js"),h=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return i.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(m,n){var l,p=k.units[n],o=k.types[n],q=k.comps[n];return l="hsla"==o?m.getHSLA():m.getRGBA(),new b(l[q],p)}},{key:"adjust",value:function(m,n,o){var l=m.getHSLA().copy(),q=k.comps[n],p=o.value;return l[q]+=p,l.h=k.constrainDegrees(l.h),l.s=k.constrainPercentage(l.s),l.l=k.constrainPercentage(l.l),l.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);g.apply(h,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),g.apply(h.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),f.exports=h},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,e,c){var f=d("../Base.js"),g=d("./Color.js"),h=d("./ColorRGBA.js"),b=function(j){function i(p,o,m,k){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=g.constrainDegrees(p),n.s=o,n.l=m,void 0!==k&&(n.a=k),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return h.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(o,n,m,k){return new i(g.constrainDegrees(this.h+o),g.constrainPercentage(this.s+n),g.constrainPercentage(this.l+m),g.constrainAlpha(this.a*k))}},{key:"subtract",value:function(n,m,k){return this.add(-n,-m,-k)}},{key:"adjustLightness",value:function(k){return this.l=g.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=g.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(n){if(n.$isFashionHSLA){return n.clone()}var k=n.r/255,q=n.g/255,t=n.b/255,v=n.a,u=Math.max(k,q,t),o=Math.min(k,q,t),w=u-o,p=0,x=0,m=0.5*(u+o);return o!=u&&(x=m<0.5?w/(u+o):w/(2-u-o),p=k==u?60*(q-t)/w:q==u?120+60*(t-k)/w:240+60*(k-q)/w,p<0&&(p+=360),p>=360&&(p-=360)),new i(g.constrainDegrees(p),g.constrainPercentage(100*x),g.constrainPercentage(100*m),v)}}]),i}(g);h.prototype.getHSLA=function(){return b.fromRGBA(this)},f.apply(b.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),e.exports=b},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,e,c){function b(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var f=d("../Base.js"),g=d("./Color.js"),h=function(i){function j(o,n,k,l){_classCallCheck(this,j);var m=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return m.r=Math.min(255,Math.max(0,o)),m.g=Math.min(255,Math.max(0,n)),m.b=Math.min(255,Math.max(0,k)),void 0!==l&&(m.a=Math.min(1,Math.max(0,l))),m}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,p=m(q.r),o=m(q.g),k=m(q.b),l=q.a,n="";return n=1===l?"#"+b(p)+b(o)+b(k):"rgba("+p+", "+o+", "+k+", "+l+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var p=this,m=Math.round,o=m(p.r),n=m(p.g),k=m(p.b),l=m(255*p.a);return"#"+b(l)+b(o)+b(n)+b(k)}},{key:"add",value:function(n,m,k,l){return new j(this.r+n,this.g+m,this.b+k,this.a*l)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(o){"#"==o.charAt(0)&&(o=o.substr(1));var n,m,l;3===o.length?(n=parseInt(o.charAt(0),16),m=parseInt(o.charAt(1),16),l=parseInt(o.charAt(2),16),n=(n<<4)+n,m=(m<<4)+m,l=(l<<4)+l):(n=parseInt(o.substring(0,2),16),m=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16));var k=new j(n,m,l);return j.preserveInputStrings&&(k.stringified="#"+o),k}},{key:"fromHSLA",value:function(o){function t(l){return l<0&&++l,l>1&&--l,6*l<1?x+(w-x)*l*6:2*l<1?w:3*l<2?x+(w-x)*(2/3-l)*6:x}if(o.$isFashionRGBA){return o.clone()}var m=o,p=m.h/360,y=m.s/100,n=m.l/100,v=m.a,w=n<=0.5?n*(y+1):n+y-n*y,x=2*n-w,k=g.constrainChannel(255*t(p+1/3)),q=g.constrainChannel(255*t(p)),u=g.constrainChannel(255*t(p-1/3));return new j(k,q,u,v)}}]),j}(g);f.apply(h,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),f.apply(h.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new h(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new h(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),e.exports=h,function(s,o,l,q){var n,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=Object.keys(l);for(r.sort(),n=0;n<r.length;n++){var j=r[n],k=l[j],m=new s(k[0],k[1],k[2],k[3]),p=m.stringify();o[p]=j}t.forEach(function(i){var u=i+i;t.forEach(function(v){var w=v+v;t.forEach(function(y){var A=y+y,x="#"+i+v+y,z="#"+u+w+A;if(q[z]){var B=q[z];x=B.length>x.length?x:B}q[z]=x})})})}(h,h.stringifiedMap,g.map,h.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(f,g,e){var h=f("../Base.js"),d=f("./Type.js"),b=f("./Numeric.js"),c=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new b(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(d);h.apply(c.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),g.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=d("./List.js"),h=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new e(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(b);g.apply(h.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),f.exports=h},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("top"),j.push("bottom"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(linear, "+j.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var k=this.items,j=k.length,l=[],m=0;m<j;m++){l.push(k[m].clone())}return new i(l,this.separator)}},{key:"clone",value:function(m,o){if(o&&this.matches(m)){return o.clone()}for(var k=this.items,j=k.length,l=[],n=0;n<j;n++){l.push(k[n].clone(m,o))}var p=new i(l,this.separator);return p.$referenceName=this.$referenceName,p.$referenceBase=this.$referenceBase,p.$previousReference=this.$previousReference,p}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(m){for(var j=[],k=0;k<this.items.length;k++){var l=this.items[k];l&&j.push(l.toPrefixedString(m))}return j.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(f,g,e){var h=f("../Base.js"),d=f("./Type.js"),b=f("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=d.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=d.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new b(l+1)}}},{key:"insert",value:function(n,l){var o=d.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(d);h.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var i=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);h.apply(i.prototype,{$isFashionNull:!0,$constant:!0}),i.prototype.$isFashionNull=!0,c.Null=new i(null),c.None=new c("none"),g.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(g,e,i){var c=g("../Base.js"),k=g("./List.js"),b=g("./Type.js"),h=g("./Literal.js"),j=h.Null,f=g("./Numeric.js"),d=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof f&&(n=b.unbox(n)),"number"==typeof n?new k([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||j)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(k);c.apply(d.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),e.exports=d},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(f,g,e){var h=f("../Base.js"),d=f("./Type.js"),i=f("./Bool.js"),c=f("./Literal.js"),b=function(k){function j(o,n,p,m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=o,l.unit=n,n&&!p?l.numeratorUnits=[n]:l.numeratorUnits=p||[],l.denominatorUnits=m||[],l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(l,m){var n;this.unit||m.unit;return m.$isFashionRGBA||m.$isFashionHSLA?new c(this+l+m):m.$isFashionNumber?this.numericOperate(l,m):m.$isFashionLiteral&&(n=this.tryCoerce(m))?this.performOperation(l,n):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,l,m)}},{key:"tryNormalize",value:function(l){var n=l.value,m=l.unit;if(l.$isFashionNumber){switch(this.unit){case"mm":switch(m){case"in":return new j(25.4*n,"mm");case"cm":return new j(2.54*n,"mm")}break;case"cm":switch(m){case"in":return new j(2.54*n,"cm");case"mm":return new j(n/10,"cm")}break;case"in":switch(m){case"mm":return new j(n/25.4,"in");case"cm":return new j(n/2.54,"in")}break;case"ms":switch(m){case"s":return new j(1000*n,"ms")}break;case"s":switch(m){case"ms":return new j(n/1000,"s")}break;case"Hz":switch(m){case"kHz":return new j(1000*n,"Hz")}break;case"kHz":switch(m){case"Hz":return new j(n/1000,"kHz")}break;case"%":switch(m){default:return new j(n)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(l){var n=this.unit,m=l.unit;return !!l.$isFashionNumber&&(n===m||"mm"===n&&("in"===m||"cm"===m)||"cm"===n&&("in"===m||"mm"===m)||"in"===n&&("mm"===m||"cm"===m)||"ms"===n&&"s"===m||"s"===n&&"ms"===m||"Hz"===n&&"kHz"===m||"kHz"===n&&"Hz"===m)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=h.filter(l.num,function(m){return !!m}),l.den=h.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(n,t){this.normalizeUnits(),t.normalizeUnits();var u,s=this,r=t,m=j.OPERATIONS,l=j.NON_COERCE_OPERATIONS,o=m[n];if(o){try{s.unitless()?s=s.coerceUnits(r.numeratorUnits,r.denominatorUnits):r=r.coerceUnits(s.numeratorUnits,s.denominatorUnits)}catch(q){if("=="==n){return i.False}if("!="==n){return i.True}throw q}}else{o=l[n]}if(o&&(u=o(s.value,r.value)),"number"==typeof u){var p=this.computeUnits(s,r,n);return new j(u,p.num.length?p.num[0]:null,p.num,p.den)}return new i(u)}},{key:"computeUnits",value:function(m,l,n){switch(n){case"*":return{num:m.numeratorUnits.slice().concat(l.numeratorUnits),den:m.denominatorUnits.slice().concat(l.denominatorUnits)};case"/":return{num:m.numeratorUnits.slice().concat(l.denominatorUnits),den:m.denominatorUnits.slice().concat(l.numeratorUnits)};default:return{num:m.numeratorUnits,den:m.denominatorUnits}}}},{key:"coerceUnits",value:function(l,m){var n=this.value;return this.unitless()||(n=n*this.coercionFactor(this.numeratorUnits,l)/this.coercionFactor(this.denominatorUnits,m)),new j(n,l&&l[0],l,m)}},{key:"coercionFactor",value:function(r,m){var s=this.removeCommonUnits(r,m),u=s.num,o=s.den;u.length===o.length&&this.convertable(u||o)||h.raise("Incompatible units: "+u.join("*")+" and "+o.join("*"));for(var q=0;q<u.length;q++){for(var n=u[q],p=0;p<o.length;p++){var l=o[p],t=this.conversionFactor(n,l);if(null!==t){return t}}}return 1}},{key:"conversionFactor",value:function(o,n){var p=j.CONVERTABLE_UNITS,l=j.CONVERSION_TABLE,m=null;return p[o]&&p[n]&&(m=l[p[o]][p[n]]),null===m&&p[n]&&p[o]&&(m=1/l[p[n]][p[o]]),m}},{key:"convertable",value:function(l){if(l&&!Array.isArray(l)&&(l=[l]),l&&l.length){for(var n=j.CONVERTABLE_UNITS,m=0;m<l.length;m++){if(void 0===n[l[m]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(n,o){var m,p,p,q={},l=[],r=[];for(m=0;m<n.length;m++){p=n[m],q[p]=(q[p]||0)+1}for(m=0;m<o.length;m++){p=o[m],q[p]=(q[p]||0)-1}for(m=0;m<n.length;m++){p=n[m],q[p]>0&&(l.push(p),q[p]--)}for(m=0;m<o.length;m++){p=o[m],q[p]<0&&(r.push(p),q[p]++)}return{num:l,den:r}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(d);h.apply(b,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),h.apply(b.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),g.exports=b},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(j,l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.position=j,k.stops=m,k.shape=l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("center 0%"),j.push("center 100%"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(radial, "+j.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,f,c){var h=d("../Base.js"),e=d("./TypeVisitor.js"),b=d("../Output.js"),g=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(o){for(var r,l=this.output,q=o.items,p=l.output.length,t=o.separator,s=t&&t.length,k=t&&t.indexOf(" ")>-1,m=l.output,n=0;n<q.length;n++){q[n]&&(this.visit(q[n]),r=l.output.length-p,!r&&s&&n>0&&(l.output=m),m=l.output,n<q.length-1&&s&&(l.add(t),k||l.space()),p=l.output.length)}}},{key:"map",value:function(p){var n,o,l=this.output,k=p.items;this.currDeclaration&&h.raise("("+p+") isn't a valid CSS value.");for(var m=0;m<k.length-1;m+=2){n=k[m],o=k[m+1],n&&o&&(m>0&&(l.add(","),l.space()),this.visit(n),l.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new b,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(e);h.apply(g.prototype,{output:null}),f.exports=g},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(h,k,j,i){k=k||"fashion",j=j||RegExp("^\\s*//#\\s*"+k+"\\s*\\+?"+h+"s*$"),i=i||RegExp("^\\s*//#\\s*"+k+"\\s*\\-"+h+"\\s*$");var n=this.docs;if(n&&n.length){for(var m=0;m<this.docs.length;m++){var l=n[m];if(j.test(l)){return !0}if(i.test(l)){return !1}}}return this.parentNode?this.parentNode.hasTag(h,k,j,i):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(j){for(;j&&void 0!==j.visitTarget;){j=j.visitTarget}if(j){if(Array.isArray(j)){for(var h=0;h<j.length;h++){this.visit(j[h])}}else{this.visitItem(j)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(f,e,d){return e in f?Object.defineProperty(f,e,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[e]=d,f}var _get=function get(g,j,k){null===g&&(g=Function.prototype);var i=Object.getOwnPropertyDescriptor(g,j);if(void 0===i){var l=Object.getPrototypeOf(g);return null===l?void 0:get(l,j,k)}if("value" in i){return i.value}var h=i.get;if(void 0!==h){return h.call(k)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,j,a){var k,i=m("./src/export/Base.js"),n=m("./src/export/css/CssVariableManager.js"),l=new n;i.apply(i,(k={css:l,CssExport:n,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(k,"Types",m("./src/export/type/Types.js")),_defineProperty(k,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(k,"Output",m("./src/export/Output.js")),_defineProperty(k,"Runtime",m("./src/export/Runtime.js")),k)),j.exports=i},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(S,X,a){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function V(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?V(d,c):g[e]=c):g[e]=c}}return g}function ab(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function Z(c){return c&&"function"==typeof c}function O(d,c){console.log(ab("[DBG] "+d,c))}function U(d,c){console.log(ab("[LOG] "+d,c))}function G(d,c){console.log(ab("[INF] "+d,c))}function H(d,c){console.log(ab("[WRN] "+d,c))}function I(d,c){console.log(ab("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function R(d,c){var e;c&&(d=ab(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function Q(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function T(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function aa(c){return c.length&&c[c.length-1]}function L(c){return c.length>2?c.slice(1):[]}function Y(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function K(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;Y(f,P.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function N(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?N(e,d-1,g):g.push(e)}return g}var W=S("./../NameConverter.js"),P=function P(c){_classCallCheck(this,P),c&&V(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return aa(this.items)}},{key:"tail",value:function(){return L(this.items)}}]),c}();C.prototype.items=null;var M=Object.create||function(c){return D.prototype=c,new D};X.exports={EmptyArray:[],getJsName:W.getJsName,chain:M,Base:P,BaseSet:C,apply:J,merge:V,createMessage:ab,isFunction:Z,debug:O,log:U,info:G,warn:H,error:I,raise:F,raiseAt:R,filter:Q,convert:T,first:E,last:aa,tail:L,mixin:K,flatten:N}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(y,D,w){var F=y("./Base.js"),v=F.Base,H=y("./type/Type.js"),a=y("./type/List.js"),u=y("./type/Bool.js"),E=y("./type/Color.js"),s=y("./type/ColorRGBA.js"),z=y("./type/Text.js"),A=y("./type/Literal.js"),B=y("./type/Statics.js"),C=y("./type/TypeVisitor.js"),x=y("./type/Types.js"),t=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();F.apply(t.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var G=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:B.boxType,unbox:B.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(o,j){for(var m,k={},i=0,l=0;l<o.length;l++){var n=o[l];if(void 0!==n){if(n===!0||n===!1){k[j[i]]=n,i++}else{if(void 0===n.type){for(m in n){k[m.replace(/^\$/,"")]=n[m]}}else{m=j[i],m instanceof Array?(m=m[0],k[m]=k[m]||new a,k[m].add(n)):(k[m]=n,i++)}}}}return k},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new u(f)}},{key:"color",value:function d(f){var g=E.map[f],h=new s(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new z(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new A(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(f){f=f||this.types;for(var h,j=Object.getOwnPropertyNames(f),i=[],g=0;g<j.length;g++){h=j[g],i.push(h+" = Types."+h),i.push("__"+h+" = "+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(j){j=j||this.constructor.prototype;for(var f,h,i=[];j;){f=Object.getOwnPropertyNames(j);for(var g=0;g<f.length;g++){h=f[g],"function"==typeof j[h]&&i.push("__rt_"+h+" = __rt."+h+".bind(__rt)")}j=Object.getPrototypeOf(j)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var h,f=Object.getOwnPropertyNames(this),i=[],g=0;g<f.length;g++){h=f[g],i.push("__rt_"+h+" = __rt."+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(F,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,l){var i=m||h,j=l||{};return i.reset(),k&&(k.$isScope?i._globalScope=k:i._globalScope.map=k),l&&(i._dynamics=l),i._currentScope=i._globalScope,i._scopeStack=[i._currentScope],f(h.types,i,i._globalScope,void 0,j),i._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new C(f))}},{key:"register",value:function(f){f.dynamic&&(F.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(F.error('Cannot register javascript function named "require"'),delete f.require),F.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new t(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||F.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(g,i,f){var h=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(f),h.map[g]=i,i}},{key:"setDynamic",value:function(g,j,k){var f,h=F.getJsName(g),i=this._globalScope;return j&&j.$isFashionLiteral||(j=this.box(j)),j.ast=j.ast||this.getAstNode(k),j.$referenceName||j.$constant?(f=j.clone(),f.$previousReference=j,j=f,j.ast=this.getAstNode(k)):j.$referenceName=g,i.map[h]=j,j}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new a(m,k)}},{key:"applySplatArgs",value:function(j){var i,g,l,f,k,h=[];for(g=0;g<j.length;g++){if(i=j[g],i&&i.splat&&i.$isFashionList){for(k=i.getItems(),f=0;f<k.length;f++){l=k[f],l&&(l.splatSeparator=i.separator),h.push(l)}}else{h.push(i)}i&&(i.splat=void 0)}return h}},{key:"warn",value:function(){F.warn.apply(F,arguments)}},{key:"debug",value:function(){F.debug.apply(F,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(v);F.apply(G.prototype,{box:H.box,unbox:H.unbox,Scope:t,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:x,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),D.exports=G},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(n,l,a){var j=n("../Base.js"),m=n("../Runtime.js"),o=n("../parse/ValueParser.js"),k=n("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new m}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(f){var B,A,D,i,d,z,C,e=this,h=e.getRuntime(),x=new o,y=e.variableMap;A=new h.Scope;for(i in f){B=j.getJsName(i.replace(e.nameRe,"")),0!==B.indexOf("$")&&(B="$"+B),A.put(B,x.parse(f[i]))}h._globalScope=A,h._currentScope=A;for(var g=0;g<e.calcFns.length;g++){e.calcFns[g](h)}D=new k,f={};for(i in y){d=y[i];for(var g=0;g<d.length;g++){B=d[g],z="$"+j.getJsName(B),C=A.get(z),C&&(C.$isWrapper&&(C=C.value),f[B]=D.toSource(C))}}return f}},{key:"applyVariables",value:function(e){var d=this,u=d.variableMap;for(var t in u){var v=u[t],h=document.querySelectorAll(t);if(h){for(var f=0;f<h.length;f++){for(var g=0;g<v.length;g++){var i=v[g];h[f].style.setProperty("--"+i,e[i])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return j.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var d=this,u=d.variableMap,g={};for(var t in u){var v=u[t],h=document.querySelectorAll(t);if(h){for(var e=0;e<h.length;e++){for(var f=0;f<v.length;f++){var i=v[f];g[i]=h[e].style.getPropertyValue("--"+i)}}}}return g}}]),c}();j.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),l.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,C,u){var E=x("../Base.js"),F=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),D=v.Color,y=v.Text,z=v.Numeric,a=v.List,t=v.Bool,A=v.Literal,r=v.ColorRGBA,s=v.ColorHSLA,B=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var g,f=this,j="",k=f.str,h=k.length,i=!1,d=!1,e=0;f.index<h;){if(g=k[f.index],f.index++,g<=" "&&!i&&!e){if(j.length){break}}else{if(";"===g&&!i&&!d){break}if("("===g&&e++,")"===g&&e&&e--,","===g&&!i&&!d&&!e){if(j.length){f.index--;break}return g}"\\"===g&&i?(d=1,f.index++):('"'!==g&&"'"!==g||(i?i===g&&(i=!1):i=g),d=!1,j+=g)}}return j}},{key:"parseValue",value:function(d){var e,k,j={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===d[0]||"'"===d[0]){return k=d=d.substring(1,d.length-1),new y(k,d[0])}if("true"===d){return new t((!0))}if("false"===d){return new t((!1))}if("null"===d){return A.Null}if("none"===d){return A.None}if(E.Color.map[d]){var f=D.map[d],i=new r(f[0],f[1],f[2],f[3]);return i.stringified=d,i}if(e=j.number.exec(d)){return new z(parseFloat(e[1]),e[2])}if(e=j.shortHexColor.exec(d)){return r.fromHex(e[1])}if(e=j.longHexColor.exec(d)){return r.fromHex(e[1])}if(e=j.functionCall.exec(d)){var g=e[1],h=this.parse(e[2]).items;return"hsla"===g||"hsl"===g?new s(F.unbox(h[0]),F.unbox(h[1]),F.unbox(h[2]),F.unbox(h[3])||1):"rgba"===g||"rgb"===g?new r(F.unbox(h[0]),F.unbox(h[1]),F.unbox(h[2]),F.unbox(h[3])||1):new B(g,h)}return(e=j.parenList.exec(d))?new B(this.parse(e[1])):new E.Literal(d)}},{key:"parse",value:function(j){var f,e=this,d=[],h=[],i=null;for(e.str=j,e.index=0;f=e._advance();){d.push(f)}for(var g=0;g<d.length;g++){f=d[g].trim(),","===d[g+1]?(i=i||[],i.push(e.parseValue(f)),g++):i?(i.push(e.parseValue(f)),h.push(new a(i,", ")),i=null):h.push(e.parseValue(f))}return 1===h.length?h[0]:new a(h," ")}}]),c}();C.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(n,m,o){var l=n("../Base.js"),p=n("./Type.js"),j=n("./Bool.js"),a=n("./Numeric.js"),k=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return j.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(e,r){var f,h=c.units[r],i=c.types[r],g=c.comps[r];return f="hsla"==i?e.getHSLA():e.getRGBA(),new a(f[g],h)}},{key:"adjust",value:function(e,r,i){var f=e.getHSLA().copy(),g=c.comps[r],h=i.value;return f[g]+=h,f.h=c.constrainDegrees(f.h),f.s=c.constrainPercentage(f.s),f.l=c.constrainPercentage(f.l),f.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);l.apply(k,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),l.apply(k.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),m.exports=k},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,l,n){var k=m("../Base.js"),j=m("./Color.js"),i=m("./ColorRGBA.js"),a=function(c){function d(g,h,e,f){_classCallCheck(this,d);var q=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return q.h=j.constrainDegrees(g),q.s=h,q.l=e,void 0!==f&&(q.a=f),q}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return i.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(g,h,e,f){return new d(j.constrainDegrees(this.h+g),j.constrainPercentage(this.s+h),j.constrainPercentage(this.l+e),j.constrainAlpha(this.a*f))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=j.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=j.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(h){if(h.$isFashionHSLA){return h.clone()}var s=h.r/255,e=h.g/255,C=h.b/255,A=h.a,B=Math.max(s,e,C),g=Math.min(s,e,C),z=B-g,f=0,y=0,r=0.5*(B+g);return g!=B&&(y=r<0.5?z/(B+g):z/(2-B-g),f=s==B?60*(e-C)/z:e==B?120+60*(C-s)/z:240+60*(s-e)/z,f<0&&(f+=360),f>=360&&(f-=360)),new d(j.constrainDegrees(f),j.constrainPercentage(100*y),j.constrainPercentage(100*r),A)}}]),d}(j);i.prototype.getHSLA=function(){return a.fromRGBA(this)},k.apply(a.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),l.exports=a},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,l,n){function a(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var k=m("../Base.js"),j=m("./Color.js"),i=function(d){function c(h,p,g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.r=Math.min(255,Math.max(0,h)),e.g=Math.min(255,Math.max(0,p)),e.b=Math.min(255,Math.max(0,g)),void 0!==f&&(e.a=Math.min(1,Math.max(0,f))),e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,r=e(h.r),s=e(h.g),g=e(h.b),f=h.a,t="";return t=1===f?"#"+a(r)+a(s)+a(g):"rgba("+r+", "+s+", "+g+", "+f+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var h=this,e=Math.round,q=e(h.r),r=e(h.g),g=e(h.b),f=e(255*h.a);return"#"+a(f)+a(q)+a(r)+a(g)}},{key:"add",value:function(h,e,g,f){return new c(this.r+h,this.g+e,this.b+g,this.a*f)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(h){"#"==h.charAt(0)&&(h=h.substr(1));var p,e,f;3===h.length?(p=parseInt(h.charAt(0),16),e=parseInt(h.charAt(1),16),f=parseInt(h.charAt(2),16),p=(p<<4)+p,e=(e<<4)+e,f=(f<<4)+f):(p=parseInt(h.substring(0,2),16),e=parseInt(h.substring(2,4),16),f=parseInt(h.substring(4,6),16));var g=new c(p,e,f);return c.preserveInputStrings&&(g.stringified="#"+h),g}},{key:"fromHSLA",value:function(g){function E(o){return o<0&&++o,o>1&&--o,6*o<1?A+(B-A)*o*6:2*o<1?B:3*o<2?A+(B-A)*(2/3-o)*6:A}if(g.$isFashionRGBA){return g.clone()}var r=g,f=r.h/360,z=r.s/100,h=r.l/100,C=r.a,B=h<=0.5?h*(z+1):h+z-h*z,A=2*h-B,s=j.constrainChannel(255*E(f+1/3)),e=j.constrainChannel(255*E(f)),D=j.constrainChannel(255*E(f-1/3));return new c(s,e,D,C)}}]),c}(j);k.apply(i,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),k.apply(i.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new i(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new i(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),l.exports=i,function(y,f,u,d){var g,x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=Object.keys(u);for(c.sort(),g=0;g<c.length;g++){var w=c[g],v=u[w],h=new y(v[0],v[1],v[2],v[3]),e=h.stringify();f[e]=w}x.forEach(function(p){var o=p+p;x.forEach(function(r){var q=r+r;x.forEach(function(E){var t=E+E,s="#"+p+r+E,C="#"+o+q+t;if(d[C]){var D=d[C];s=D.length>s.length?s:D}d[C]=s})})})}(i,i.stringifiedMap,j.map,i.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(k,j,l){var i=k("../Base.js"),m=k("./Type.js"),a=k("./Numeric.js"),n=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new a(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(m);i.apply(n.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),j.exports=n},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,k,n){var j=m("../Base.js"),a=m("./Type.js"),l=m("./List.js"),i=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new l(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(a);j.apply(i.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),k.exports=i},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("top"),n.push("bottom"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(linear, "+n.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var g=this.items,n=g.length,f=[],e=0;e<n;e++){f.push(g[e].clone())}return new c(f,this.separator)}},{key:"clone",value:function(e,s){if(s&&this.matches(e)){return s.clone()}for(var g=this.items,q=g.length,f=[],t=0;t<q;t++){f.push(g[t].clone(e,s))}var r=new c(f,this.separator);return r.$referenceName=this.$referenceName,r.$referenceBase=this.$referenceBase,r.$previousReference=this.$previousReference,r}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(e){for(var n=[],g=0;g<this.items.length;g++){var f=this.items[g];f&&n.push(f.toPrefixedString(e))}return n.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(m,l,n){var k=m("../Base.js"),o=m("./Type.js"),a=m("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=o.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=o.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new a(f+1)}}},{key:"insert",value:function(h,f){var g=o.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(o);k.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var j=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);k.apply(j.prototype,{$isFashionNull:!0,$constant:!0}),j.prototype.$isFashionNull=!0,p.Null=new j(null),p.None=new p("none"),l.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(o,q,m){var s=o("../Base.js"),a=o("./List.js"),t=o("./Type.js"),n=o("./Literal.js"),l=n.Null,p=o("./Numeric.js"),r=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof p&&(e=t.unbox(e)),"number"==typeof e?new a([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||l)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(a);s.apply(r.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),q.exports=r},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(m,l,n){var k=m("../Base.js"),o=m("./Type.js"),j=m("./Bool.js"),p=m("./Literal.js"),a=function(c){function d(h,i,g,e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=h,f.unit=i,i&&!g?f.numeratorUnits=[i]:f.numeratorUnits=g||[],f.denominatorUnits=e||[],f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(f,e){var g;this.unit||e.unit;return e.$isFashionRGBA||e.$isFashionHSLA?new p(this+f+e):e.$isFashionNumber?this.numericOperate(f,e):e.$isFashionLiteral&&(g=this.tryCoerce(e))?this.performOperation(f,g):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,f,e)}},{key:"tryNormalize",value:function(f){var g=f.value,e=f.unit;if(f.$isFashionNumber){switch(this.unit){case"mm":switch(e){case"in":return new d(25.4*g,"mm");case"cm":return new d(2.54*g,"mm")}break;case"cm":switch(e){case"in":return new d(2.54*g,"cm");case"mm":return new d(g/10,"cm")}break;case"in":switch(e){case"mm":return new d(g/25.4,"in");case"cm":return new d(g/2.54,"in")}break;case"ms":switch(e){case"s":return new d(1000*g,"ms")}break;case"s":switch(e){case"ms":return new d(g/1000,"s")}break;case"Hz":switch(e){case"kHz":return new d(1000*g,"Hz")}break;case"kHz":switch(e){case"Hz":return new d(g/1000,"kHz")}break;case"%":switch(e){default:return new d(g)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(f){var g=this.unit,e=f.unit;return !!f.$isFashionNumber&&(g===e||"mm"===g&&("in"===e||"cm"===e)||"cm"===g&&("in"===e||"mm"===e)||"in"===g&&("mm"===e||"cm"===e)||"ms"===g&&"s"===e||"s"===g&&"ms"===e||"Hz"===g&&"kHz"===e||"kHz"===g&&"Hz"===e)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=k.filter(e.num,function(f){return !!f}),e.den=k.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(i,y){this.normalizeUnits(),y.normalizeUnits();var x,z=this,e=y,v=d.OPERATIONS,w=d.NON_COERCE_OPERATIONS,h=v[i];if(h){try{z.unitless()?z=z.coerceUnits(e.numeratorUnits,e.denominatorUnits):e=e.coerceUnits(z.numeratorUnits,z.denominatorUnits)}catch(f){if("=="==i){return j.False}if("!="==i){return j.True}throw f}}else{h=w[i]}if(h&&(x=h(z.value,e.value)),"number"==typeof x){var g=this.computeUnits(z,e,i);return new d(x,g.num.length?g.num[0]:null,g.num,g.den)}return new j(x)}},{key:"computeUnits",value:function(e,f,g){switch(g){case"*":return{num:e.numeratorUnits.slice().concat(f.numeratorUnits),den:e.denominatorUnits.slice().concat(f.denominatorUnits)};case"/":return{num:e.numeratorUnits.slice().concat(f.denominatorUnits),den:e.denominatorUnits.slice().concat(f.numeratorUnits)};default:return{num:e.numeratorUnits,den:e.denominatorUnits}}}},{key:"coerceUnits",value:function(f,e){var g=this.value;return this.unitless()||(g=g*this.coercionFactor(this.numeratorUnits,f)/this.coercionFactor(this.denominatorUnits,e)),new d(g,f&&f[0],f,e)}},{key:"coercionFactor",value:function(e,v){var z=this.removeCommonUnits(e,v),x=z.num,h=z.den;x.length===h.length&&this.convertable(x||h)||k.raise("Incompatible units: "+x.join("*")+" and "+h.join("*"));for(var f=0;f<x.length;f++){for(var i=x[f],g=0;g<h.length;g++){var w=h[g],y=this.conversionFactor(i,w);if(null!==y){return y}}}return 1}},{key:"conversionFactor",value:function(h,i){var g=d.CONVERTABLE_UNITS,f=d.CONVERSION_TABLE,e=null;return g[h]&&g[i]&&(e=f[g[h]][g[i]]),null===e&&g[i]&&g[h]&&(e=1/f[g[i]][g[h]]),e}},{key:"convertable",value:function(f){if(f&&!Array.isArray(f)&&(f=[f]),f&&f.length){for(var g=d.CONVERTABLE_UNITS,e=0;e<f.length;e++){if(void 0===g[f[e]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(t,s){var e,i,i,h={},f=[],g=[];for(e=0;e<t.length;e++){i=t[e],h[i]=(h[i]||0)+1}for(e=0;e<s.length;e++){i=s[e],h[i]=(h[i]||0)-1}for(e=0;e<t.length;e++){i=t[e],h[i]>0&&(f.push(i),h[i]--)}for(e=0;e<s.length;e++){i=s[e],h[i]<0&&(g.push(i),h[i]++)}return{num:f,den:g}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(o);k.apply(a,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),k.apply(a.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),l.exports=a},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(n,f,e){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.position=n,g.stops=e,g.shape=f,g}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("center 0%"),n.push("center 100%"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(radial, "+n.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,k,n){var i=m("../Base.js"),l=m("./TypeVisitor.js"),a=m("../Output.js"),j=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(h){for(var e,w=this.output,f=h.items,g=w.output.length,y=h.separator,z=y&&y.length,x=y&&y.indexOf(" ")>-1,v=w.output,u=0;u<f.length;u++){f[u]&&(this.visit(f[u]),e=w.output.length-g,!e&&z&&u>0&&(w.output=v),v=w.output,u<f.length-1&&z&&(w.add(y),x||w.space()),g=w.output.length)}}},{key:"map",value:function(h){var r,q,f=this.output,g=h.items;this.currDeclaration&&i.raise("("+h+") isn't a valid CSS value.");for(var e=0;e<g.length-1;e+=2){r=g[e],q=g[e+1],r&&q&&(e>0&&(f.add(","),f.space()),this.visit(r),f.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new a,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(l);i.apply(j.prototype,{output:null}),k.exports=j},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(q,f,o,p){f=f||"fashion",o=o||RegExp("^\\s*//#\\s*"+f+"\\s*\\+?"+q+"s*$"),p=p||RegExp("^\\s*//#\\s*"+f+"\\s*\\-"+q+"\\s*$");var r=this.docs;if(r&&r.length){for(var d=0;d<this.docs.length;d++){var e=r[d];if(o.test(e)){return !0}if(p.test(e)){return !1}}}return this.parentNode?this.parentNode.hasTag(q,f,o,p):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var _get=function get(f,c,b){null===f&&(f=Function.prototype);var d=Object.getOwnPropertyDescriptor(f,c);if(void 0===d){var a=Object.getPrototypeOf(f);return null===a?void 0:get(a,c,b)}if("value" in d){return d.value}var e=d.get;if(void 0!==e){return e.call(b)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,f,d){var e,g=b("./src/export/Base.js"),h=b("./src/export/css/CssVariableManager.js"),c=new h;g.apply(g,(e={css:c,CssExport:h,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(e,"Types",b("./src/export/type/Types.js")),_defineProperty(e,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(e,"Output",b("./src/export/Output.js")),_defineProperty(e,"Runtime",b("./src/export/Runtime.js")),e)),f.exports=g},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(i,d,A){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function f(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?f(F,G):C[E]=G):C[E]=G}}return C}function z(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function b(C){return C&&"function"==typeof C}function m(C,D){console.log(z("[DBG] "+C,D))}function g(C,D){console.log(z("[LOG] "+C,D))}function u(C,D){console.log(z("[INF] "+C,D))}function t(C,D){console.log(z("[WRN] "+C,D))}function s(C,D){console.log(z("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function j(D,E){var C;E&&(D=z(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function k(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function h(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function B(C){return C.length&&C[C.length-1]}function p(C){return C.length>2?C.slice(1):[]}function c(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function q(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;c(E,l.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function n(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?n(E,F-1,C):C.push(E)}return C}var e=i("./../NameConverter.js"),l=function l(C){_classCallCheck(this,l),C&&f(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return B(this.items)}},{key:"tail",value:function(){return p(this.items)}}]),C}();y.prototype.items=null;var o=Object.create||function(C){return x.prototype=C,new x};d.exports={EmptyArray:[],getJsName:e.getJsName,chain:o,Base:l,BaseSet:y,apply:r,merge:f,createMessage:z,isFunction:b,debug:m,log:g,info:u,warn:t,error:s,raise:v,raiseAt:j,filter:k,convert:h,first:w,last:B,tail:p,mixin:q,flatten:n}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(g,b,j){var p=g("./Base.js"),l=p.Base,k=g("./type/Type.js"),i=g("./type/List.js"),n=g("./type/Bool.js"),r=g("./type/Color.js"),q=g("./type/ColorRGBA.js"),f=g("./type/Text.js"),e=g("./type/Literal.js"),d=g("./type/Statics.js"),c=g("./type/TypeVisitor.js"),h=g("./type/Types.js"),o=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(o.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var m=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:d.boxType,unbox:d.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(D,B){for(var y,A={},C=0,z=0;z<D.length;z++){var E=D[z];if(void 0!==E){if(E===!0||E===!1){A[B[C]]=E,C++}else{if(void 0===E.type){for(y in E){A[y.replace(/^\$/,"")]=E[y]}}else{y=B[C],y instanceof Array?(y=y[0],A[y]=A[y]||new i,A[y].add(E)):(A[y]=E,C++)}}}}return A},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new n(v)}},{key:"color",value:function t(x){var w=r.map[x],v=new q(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new f(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new e(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(z){z=z||this.types;for(var x,v=Object.getOwnPropertyNames(z),w=[],y=0;y<v.length;y++){x=v[y],w.push(x+" = Types."+x),w.push("__"+x+" = "+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(v){v=v||this.constructor.prototype;for(var z,x,w=[];v;){z=Object.getOwnPropertyNames(v);for(var y=0;y<z.length;y++){x=z[y],"function"==typeof v[x]&&w.push("__rt_"+x+" = __rt."+x+".bind(__rt)")}v=Object.getPrototypeOf(v)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var w,y=Object.getOwnPropertyNames(this),v=[],x=0;x<y.length;x++){w=y[x],v.push("__rt_"+w+" = __rt."+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,z){var C=y||v,B=z||{};return C.reset(),A&&(A.$isScope?C._globalScope=A:C._globalScope.map=A),z&&(C._dynamics=z),C._currentScope=C._globalScope,C._scopeStack=[C._currentScope],x(v.types,C,C._globalScope,void 0,B),C._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new c(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new o(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(x,v,y){var w=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(y),w.map[x]=v,v}},{key:"setDynamic",value:function(z,w,v){var A,y=p.getJsName(z),x=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),w.$referenceName||w.$constant?(A=w.clone(),A.$previousReference=w,w=A,w.ast=this.getAstNode(v)):w.$referenceName=z,x.map[y]=w,w}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new i(w,y)}},{key:"applySplatArgs",value:function(x){var y,A,v,B,w,z=[];for(A=0;A<x.length;A++){if(y=x[A],y&&y.splat&&y.$isFashionList){for(w=y.getItems(),B=0;B<w.length;B++){v=w[B],v&&(v.splatSeparator=y.separator),z.push(v)}}else{z.push(y)}y&&(y.splat=void 0)}return z}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(l);p.apply(m.prototype,{box:k.box,unbox:k.unbox,Scope:o,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:h,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),b.exports=m},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(i,d,c){var f=i("../Base.js"),b=i("../Runtime.js"),h=i("../parse/ValueParser.js"),e=i("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new b}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(r){var m,n,k,o,t,u,l,s=this,p=s.getRuntime(),w=new h,v=s.variableMap;n=new p.Scope;for(o in r){m=f.getJsName(o.replace(s.nameRe,"")),0!==m.indexOf("$")&&(m="$"+m),n.put(m,w.parse(r[o]))}p._globalScope=n,p._currentScope=n;for(var q=0;q<s.calcFns.length;q++){s.calcFns[q](p)}k=new e,r={};for(o in v){t=v[o];for(var q=0;q<t.length;q++){m=t[q],u="$"+f.getJsName(m),l=n.get(u),l&&(l.$isWrapper&&(l=l.value),r[m]=k.toSource(l))}}return r}},{key:"applyVariables",value:function(o){var p=this,r=p.variableMap;for(var s in r){var q=r[s],l=document.querySelectorAll(s);if(l){for(var n=0;n<l.length;n++){for(var m=0;m<q.length;m++){var k=q[m];l[n].style.setProperty("--"+k,o[k])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return f.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var p=this,r=p.variableMap,m={};for(var s in r){var q=r[s],l=document.querySelectorAll(s);if(l){for(var o=0;o<l.length;o++){for(var n=0;n<q.length;n++){var k=q[n];m[k]=l[o].style.getPropertyValue("--"+k)}}}}return m}}]),j}();f.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),d.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,d,m){var q=j("../Base.js"),o=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),c=l.Color,h=l.Text,g=l.Numeric,i=l.List,n=l.Bool,f=l.Literal,b=l.ColorRGBA,p=l.ColorHSLA,e=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var w,x=this,t="",s=x.str,v=s.length,u=!1,z=!1,y=0;x.index<v;){if(w=s[x.index],x.index++,w<=" "&&!u&&!y){if(t.length){break}}else{if(";"===w&&!u&&!z){break}if("("===w&&y++,")"===w&&y&&y--,","===w&&!u&&!z&&!y){if(t.length){x.index--;break}return w}"\\"===w&&u?(z=1,x.index++):('"'!==w&&"'"!==w||(u?u===w&&(u=!1):u=w),z=!1,t+=w)}}return t}},{key:"parseValue",value:function(z){var y,s,t={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===z[0]||"'"===z[0]){return s=z=z.substring(1,z.length-1),new h(s,z[0])}if("true"===z){return new n((!0))}if("false"===z){return new n((!1))}if("null"===z){return f.Null}if("none"===z){return f.None}if(q.Color.map[z]){var x=c.map[z],u=new b(x[0],x[1],x[2],x[3]);return u.stringified=z,u}if(y=t.number.exec(z)){return new g(parseFloat(y[1]),y[2])}if(y=t.shortHexColor.exec(z)){return b.fromHex(y[1])}if(y=t.longHexColor.exec(z)){return b.fromHex(y[1])}if(y=t.functionCall.exec(z)){var w=y[1],v=this.parse(y[2]).items;return"hsla"===w||"hsl"===w?new p(o.unbox(v[0]),o.unbox(v[1]),o.unbox(v[2]),o.unbox(v[3])||1):"rgba"===w||"rgb"===w?new b(o.unbox(v[0]),o.unbox(v[1]),o.unbox(v[2]),o.unbox(v[3])||1):new e(w,v)}return(y=t.parenList.exec(z))?new e(this.parse(y[1])):new q.Literal(z)}},{key:"parse",value:function(s){var w,x=this,y=[],u=[],t=null;for(x.str=s,x.index=0;w=x._advance();){y.push(w)}for(var v=0;v<y.length;v++){w=y[v].trim(),","===y[v+1]?(t=t||[],t.push(x.parseValue(w)),v++):t?(t.push(x.parseValue(w)),u.push(new i(t,", ")),t=null):u.push(x.parseValue(w))}return 1===u.length?u[0]:new i(u," ")}}]),r}();d.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(i,b,h){var d=i("../Base.js"),g=i("./Type.js"),f=i("./Bool.js"),c=i("./Numeric.js"),e=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return f.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(q,o){var p,m=k.units[o],l=k.types[o],n=k.comps[o];return p="hsla"==l?q.getHSLA():q.getRGBA(),new c(p[n],m)}},{key:"adjust",value:function(q,o,l){var p=q.getHSLA().copy(),n=k.comps[o],m=l.value;return p[n]+=m,p.h=k.constrainDegrees(p.h),p.s=k.constrainPercentage(p.s),p.l=k.constrainPercentage(p.l),p.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);d.apply(e,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),d.apply(e.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),b.exports=e},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,h){var e=b("../Base.js"),f=b("./Color.js"),g=b("./ColorRGBA.js"),c=function(j){function i(l,k,o,n){_classCallCheck(this,i);var m=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return m.h=f.constrainDegrees(l),m.s=k,m.l=o,void 0!==n&&(m.a=n),m}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return g.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(l,k,n,m){return new i(f.constrainDegrees(this.h+l),f.constrainPercentage(this.s+k),f.constrainPercentage(this.l+n),f.constrainAlpha(this.a*m))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=f.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=f.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var w=o.r/255,t=o.g/255,l=o.b/255,n=o.a,m=Math.max(w,t,l),p=Math.min(w,t,l),u=m-p,q=0,v=0,k=0.5*(m+p);return p!=m&&(v=k<0.5?u/(m+p):u/(2-m-p),q=w==m?60*(t-l)/u:t==m?120+60*(l-w)/u:240+60*(w-t)/u,q<0&&(q+=360),q>=360&&(q-=360)),new i(f.constrainDegrees(q),f.constrainPercentage(100*v),f.constrainPercentage(100*k),n)}}]),i}(f);g.prototype.getHSLA=function(){return c.fromRGBA(this)},e.apply(c.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=c},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,h){function c(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var e=b("../Base.js"),f=b("./Color.js"),g=function(i){function j(k,o,l,m){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,k)),n.g=Math.min(255,Math.max(0,o)),n.b=Math.min(255,Math.max(0,l)),void 0!==m&&(n.a=Math.min(1,Math.max(0,m))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,o=q(m.r),l=q(m.g),n=q(m.b),p=m.a,k="";return k=1===p?"#"+c(o)+c(l)+c(n):"rgba("+o+", "+l+", "+n+", "+p+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var k=this,p=Math.round,o=p(k.r),m=p(k.g),l=p(k.b),n=p(255*k.a);return"#"+c(n)+c(o)+c(m)+c(l)}},{key:"add",value:function(k,n,l,m){return new j(this.r+k,this.g+n,this.b+l,this.a*m)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(k){"#"==k.charAt(0)&&(k=k.substr(1));var o,n,m;3===k.length?(o=parseInt(k.charAt(0),16),n=parseInt(k.charAt(1),16),m=parseInt(k.charAt(2),16),o=(o<<4)+o,n=(n<<4)+n,m=(m<<4)+m):(o=parseInt(k.substring(0,2),16),n=parseInt(k.substring(2,4),16),m=parseInt(k.substring(4,6),16));var l=new j(o,n,m);return j.preserveInputStrings&&(l.stringified="#"+k),l}},{key:"fromHSLA",value:function(q){function x(r){return r<0&&++r,r>1&&--r,6*r<1?o+(n-o)*r*6:2*r<1?n:3*r<2?o+(n-o)*(2/3-r)*6:o}if(q.$isFashionRGBA){return q.clone()}var l=q,t=l.h/360,v=l.s/100,p=l.l/100,m=l.a,n=p<=0.5?p*(v+1):p+v-p*v,o=2*p-n,w=f.constrainChannel(255*x(t+1/3)),u=f.constrainChannel(255*x(t)),k=f.constrainChannel(255*x(t-1/3));return new j(w,u,k,m)}}]),j}(f);e.apply(g,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),e.apply(g.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new g(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new g(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=g,function(o,k,s,m){var j,p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=Object.keys(s);for(n.sort(),j=0;j<n.length;j++){var q=n[j],r=s[q],i=new o(r[0],r[1],r[2],r[3]),l=i.stringify();k[l]=q}p.forEach(function(t){var u=t+t;p.forEach(function(v){var w=v+v;p.forEach(function(z){var x=z+z,y="#"+t+v+z,B="#"+u+w+x;if(m[B]){var A=m[B];y=A.length>y.length?y:A}m[B]=y})})})}(g,g.stringifiedMap,f.map,g.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(e,f,d){var g=e("../Base.js"),b=e("./Type.js"),c=e("./Numeric.js"),h=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new c(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(b);g.apply(h.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),f.exports=h},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,e,h){var f=b("../Base.js"),d=b("./Type.js"),c=b("./List.js"),g=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new c(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(d);f.apply(g.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),e.exports=g},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("top"),m.push("bottom"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(linear, "+m.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var j=this.items,m=j.length,k=[],l=0;l<m;l++){k.push(j[l].clone())}return new i(k,this.separator)}},{key:"clone",value:function(p,k){if(k&&this.matches(p)){return k.clone()}for(var m=this.items,o=m.length,n=[],j=0;j<o;j++){n.push(m[j].clone(p,k))}var l=new i(n,this.separator);return l.$referenceName=this.$referenceName,l.$referenceBase=this.$referenceBase,l.$previousReference=this.$previousReference,l}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(l){for(var m=[],j=0;j<this.items.length;j++){var k=this.items[j];k&&m.push(k.toPrefixedString(l))}return m.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(b,d,i){var e=b("../Base.js"),h=b("./Type.js"),c=b("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=h.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=h.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new c(l+1)}}},{key:"insert",value:function(l,n){var m=h.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(h);e.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var f=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);e.apply(f.prototype,{$isFashionNull:!0,$constant:!0}),f.prototype.$isFashionNull=!0,g.Null=new f(null),g.None=new g("none"),d.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(e,c,g){var k=e("../Base.js"),i=e("./List.js"),j=e("./Type.js"),f=e("./Literal.js"),h=f.Null,d=e("./Numeric.js"),b=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof d&&(n=j.unbox(n)),"number"==typeof n?new i([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||h)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(i);k.apply(b.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),c.exports=b},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(b,d,i){var e=b("../Base.js"),h=b("./Type.js"),f=b("./Bool.js"),g=b("./Literal.js"),c=function(k){function j(m,l,n,p){_classCallCheck(this,j);var o=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return o.value=m,o.unit=l,l&&!n?o.numeratorUnits=[l]:o.numeratorUnits=n||[],o.denominatorUnits=p||[],o}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(m,n){var l;this.unit||n.unit;return n.$isFashionRGBA||n.$isFashionHSLA?new g(this+m+n):n.$isFashionNumber?this.numericOperate(m,n):n.$isFashionLiteral&&(l=this.tryCoerce(n))?this.performOperation(m,l):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,m,n)}},{key:"tryNormalize",value:function(m){var l=m.value,n=m.unit;if(m.$isFashionNumber){switch(this.unit){case"mm":switch(n){case"in":return new j(25.4*l,"mm");case"cm":return new j(2.54*l,"mm")}break;case"cm":switch(n){case"in":return new j(2.54*l,"cm");case"mm":return new j(l/10,"cm")}break;case"in":switch(n){case"mm":return new j(l/25.4,"in");case"cm":return new j(l/2.54,"in")}break;case"ms":switch(n){case"s":return new j(1000*l,"ms")}break;case"s":switch(n){case"ms":return new j(l/1000,"s")}break;case"Hz":switch(n){case"kHz":return new j(1000*l,"Hz")}break;case"kHz":switch(n){case"Hz":return new j(l/1000,"kHz")}break;case"%":switch(n){default:return new j(l)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(m){var l=this.unit,n=m.unit;return !!m.$isFashionNumber&&(l===n||"mm"===l&&("in"===n||"cm"===n)||"cm"===l&&("in"===n||"mm"===n)||"in"===l&&("mm"===n||"cm"===n)||"ms"===l&&"s"===n||"s"===l&&"ms"===n||"Hz"===l&&"kHz"===n||"kHz"===l&&"Hz"===n)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=e.filter(l.num,function(m){return !!m}),l.den=e.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(l,r){this.normalizeUnits(),r.normalizeUnits();var s,q=this,p=r,u=j.OPERATIONS,t=j.NON_COERCE_OPERATIONS,m=u[l];if(m){try{q.unitless()?q=q.coerceUnits(p.numeratorUnits,p.denominatorUnits):p=p.coerceUnits(q.numeratorUnits,q.denominatorUnits)}catch(o){if("=="==l){return f.False}if("!="==l){return f.True}throw o}}else{m=t[l]}if(m&&(s=m(q.value,p.value)),"number"==typeof s){var n=this.computeUnits(q,p,l);return new j(s,n.num.length?n.num[0]:null,n.num,n.den)}return new f(s)}},{key:"computeUnits",value:function(n,m,l){switch(l){case"*":return{num:n.numeratorUnits.slice().concat(m.numeratorUnits),den:n.denominatorUnits.slice().concat(m.denominatorUnits)};case"/":return{num:n.numeratorUnits.slice().concat(m.denominatorUnits),den:n.denominatorUnits.slice().concat(m.numeratorUnits)};default:return{num:n.numeratorUnits,den:n.denominatorUnits}}}},{key:"coerceUnits",value:function(m,n){var l=this.value;return this.unitless()||(l=l*this.coercionFactor(this.numeratorUnits,m)/this.coercionFactor(this.denominatorUnits,n)),new j(l,m&&m[0],m,n)}},{key:"coercionFactor",value:function(p,u){var q=this.removeCommonUnits(p,u),s=q.num,m=q.den;s.length===m.length&&this.convertable(s||m)||e.raise("Incompatible units: "+s.join("*")+" and "+m.join("*"));for(var o=0;o<s.length;o++){for(var l=s[o],n=0;n<m.length;n++){var t=m[n],r=this.conversionFactor(l,t);if(null!==r){return r}}}return 1}},{key:"conversionFactor",value:function(m,l){var n=j.CONVERTABLE_UNITS,o=j.CONVERSION_TABLE,p=null;return n[m]&&n[l]&&(p=o[n[m]][n[l]]),null===p&&n[l]&&n[m]&&(p=1/o[n[l]][n[m]]),p}},{key:"convertable",value:function(m){if(m&&!Array.isArray(m)&&(m=[m]),m&&m.length){for(var l=j.CONVERTABLE_UNITS,n=0;n<m.length;n++){if(void 0===l[m[n]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(m,o){var r,l,l,n={},q=[],p=[];for(r=0;r<m.length;r++){l=m[r],n[l]=(n[l]||0)+1}for(r=0;r<o.length;r++){l=o[r],n[l]=(n[l]||0)-1}for(r=0;r<m.length;r++){l=m[r],n[l]>0&&(q.push(l),n[l]--)}for(r=0;r<o.length;r++){l=o[r],n[l]<0&&(p.push(l),n[l]++)}return{num:q,den:p}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(h);e.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),e.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),d.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(m,k,l){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.position=m,j.stops=l,j.shape=k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("center 0%"),m.push("center 100%"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(radial, "+m.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,e,h){var g=b("../Base.js"),d=b("./TypeVisitor.js"),c=b("../Output.js"),f=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(k){for(var n,r=this.output,m=k.items,l=r.output.length,p=k.separator,o=p&&p.length,q=p&&p.indexOf(" ")>-1,s=r.output,t=0;t<m.length;t++){m[t]&&(this.visit(m[t]),n=r.output.length-l,!n&&o&&t>0&&(r.output=s),s=r.output,t<m.length-1&&o&&(r.add(p),q||r.space()),l=r.output.length)}}},{key:"map",value:function(k){var m,o,n=this.output,l=k.items;this.currDeclaration&&g.raise("("+k+") isn't a valid CSS value.");for(var p=0;p<l.length-1;p+=2){m=l[p],o=l[p+1],m&&o&&(p>0&&(n.add(","),n.space()),this.visit(m),n.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new c,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(d);g.apply(f.prototype,{output:null}),e.exports=f},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(j,i,n,l){i=i||"fashion",n=n||RegExp("^\\s*//#\\s*"+i+"\\s*\\+?"+j+"s*$"),l=l||RegExp("^\\s*//#\\s*"+i+"\\s*\\-"+j+"\\s*$");var h=this.docs;if(h&&h.length){for(var m=0;m<this.docs.length;m++){var k=h[m];if(n.test(k)){return !0}if(l.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(j,i,n,l):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(e,d,f){return d in e?Object.defineProperty(e,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):e[d]=f,e}var _get=function get(i,l,g){null===i&&(i=Function.prototype);var k=Object.getOwnPropertyDescriptor(i,l);if(void 0===k){var h=Object.getPrototypeOf(i);return null===h?void 0:get(h,l,g)}if("value" in k){return k.value}var j=k.get;if(void 0!==j){return j.call(g)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,k,m){var l,j=a("./src/export/Base.js"),i=a("./src/export/css/CssVariableManager.js"),n=new i;j.apply(j,(l={css:n,CssExport:i,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(l,"Types",a("./src/export/type/Types.js")),_defineProperty(l,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(l,"Output",a("./src/export/Output.js")),_defineProperty(l,"Runtime",a("./src/export/Runtime.js")),l)),k.exports=j},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(U,Z,N){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function X(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?X(d,c):g[e]=c):g[e]=c}}return g}function a(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function ab(c){return c&&"function"==typeof c}function Q(d,c){console.log(a("[DBG] "+d,c))}function W(d,c){console.log(a("[LOG] "+d,c))}function G(d,c){console.log(a("[INF] "+d,c))}function H(d,c){console.log(a("[WRN] "+d,c))}function I(d,c){console.log(a("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function T(d,c){var e;c&&(d=a(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function S(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function V(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function L(c){return c.length&&c[c.length-1]}function M(c){return c.length>2?c.slice(1):[]}function aa(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function K(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;aa(f,R.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function P(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?P(e,d-1,g):g.push(e)}return g}var Y=U("./../NameConverter.js"),R=function R(c){_classCallCheck(this,R),c&&X(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return L(this.items)}},{key:"tail",value:function(){return M(this.items)}}]),c}();C.prototype.items=null;var O=Object.create||function(c){return D.prototype=c,new D};Z.exports={EmptyArray:[],getJsName:Y.getJsName,chain:O,Base:R,BaseSet:C,apply:J,merge:X,createMessage:a,isFunction:ab,debug:Q,log:W,info:G,warn:H,error:I,raise:F,raiseAt:T,filter:S,convert:V,first:E,last:L,tail:M,mixin:K,flatten:P}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(C,H,z){var t=C("./Base.js"),x=t.Base,y=C("./type/Type.js"),A=C("./type/List.js"),v=C("./type/Bool.js"),a=C("./type/Color.js"),s=C("./type/ColorRGBA.js"),D=C("./type/Text.js"),E=C("./type/Literal.js"),F=C("./type/Statics.js"),G=C("./type/TypeVisitor.js"),B=C("./type/Types.js"),u=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(u.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var w=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:F.boxType,unbox:F.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(k,o){for(var n,i={},m=0,l=0;l<k.length;l++){var j=k[l];if(void 0!==j){if(j===!0||j===!1){i[o[m]]=j,m++}else{if(void 0===j.type){for(n in j){i[n.replace(/^\$/,"")]=j[n]}}else{n=o[m],n instanceof Array?(n=n[0],i[n]=i[n]||new A,i[n].add(j)):(i[n]=j,m++)}}}}return i},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new v(f)}},{key:"color",value:function d(f){var g=a.map[f],h=new s(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new D(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new E(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(i){i=i||this.types;for(var f,h=Object.getOwnPropertyNames(i),g=[],j=0;j<h.length;j++){f=h[j],g.push(f+" = Types."+f),g.push("__"+f+" = "+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(h){h=h||this.constructor.prototype;for(var i,f,g=[];h;){i=Object.getOwnPropertyNames(h);for(var j=0;j<i.length;j++){f=i[j],"function"==typeof h[f]&&g.push("__rt_"+f+" = __rt."+f+".bind(__rt)")}h=Object.getPrototypeOf(h)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var g,i=Object.getOwnPropertyNames(this),h=[],f=0;f<i.length;f++){g=i[f],h.push("__rt_"+g+" = __rt."+g)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new G(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new u(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(f,h,i){var g=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),g.map[f]=h,h}},{key:"setDynamic",value:function(j,h,i){var g,k=t.getJsName(j),f=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),h.$referenceName||h.$constant?(g=h.clone(),g.$previousReference=h,h=g,h.ast=this.getAstNode(i)):h.$referenceName=j,f.map[k]=h,h}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new A(m,k)}},{key:"applySplatArgs",value:function(g){var l,f,i,k,h,j=[];for(f=0;f<g.length;f++){if(l=g[f],l&&l.splat&&l.$isFashionList){for(h=l.getItems(),k=0;k<h.length;k++){i=h[k],i&&(i.splatSeparator=l.separator),j.push(i)}}else{j.push(l)}l&&(l.splat=void 0)}return j}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(x);t.apply(w.prototype,{box:y.box,unbox:y.unbox,Scope:u,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:B,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),H.exports=w},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(j,o,p){var m=j("../Base.js"),a=j("../Runtime.js"),k=j("../parse/ValueParser.js"),n=j("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new a}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(d){var i,h,y,g,C,B,x,D=this,f=D.getRuntime(),z=new k,A=D.variableMap;h=new f.Scope;for(g in d){i=m.getJsName(g.replace(D.nameRe,"")),0!==i.indexOf("$")&&(i="$"+i),h.put(i,z.parse(d[g]))}f._globalScope=h,f._currentScope=h;for(var e=0;e<D.calcFns.length;e++){D.calcFns[e](f)}y=new n,d={};for(g in A){C=A[g];for(var e=0;e<C.length;e++){i=C[e],B="$"+m.getJsName(i),x=h.get(B),x&&(x.$isWrapper&&(x=x.value),d[i]=y.toSource(x))}}return d}},{key:"applyVariables",value:function(g){var f=this,d=f.variableMap;for(var v in d){var e=d[v],t=document.querySelectorAll(v);if(t){for(var h=0;h<t.length;h++){for(var i=0;i<e.length;i++){var u=e[i];t[h].style.setProperty("--"+u,g[u])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return m.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var f=this,d=f.variableMap,i={};for(var v in d){var e=d[v],t=document.querySelectorAll(v);if(t){for(var g=0;g<t.length;g++){for(var h=0;h<e.length;h++){var u=e[h];i[u]=t[g].style.getPropertyValue("--"+u)}}}}return i}}]),c}();m.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),o.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,D,u){var a=x("../Base.js"),s=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),E=v.Color,z=v.Text,A=v.Numeric,y=v.List,t=v.Bool,B=v.Literal,F=v.ColorRGBA,r=v.ColorHSLA,C=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var e,d=this,h="",i=d.str,f=i.length,g=!1,j=!1,k=0;d.index<f;){if(e=i[d.index],d.index++,e<=" "&&!g&&!k){if(h.length){break}}else{if(";"===e&&!g&&!j){break}if("("===e&&k++,")"===e&&k&&k--,","===e&&!g&&!j&&!k){if(h.length){d.index--;break}return e}"\\"===e&&g?(j=1,d.index++):('"'!==e&&"'"!==e||(g?g===e&&(g=!1):g=e),j=!1,h+=e)}}return h}},{key:"parseValue",value:function(j){var k,i,h={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===j[0]||"'"===j[0]){return i=j=j.substring(1,j.length-1),new z(i,j[0])}if("true"===j){return new t((!0))}if("false"===j){return new t((!1))}if("null"===j){return B.Null}if("none"===j){return B.None}if(a.Color.map[j]){var d=E.map[j],g=new F(d[0],d[1],d[2],d[3]);return g.stringified=j,g}if(k=h.number.exec(j)){return new A(parseFloat(k[1]),k[2])}if(k=h.shortHexColor.exec(j)){return F.fromHex(k[1])}if(k=h.longHexColor.exec(j)){return F.fromHex(k[1])}if(k=h.functionCall.exec(j)){var e=k[1],f=this.parse(k[2]).items;return"hsla"===e||"hsl"===e?new r(s.unbox(f[0]),s.unbox(f[1]),s.unbox(f[2]),s.unbox(f[3])||1):"rgba"===e||"rgb"===e?new F(s.unbox(f[0]),s.unbox(f[1]),s.unbox(f[2]),s.unbox(f[3])||1):new C(e,f)}return(k=h.parenList.exec(j))?new C(this.parse(k[1])):new a.Literal(j)}},{key:"parse",value:function(i){var e,d=this,j=[],g=[],h=null;for(d.str=i,d.index=0;e=d._advance();){j.push(e)}for(var f=0;f<j.length;f++){e=j[f].trim(),","===j[f+1]?(h=h||[],h.push(d.parseValue(e)),f++):h?(h.push(d.parseValue(e)),g.push(new y(h,", ")),h=null):g.push(d.parseValue(e))}return 1===g.length?g[0]:new y(g," ")}}]),c}();D.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(j,a,k){var o=j("../Base.js"),l=j("./Type.js"),m=j("./Bool.js"),p=j("./Numeric.js"),n=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return m.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(g,i){var h,e=c.units[i],f=c.types[i],r=c.comps[i];return h="hsla"==f?g.getHSLA():g.getRGBA(),new p(h[r],e)}},{key:"adjust",value:function(g,i,f){var h=g.getHSLA().copy(),r=c.comps[i],e=f.value;return h[r]+=e,h.h=c.constrainDegrees(h.h),h.s=c.constrainPercentage(h.s),h.l=c.constrainPercentage(h.l),h.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);o.apply(n,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),o.apply(n.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),a.exports=n},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,i){var l=a("../Base.js"),k=a("./Color.js"),j=a("./ColorRGBA.js"),n=function(c){function d(f,g,h,p){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.h=k.constrainDegrees(f),e.s=g,e.l=h,void 0!==p&&(e.a=p),e}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return j.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(f,g,h,e){return new d(k.constrainDegrees(this.h+f),k.constrainPercentage(this.s+g),k.constrainPercentage(this.l+h),k.constrainAlpha(this.a*e))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=k.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=k.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var y=g.r/255,B=g.g/255,s=g.b/255,h=g.a,r=Math.max(y,B,s),f=Math.min(y,B,s),A=r-f,e=0,z=0,x=0.5*(r+f);return f!=r&&(z=x<0.5?A/(r+f):A/(2-r-f),e=y==r?60*(B-s)/A:B==r?120+60*(s-y)/A:240+60*(y-B)/A,e<0&&(e+=360),e>=360&&(e-=360)),new d(k.constrainDegrees(e),k.constrainPercentage(100*z),k.constrainPercentage(100*x),h)}}]),d}(k);j.prototype.getHSLA=function(){return n.fromRGBA(this)},l.apply(n.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=n},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,i){function n(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var l=a("../Base.js"),k=a("./Color.js"),j=function(d){function c(g,h,f,e){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,g)),p.g=Math.min(255,Math.max(0,h)),p.b=Math.min(255,Math.max(0,f)),void 0!==e&&(p.a=Math.min(1,Math.max(0,e))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,s=h(e.r),f=h(e.g),t=h(e.b),r=e.a,g="";return g=1===r?"#"+n(s)+n(f)+n(t):"rgba("+s+", "+f+", "+t+", "+r+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var g=this,h=Math.round,q=h(g.r),e=h(g.g),f=h(g.b),r=h(255*g.a);return"#"+n(r)+n(q)+n(e)+n(f)}},{key:"add",value:function(g,h,f,e){return new c(this.r+g,this.g+h,this.b+f,this.a*e)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(g){"#"==g.charAt(0)&&(g=g.substr(1));var h,p,e;3===g.length?(h=parseInt(g.charAt(0),16),p=parseInt(g.charAt(1),16),e=parseInt(g.charAt(2),16),h=(h<<4)+h,p=(p<<4)+p,e=(e<<4)+e):(h=parseInt(g.substring(0,2),16),p=parseInt(g.substring(2,4),16),e=parseInt(g.substring(4,6),16));var f=new c(h,p,e);return c.preserveInputStrings&&(f.stringified="#"+g),f}},{key:"fromHSLA",value:function(e){function z(o){return o<0&&++o,o>1&&--o,6*o<1?g+(h-g)*o*6:2*o<1?h:3*o<2?g+(h-g)*(2/3-o)*6:g}if(e.$isFashionRGBA){return e.clone()}var s=e,D=s.h/360,B=s.s/100,f=s.l/100,r=s.a,h=f<=0.5?f*(B+1):f+B-f*B,g=2*f-h,A=k.constrainChannel(255*z(D+1/3)),C=k.constrainChannel(255*z(D)),y=k.constrainChannel(255*z(D-1/3));return new c(A,C,y,r)}}]),c}(k);l.apply(j,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),l.apply(j.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new j(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new j(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=j,function(f,u,x,h){var v,e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],g=Object.keys(x);for(g.sort(),v=0;v<g.length;v++){var d=g[v],c=x[d],w=new f(c[0],c[1],c[2],c[3]),t=w.stringify();u[t]=d}e.forEach(function(p){var o=p+p;e.forEach(function(r){var q=r+r;e.forEach(function(D){var C=D+D,F="#"+p+r+D,E="#"+o+q+C;if(h[E]){var s=h[E];F=s.length>F.length?F:s}h[E]=F})})})}(j,j.stringifiedMap,k.map,j.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(l,k,m){var j=l("../Base.js"),a=l("./Type.js"),n=l("./Numeric.js"),i=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new n(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(a);j.apply(i.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),k.exports=i},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,l,i){var k=a("../Base.js"),m=a("./Type.js"),n=a("./List.js"),j=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new n(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(m);k.apply(j.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),l.exports=j},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("top"),e.push("bottom"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(linear, "+e.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var n=this.items,e=n.length,g=[],f=0;f<e;f++){g.push(n[f].clone())}return new c(g,this.separator)}},{key:"clone",value:function(r,g){if(g&&this.matches(r)){return g.clone()}for(var e=this.items,s=e.length,t=[],q=0;q<s;q++){t.push(e[q].clone(r,g))}var f=new c(t,this.separator);return f.$referenceName=this.$referenceName,f.$referenceBase=this.$referenceBase,f.$previousReference=this.$previousReference,f}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(f){for(var e=[],n=0;n<this.items.length;n++){var g=this.items[n];g&&e.push(g.toPrefixedString(f))}return e.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(a,o,j){var n=a("../Base.js"),k=a("./Type.js"),p=a("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=k.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=k.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new p(f+1)}}},{key:"insert",value:function(f,h){var e=k.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(k);n.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var m=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);n.apply(m.prototype,{$isFashionNull:!0,$constant:!0}),m.prototype.$isFashionNull=!0,l.Null=new m(null),l.None=new l("none"),o.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(q,s,o){var a=q("../Base.js"),m=q("./List.js"),l=q("./Type.js"),p=q("./Literal.js"),n=p.Null,r=q("./Numeric.js"),t=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof r&&(e=l.unbox(e)),"number"==typeof e?new m([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||n)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(m);a.apply(t.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),s.exports=t},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(a,o,j){var n=a("../Base.js"),k=a("./Type.js"),m=a("./Bool.js"),l=a("./Literal.js"),p=function(c){function d(e,f,i,g){_classCallCheck(this,d);var h=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return h.value=e,h.unit=f,f&&!i?h.numeratorUnits=[f]:h.numeratorUnits=i||[],h.denominatorUnits=g||[],h}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(e,g){var f;this.unit||g.unit;return g.$isFashionRGBA||g.$isFashionHSLA?new l(this+e+g):g.$isFashionNumber?this.numericOperate(e,g):g.$isFashionLiteral&&(f=this.tryCoerce(g))?this.performOperation(e,f):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,e,g)}},{key:"tryNormalize",value:function(e){var f=e.value,g=e.unit;if(e.$isFashionNumber){switch(this.unit){case"mm":switch(g){case"in":return new d(25.4*f,"mm");case"cm":return new d(2.54*f,"mm")}break;case"cm":switch(g){case"in":return new d(2.54*f,"cm");case"mm":return new d(f/10,"cm")}break;case"in":switch(g){case"mm":return new d(f/25.4,"in");case"cm":return new d(f/2.54,"in")}break;case"ms":switch(g){case"s":return new d(1000*f,"ms")}break;case"s":switch(g){case"ms":return new d(f/1000,"s")}break;case"Hz":switch(g){case"kHz":return new d(1000*f,"Hz")}break;case"kHz":switch(g){case"Hz":return new d(f/1000,"kHz")}break;case"%":switch(g){default:return new d(f)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(e){var f=this.unit,g=e.unit;return !!e.$isFashionNumber&&(f===g||"mm"===f&&("in"===g||"cm"===g)||"cm"===f&&("in"===g||"mm"===g)||"in"===f&&("mm"===g||"cm"===g)||"ms"===f&&"s"===g||"s"===f&&"ms"===g||"Hz"===f&&"kHz"===g||"kHz"===f&&"Hz"===g)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=n.filter(e.num,function(f){return !!f}),e.den=n.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(w,e){this.normalizeUnits(),e.normalizeUnits();var z,f=this,g=e,x=d.OPERATIONS,y=d.NON_COERCE_OPERATIONS,v=x[w];if(v){try{f.unitless()?f=f.coerceUnits(g.numeratorUnits,g.denominatorUnits):g=g.coerceUnits(f.numeratorUnits,f.denominatorUnits)}catch(h){if("=="==w){return m.False}if("!="==w){return m.True}throw h}}else{v=y[w]}if(v&&(z=v(f.value,g.value)),"number"==typeof z){var i=this.computeUnits(f,g,w);return new d(z,i.num.length?i.num[0]:null,i.num,i.den)}return new m(z)}},{key:"computeUnits",value:function(g,e,f){switch(f){case"*":return{num:g.numeratorUnits.slice().concat(e.numeratorUnits),den:g.denominatorUnits.slice().concat(e.denominatorUnits)};case"/":return{num:g.numeratorUnits.slice().concat(e.denominatorUnits),den:g.denominatorUnits.slice().concat(e.numeratorUnits)};default:return{num:g.numeratorUnits,den:g.denominatorUnits}}}},{key:"coerceUnits",value:function(e,g){var f=this.value;return this.unitless()||(f=f*this.coercionFactor(this.numeratorUnits,e)/this.coercionFactor(this.denominatorUnits,g)),new d(f,e&&e[0],e,g)}},{key:"coercionFactor",value:function(g,x){var f=this.removeCommonUnits(g,x),z=f.num,v=f.den;z.length===v.length&&this.convertable(z||v)||n.raise("Incompatible units: "+z.join("*")+" and "+v.join("*"));for(var h=0;h<z.length;h++){for(var w=z[h],i=0;i<v.length;i++){var y=v[i],e=this.conversionFactor(w,y);if(null!==e){return e}}}return 1}},{key:"conversionFactor",value:function(e,f){var i=d.CONVERTABLE_UNITS,h=d.CONVERSION_TABLE,g=null;return i[e]&&i[f]&&(g=h[i[e]][i[f]]),null===g&&i[f]&&i[e]&&(g=1/h[i[f]][i[e]]),g}},{key:"convertable",value:function(e){if(e&&!Array.isArray(e)&&(e=[e]),e&&e.length){for(var f=d.CONVERTABLE_UNITS,g=0;g<e.length;g++){if(void 0===f[e[g]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(e,s){var g,f,f,t={},h=[],i=[];for(g=0;g<e.length;g++){f=e[g],t[f]=(t[f]||0)+1}for(g=0;g<s.length;g++){f=s[g],t[f]=(t[f]||0)-1}for(g=0;g<e.length;g++){f=e[g],t[f]>0&&(h.push(f),t[f]--)}for(g=0;g<s.length;g++){f=s[g],t[f]<0&&(i.push(f),t[f]++)}return{num:h,den:i}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(k);n.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),n.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),o.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(e,g,f){_classCallCheck(this,c);var n=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return n.position=e,n.stops=f,n.shape=g,n}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("center 0%"),e.push("center 100%"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(radial, "+e.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,l,i){var j=a("../Base.js"),m=a("./TypeVisitor.js"),n=a("../Output.js"),k=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(x){for(var u,e=this.output,v=x.items,w=e.output.length,g=x.separator,h=g&&g.length,f=g&&g.indexOf(" ")>-1,z=e.output,y=0;y<v.length;y++){v[y]&&(this.visit(v[y]),u=e.output.length-w,!u&&h&&y>0&&(e.output=z),z=e.output,y<v.length-1&&h&&(e.add(g),f||e.space()),w=e.output.length)}}},{key:"map",value:function(g){var e,q,r=this.output,f=g.items;this.currDeclaration&&j.raise("("+g+") isn't a valid CSS value.");for(var h=0;h<f.length-1;h+=2){e=f[h],q=f[h+1],e&&q&&(h>0&&(r.add(","),r.space()),this.visit(e),r.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new n,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(m);j.apply(k.prototype,{output:null}),l.exports=k},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(o,p,r,e){p=p||"fashion",r=r||RegExp("^\\s*//#\\s*"+p+"\\s*\\+?"+o+"s*$"),e=e||RegExp("^\\s*//#\\s*"+p+"\\s*\\-"+o+"\\s*$");var q=this.docs;if(q&&q.length){for(var d=0;d<this.docs.length;d++){var f=q[d];if(r.test(f)){return !0}if(e.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(o,p,r,e):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(b,c,a){return c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a,b}var _get=function get(d,a,f){null===d&&(d=Function.prototype);var b=Object.getOwnPropertyDescriptor(d,a);if(void 0===b){var e=Object.getPrototypeOf(d);return null===e?void 0:get(e,a,f)}if("value" in b){return b.value}var c=b.get;if(void 0!==c){return c.call(f)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,e,b){var c,f=d("./src/export/Base.js"),g=d("./src/export/css/CssVariableManager.js"),h=new g;f.apply(f,(c={css:h,CssExport:g,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(c,"Types",d("./src/export/type/Types.js")),_defineProperty(c,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(c,"Output",d("./src/export/Output.js")),_defineProperty(c,"Runtime",d("./src/export/Runtime.js")),c)),e.exports=f},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(g,b,n){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function d(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?d(F,G):C[E]=G):C[E]=G}}return C}function A(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function z(C){return C&&"function"==typeof C}function k(C,D){console.log(A("[DBG] "+C,D))}function e(C,D){console.log(A("[LOG] "+C,D))}function u(C,D){console.log(A("[INF] "+C,D))}function t(C,D){console.log(A("[WRN] "+C,D))}function s(C,D){console.log(A("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function h(D,E){var C;E&&(D=A(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function i(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function f(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function p(C){return C.length&&C[C.length-1]}function o(C){return C.length>2?C.slice(1):[]}function B(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function q(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;B(E,j.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function l(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?l(E,F-1,C):C.push(E)}return C}var c=g("./../NameConverter.js"),j=function j(C){_classCallCheck(this,j),C&&d(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return p(this.items)}},{key:"tail",value:function(){return o(this.items)}}]),C}();y.prototype.items=null;var m=Object.create||function(C){return x.prototype=C,new x};b.exports={EmptyArray:[],getJsName:c.getJsName,chain:m,Base:j,BaseSet:y,apply:r,merge:d,createMessage:A,isFunction:z,debug:k,log:e,info:u,warn:t,error:s,raise:v,raiseAt:h,filter:i,convert:f,first:w,last:p,tail:o,mixin:q,flatten:l}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(c,k,f){var p=c("./Base.js"),i=p.Base,g=c("./type/Type.js"),e=c("./type/List.js"),l=c("./type/Bool.js"),h=c("./type/Color.js"),r=c("./type/ColorRGBA.js"),b=c("./type/Text.js"),q=c("./type/Literal.js"),o=c("./type/Statics.js"),n=c("./type/TypeVisitor.js"),d=c("./type/Types.js"),m=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(m.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var j=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:o.boxType,unbox:o.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(A,D){for(var E,C={},y=0,z=0;z<A.length;z++){var B=A[z];if(void 0!==B){if(B===!0||B===!1){C[D[y]]=B,y++}else{if(void 0===B.type){for(E in B){C[E.replace(/^\$/,"")]=B[E]}}else{E=D[y],E instanceof Array?(E=E[0],C[E]=C[E]||new e,C[E].add(B)):(C[E]=B,y++)}}}}return C},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new l(v)}},{key:"color",value:function t(x){var w=h.map[x],v=new r(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new b(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(w){w=w||this.types;for(var z,x=Object.getOwnPropertyNames(w),y=[],v=0;v<x.length;v++){z=x[v],y.push(z+" = Types."+z),y.push("__"+z+" = "+z)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(x){x=x||this.constructor.prototype;for(var w,z,y=[];x;){w=Object.getOwnPropertyNames(x);for(var v=0;v<w.length;v++){z=w[v],"function"==typeof x[z]&&y.push("__rt_"+z+" = __rt."+z+".bind(__rt)")}x=Object.getPrototypeOf(x)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var x,v=Object.getOwnPropertyNames(this),w=[],y=0;y<v.length;y++){x=v[y],w.push("__rt_"+x+" = __rt."+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new n(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new m(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(y,w,v){var x=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),x.map[y]=w,w}},{key:"setDynamic",value:function(w,y,x){var z,v=p.getJsName(w),A=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),y.$referenceName||y.$constant?(z=y.clone(),z.$previousReference=y,y=z,y.ast=this.getAstNode(x)):y.$referenceName=w,A.map[v]=y,y}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new e(w,y)}},{key:"applySplatArgs",value:function(A){var v,B,y,w,z,x=[];for(B=0;B<A.length;B++){if(v=A[B],v&&v.splat&&v.$isFashionList){for(z=v.getItems(),w=0;w<z.length;w++){y=z[w],y&&(y.splatSeparator=v.separator),x.push(y)}}else{x.push(v)}v&&(v.splat=void 0)}return x}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(i);p.apply(j.prototype,{box:g.box,unbox:g.unbox,Scope:m,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:d,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),k.exports=j},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(f,h,g){var b=f("../Base.js"),d=f("../Runtime.js"),e=f("../parse/ValueParser.js"),i=f("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new d}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(t){var o,p,v,q,l,m,w,k=this,r=k.getRuntime(),u=new e,n=k.variableMap;p=new r.Scope;for(q in t){o=b.getJsName(q.replace(k.nameRe,"")),0!==o.indexOf("$")&&(o="$"+o),p.put(o,u.parse(t[q]))}r._globalScope=p,r._currentScope=p;for(var s=0;s<k.calcFns.length;s++){k.calcFns[s](r)}v=new i,t={};for(q in n){l=n[q];for(var s=0;s<l.length;s++){o=l[s],m="$"+b.getJsName(o),w=p.get(m),w&&(w.$isWrapper&&(w=w.value),t[o]=v.toSource(w))}}return t}},{key:"applyVariables",value:function(m){var n=this,p=n.variableMap;for(var q in p){var o=p[q],s=document.querySelectorAll(q);if(s){for(var l=0;l<s.length;l++){for(var k=0;k<o.length;k++){var r=o[k];s[l].style.setProperty("--"+r,m[r])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return b.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var n=this,p=n.variableMap,k={};for(var q in p){var o=p[q],s=document.querySelectorAll(q);if(s){for(var m=0;m<s.length;m++){for(var l=0;l<o.length;l++){var r=o[l];k[r]=s[m].style.getPropertyValue("--"+r)}}}}return k}}]),j}();b.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),h.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,c,m){var i=j("../Base.js"),q=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),p=l.Color,g=l.Text,f=l.Numeric,h=l.List,o=l.Bool,e=l.Literal,n=l.ColorRGBA,b=l.ColorHSLA,d=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var y,z=this,v="",u=z.str,x=u.length,w=!1,t=!1,s=0;z.index<x;){if(y=u[z.index],z.index++,y<=" "&&!w&&!s){if(v.length){break}}else{if(";"===y&&!w&&!t){break}if("("===y&&s++,")"===y&&s&&s--,","===y&&!w&&!t&&!s){if(v.length){z.index--;break}return y}"\\"===y&&w?(t=1,z.index++):('"'!==y&&"'"!==y||(w?w===y&&(w=!1):w=y),t=!1,v+=y)}}return v}},{key:"parseValue",value:function(t){var s,u,v={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===t[0]||"'"===t[0]){return u=t=t.substring(1,t.length-1),new g(u,t[0])}if("true"===t){return new o((!0))}if("false"===t){return new o((!1))}if("null"===t){return e.Null}if("none"===t){return e.None}if(i.Color.map[t]){var z=p.map[t],w=new n(z[0],z[1],z[2],z[3]);return w.stringified=t,w}if(s=v.number.exec(t)){return new f(parseFloat(s[1]),s[2])}if(s=v.shortHexColor.exec(t)){return n.fromHex(s[1])}if(s=v.longHexColor.exec(t)){return n.fromHex(s[1])}if(s=v.functionCall.exec(t)){var y=s[1],x=this.parse(s[2]).items;return"hsla"===y||"hsl"===y?new b(q.unbox(x[0]),q.unbox(x[1]),q.unbox(x[2]),q.unbox(x[3])||1):"rgba"===y||"rgb"===y?new n(q.unbox(x[0]),q.unbox(x[1]),q.unbox(x[2]),q.unbox(x[3])||1):new d(y,x)}return(s=v.parenList.exec(t))?new d(this.parse(s[1])):new i.Literal(t)}},{key:"parse",value:function(t){var x,y=this,s=[],v=[],u=null;for(y.str=t,y.index=0;x=y._advance();){s.push(x)}for(var w=0;w<s.length;w++){x=s[w].trim(),","===s[w+1]?(u=u||[],u.push(y.parseValue(x)),w++):u?(u.push(y.parseValue(x)),v.push(new h(u,", ")),u=null):v.push(y.parseValue(x))}return 1===v.length?v[0]:new h(v," ")}}]),r}();c.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(f,d,e){var h=f("../Base.js"),c=f("./Type.js"),b=f("./Bool.js"),g=f("./Numeric.js"),i=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return b.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(o,l){var m,q=k.units[l],p=k.types[l],n=k.comps[l];return m="hsla"==p?o.getHSLA():o.getRGBA(),new g(m[n],q)}},{key:"adjust",value:function(o,l,p){var m=o.getHSLA().copy(),n=k.comps[l],q=p.value;return m[n]+=q,m.h=k.constrainDegrees(m.h),m.s=k.constrainPercentage(m.s),m.l=k.constrainPercentage(m.l),m.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);h.apply(i,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),h.apply(i.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),d.exports=i},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,g){var c=d("../Base.js"),e=d("./Color.js"),f=d("./ColorRGBA.js"),h=function(j){function i(m,l,k,o){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=e.constrainDegrees(m),n.s=l,n.l=k,void 0!==o&&(n.a=o),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return f.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(m,l,k,n){return new i(e.constrainDegrees(this.h+m),e.constrainPercentage(this.s+l),e.constrainPercentage(this.l+k),e.constrainAlpha(this.a*n))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=e.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=e.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var u=o.r/255,l=o.g/255,w=o.b/255,n=o.a,k=Math.max(u,l,w),p=Math.min(u,l,w),m=k-p,q=0,t=0,v=0.5*(k+p);return p!=k&&(t=v<0.5?m/(k+p):m/(2-k-p),q=u==k?60*(l-w)/m:l==k?120+60*(w-u)/m:240+60*(u-l)/m,q<0&&(q+=360),q>=360&&(q-=360)),new i(e.constrainDegrees(q),e.constrainPercentage(100*t),e.constrainPercentage(100*v),n)}}]),i}(e);f.prototype.getHSLA=function(){return h.fromRGBA(this)},c.apply(h.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=h},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,g){function h(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var c=d("../Base.js"),e=d("./Color.js"),f=function(i){function j(l,k,m,o){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,l)),n.g=Math.min(255,Math.max(0,k)),n.b=Math.min(255,Math.max(0,m)),void 0!==o&&(n.a=Math.min(1,Math.max(0,o))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,l=m(q.r),p=m(q.g),k=m(q.b),o=q.a,n="";return n=1===o?"#"+h(l)+h(p)+h(k):"rgba("+l+", "+p+", "+k+", "+o+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var m=this,k=Math.round,o=k(m.r),p=k(m.g),n=k(m.b),l=k(255*m.a);return"#"+h(l)+h(o)+h(p)+h(n)}},{key:"add",value:function(l,k,m,n){return new j(this.r+l,this.g+k,this.b+m,this.a*n)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(l){"#"==l.charAt(0)&&(l=l.substr(1));var k,o,n;3===l.length?(k=parseInt(l.charAt(0),16),o=parseInt(l.charAt(1),16),n=parseInt(l.charAt(2),16),k=(k<<4)+k,o=(o<<4)+o,n=(n<<4)+n):(k=parseInt(l.substring(0,2),16),o=parseInt(l.substring(2,4),16),n=parseInt(l.substring(4,6),16));var m=new j(k,o,n);return j.preserveInputStrings&&(m.stringified="#"+l),m}},{key:"fromHSLA",value:function(u){function v(r){return r<0&&++r,r>1&&--r,6*r<1?q+(p-q)*r*6:2*r<1?p:3*r<2?q+(p-q)*(2/3-r)*6:q}if(u.$isFashionRGBA){return u.clone()}var x=u,k=x.h/360,n=x.s/100,t=x.l/100,l=x.a,p=t<=0.5?t*(n+1):t+n-t*n,q=2*t-p,o=e.constrainChannel(255*v(k+1/3)),m=e.constrainChannel(255*v(k)),w=e.constrainChannel(255*v(k-1/3));return new j(o,m,w,l)}}]),j}(e);c.apply(f,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),c.apply(f.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new f(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new f(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=f,function(k,r,o,i){var q,l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],j=Object.keys(o);for(j.sort(),q=0;q<j.length;q++){var m=j[q],n=o[m],p=new k(n[0],n[1],n[2],n[3]),s=p.stringify();r[s]=m}l.forEach(function(t){var u=t+t;l.forEach(function(v){var w=v+v;l.forEach(function(A){var B=A+A,y="#"+t+v+A,z="#"+u+w+B;if(i[z]){var x=i[z];y=x.length>y.length?y:x}i[z]=y})})})}(f,f.stringifiedMap,e.map,f.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,e,b){var f=d("../Base.js"),c=d("./Type.js"),h=d("./Numeric.js"),g=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new h(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(c);f.apply(g.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),e.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,c,g){var e=d("../Base.js"),b=d("./Type.js"),h=d("./List.js"),f=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new h(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(b);e.apply(f.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),c.exports=f},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("top"),l.push("bottom"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(linear, "+l.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var m=this.items,l=m.length,j=[],k=0;k<l;k++){j.push(m[k].clone())}return new i(j,this.separator)}},{key:"clone",value:function(m,l){if(l&&this.matches(m)){return l.clone()}for(var p=this.items,k=p.length,j=[],o=0;o<k;o++){j.push(p[o].clone(m,l))}var n=new i(j,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(k){for(var l=[],m=0;m<this.items.length;m++){var j=this.items[m];j&&l.push(j.toPrefixedString(k))}return l.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(d,h,f){var i=d("../Base.js"),e=d("./Type.js"),g=d("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=e.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=e.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new g(l+1)}}},{key:"insert",value:function(n,l){var o=e.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(e);i.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var b=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);i.apply(b.prototype,{$isFashionNull:!0,$constant:!0}),b.prototype.$isFashionNull=!0,c.Null=new b(null),c.None=new c("none"),h.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(c,k,e){var i=c("../Base.js"),g=c("./List.js"),h=c("./Type.js"),d=c("./Literal.js"),f=d.Null,b=c("./Numeric.js"),j=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof b&&(n=h.unbox(n)),"number"==typeof n?new g([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||f)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(g);i.apply(j.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),k.exports=j},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(d,h,f){var i=d("../Base.js"),e=d("./Type.js"),b=d("./Bool.js"),c=d("./Literal.js"),g=function(k){function j(p,o,l,n){_classCallCheck(this,j);var m=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return m.value=p,m.unit=o,o&&!l?m.numeratorUnits=[o]:m.numeratorUnits=l||[],m.denominatorUnits=n||[],m}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(n,l){var m;this.unit||l.unit;return l.$isFashionRGBA||l.$isFashionHSLA?new c(this+n+l):l.$isFashionNumber?this.numericOperate(n,l):l.$isFashionLiteral&&(m=this.tryCoerce(l))?this.performOperation(n,m):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,n,l)}},{key:"tryNormalize",value:function(n){var m=n.value,l=n.unit;if(n.$isFashionNumber){switch(this.unit){case"mm":switch(l){case"in":return new j(25.4*m,"mm");case"cm":return new j(2.54*m,"mm")}break;case"cm":switch(l){case"in":return new j(2.54*m,"cm");case"mm":return new j(m/10,"cm")}break;case"in":switch(l){case"mm":return new j(m/25.4,"in");case"cm":return new j(m/2.54,"in")}break;case"ms":switch(l){case"s":return new j(1000*m,"ms")}break;case"s":switch(l){case"ms":return new j(m/1000,"s")}break;case"Hz":switch(l){case"kHz":return new j(1000*m,"Hz")}break;case"kHz":switch(l){case"Hz":return new j(m/1000,"kHz")}break;case"%":switch(l){default:return new j(m)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(n){var m=this.unit,l=n.unit;return !!n.$isFashionNumber&&(m===l||"mm"===m&&("in"===l||"cm"===l)||"cm"===m&&("in"===l||"mm"===l)||"in"===m&&("mm"===l||"cm"===l)||"ms"===m&&"s"===l||"s"===m&&"ms"===l||"Hz"===m&&"kHz"===l||"kHz"===m&&"Hz"===l)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=i.filter(l.num,function(m){return !!m}),l.den=i.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(t,p){this.normalizeUnits(),p.normalizeUnits();var q,o=this,n=p,s=j.OPERATIONS,r=j.NON_COERCE_OPERATIONS,u=s[t];if(u){try{o.unitless()?o=o.coerceUnits(n.numeratorUnits,n.denominatorUnits):n=n.coerceUnits(o.numeratorUnits,o.denominatorUnits)}catch(m){if("=="==t){return b.False}if("!="==t){return b.True}throw m}}else{u=r[t]}if(u&&(q=u(o.value,n.value)),"number"==typeof q){var l=this.computeUnits(o,n,t);return new j(q,l.num.length?l.num[0]:null,l.num,l.den)}return new b(q)}},{key:"computeUnits",value:function(l,n,m){switch(m){case"*":return{num:l.numeratorUnits.slice().concat(n.numeratorUnits),den:l.denominatorUnits.slice().concat(n.denominatorUnits)};case"/":return{num:l.numeratorUnits.slice().concat(n.denominatorUnits),den:l.denominatorUnits.slice().concat(n.numeratorUnits)};default:return{num:l.numeratorUnits,den:l.denominatorUnits}}}},{key:"coerceUnits",value:function(n,l){var m=this.value;return this.unitless()||(m=m*this.coercionFactor(this.numeratorUnits,n)/this.coercionFactor(this.denominatorUnits,l)),new j(m,n&&n[0],n,l)}},{key:"coercionFactor",value:function(n,s){var o=this.removeCommonUnits(n,s),q=o.num,u=o.den;q.length===u.length&&this.convertable(q||u)||i.raise("Incompatible units: "+q.join("*")+" and "+u.join("*"));for(var m=0;m<q.length;m++){for(var t=q[m],l=0;l<u.length;l++){var r=u[l],p=this.conversionFactor(t,r);if(null!==p){return p}}}return 1}},{key:"conversionFactor",value:function(p,o){var l=j.CONVERTABLE_UNITS,m=j.CONVERSION_TABLE,n=null;return l[p]&&l[o]&&(n=m[l[p]][l[o]]),null===n&&l[o]&&l[p]&&(n=1/m[l[o]][l[p]]),n}},{key:"convertable",value:function(n){if(n&&!Array.isArray(n)&&(n=[n]),n&&n.length){for(var m=j.CONVERTABLE_UNITS,l=0;l<n.length;l++){if(void 0===m[n[l]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(r,o){var p,q,q,m={},n=[],l=[];for(p=0;p<r.length;p++){q=r[p],m[q]=(m[q]||0)+1}for(p=0;p<o.length;p++){q=o[p],m[q]=(m[q]||0)-1}for(p=0;p<r.length;p++){q=r[p],m[q]>0&&(n.push(q),m[q]--)}for(p=0;p<o.length;p++){q=o[p],m[q]<0&&(l.push(q),m[q]++)}return{num:n,den:l}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(e);i.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),i.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),h.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(l,j,k){_classCallCheck(this,i);var m=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return m.position=l,m.stops=k,m.shape=j,m}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("center 0%"),l.push("center 100%"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(radial, "+l.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,c,g){var f=d("../Base.js"),b=d("./TypeVisitor.js"),h=d("../Output.js"),e=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(q){for(var t,n=this.output,s=q.items,r=n.output.length,l=q.separator,k=l&&l.length,m=l&&l.indexOf(" ")>-1,o=n.output,p=0;p<s.length;p++){s[p]&&(this.visit(s[p]),t=n.output.length-r,!t&&k&&p>0&&(n.output=o),o=n.output,p<s.length-1&&k&&(n.add(l),m||n.space()),r=n.output.length)}}},{key:"map",value:function(m){var p,o,l=this.output,n=m.items;this.currDeclaration&&f.raise("("+m+") isn't a valid CSS value.");for(var k=0;k<n.length-1;k+=2){p=n[k],o=n[k+1],p&&o&&(k>0&&(l.add(","),l.space()),this.visit(p),l.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new h,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(b);f.apply(e.prototype,{output:null}),c.exports=e},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(n,l,h,k){l=l||"fashion",h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+n+"s*$"),k=k||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+n+"\\s*$");var j=this.docs;if(j&&j.length){for(var m=0;m<this.docs.length;m++){var i=j[m];if(h.test(i)){return !0}if(k.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(n,l,h,k):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(d,f,e){return f in d?Object.defineProperty(d,f,{value:e,enumerable:!0,configurable:!0,writable:!0}):d[f]=e,d}var _get=function get(k,h,i){null===k&&(k=Function.prototype);var g=Object.getOwnPropertyDescriptor(k,h);if(void 0===g){var j=Object.getPrototypeOf(k);return null===j?void 0:get(j,h,i)}if("value" in g){return g.value}var l=g.get;if(void 0!==l){return l.call(i)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,l,a){var n,k=m("./src/export/Base.js"),j=m("./src/export/css/CssVariableManager.js"),i=new j;k.apply(k,(n={css:i,CssExport:j,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(n,"Types",m("./src/export/type/Types.js")),_defineProperty(n,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(n,"Output",m("./src/export/Output.js")),_defineProperty(n,"Runtime",m("./src/export/Runtime.js")),n)),l.exports=k},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(W,ab,P){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function Z(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?Z(d,c):g[e]=c):g[e]=c}}return g}function N(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function a(c){return c&&"function"==typeof c}function S(d,c){console.log(N("[DBG] "+d,c))}function Y(d,c){console.log(N("[LOG] "+d,c))}function G(d,c){console.log(N("[INF] "+d,c))}function H(d,c){console.log(N("[WRN] "+d,c))}function I(d,c){console.log(N("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function V(d,c){var e;c&&(d=N(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function U(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function X(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function M(c){return c.length&&c[c.length-1]}function O(c){return c.length>2?c.slice(1):[]}function L(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function K(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;L(f,T.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function R(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?R(e,d-1,g):g.push(e)}return g}var aa=W("./../NameConverter.js"),T=function T(c){_classCallCheck(this,T),c&&Z(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return M(this.items)}},{key:"tail",value:function(){return O(this.items)}}]),c}();C.prototype.items=null;var Q=Object.create||function(c){return D.prototype=c,new D};ab.exports={EmptyArray:[],getJsName:aa.getJsName,chain:Q,Base:T,BaseSet:C,apply:J,merge:Z,createMessage:N,isFunction:a,debug:S,log:Y,info:G,warn:H,error:I,raise:F,raiseAt:V,filter:U,convert:X,first:E,last:M,tail:O,mixin:K,flatten:R}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(G,y,D){var t=G("./Base.js"),A=t.Base,C=G("./type/Type.js"),E=G("./type/List.js"),x=G("./type/Bool.js"),B=G("./type/Color.js"),a=G("./type/ColorRGBA.js"),H=G("./type/Text.js"),s=G("./type/Literal.js"),u=G("./type/Statics.js"),v=G("./type/TypeVisitor.js"),F=G("./type/Types.js"),w=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(w.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var z=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:u.boxType,unbox:u.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(i,k){for(var j,m={},o=0,l=0;l<i.length;l++){var n=i[l];if(void 0!==n){if(n===!0||n===!1){m[k[o]]=n,o++}else{if(void 0===n.type){for(j in n){m[j.replace(/^\$/,"")]=n[j]}}else{j=k[o],j instanceof Array?(j=j[0],m[j]=m[j]||new E,m[j].add(n)):(m[j]=n,o++)}}}}return m},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new x(f)}},{key:"color",value:function d(f){var g=B.map[f],h=new a(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new H(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(g){g=g||this.types;for(var i,f=Object.getOwnPropertyNames(g),j=[],h=0;h<f.length;h++){i=f[h],j.push(i+" = Types."+i),j.push("__"+i+" = "+i)}return 0===j.length?"":"var "+j.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(f){f=f||this.constructor.prototype;for(var g,i,j=[];f;){g=Object.getOwnPropertyNames(f);for(var h=0;h<g.length;h++){i=g[h],"function"==typeof f[i]&&j.push("__rt_"+i+" = __rt."+i+".bind(__rt)")}f=Object.getPrototypeOf(f)}return 0===j.length?"":"var "+j.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var f,h=Object.getOwnPropertyNames(this),g=[],i=0;i<h.length;i++){f=h[i],g.push("__rt_"+f+" = __rt."+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new v(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new w(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(i,g,h){var f=this._globalScope;return g&&g.$isFashionLiteral||(g=this.box(g)),g.ast=g.ast||this.getAstNode(h),f.map[i]=g,g}},{key:"setDynamic",value:function(h,k,g){var j,i=t.getJsName(h),f=this._globalScope;return k&&k.$isFashionLiteral||(k=this.box(k)),k.ast=k.ast||this.getAstNode(g),k.$referenceName||k.$constant?(j=k.clone(),j.$previousReference=k,k=j,k.ast=this.getAstNode(g)):k.$referenceName=h,f.map[i]=k,k}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new E(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,k,h,j,f=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(j=i.getItems(),h=0;h<j.length;h++){k=j[h],k&&(k.splatSeparator=i.separator),f.push(k)}}else{f.push(i)}i&&(i.splat=void 0)}return f}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(A);t.apply(z.prototype,{box:C.box,unbox:C.unbox,Scope:w,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:F,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),y.exports=z},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(m,k,l){var a=m("../Base.js"),o=m("../Runtime.js"),n=m("../parse/ValueParser.js"),j=m("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new o}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(C){var g,f,A,e,x,i,z,y=this,d=y.getRuntime(),B=new n,h=y.variableMap;f=new d.Scope;for(e in C){g=a.getJsName(e.replace(y.nameRe,"")),0!==g.indexOf("$")&&(g="$"+g),f.put(g,B.parse(C[e]))}d._globalScope=f,d._currentScope=f;for(var D=0;D<y.calcFns.length;D++){y.calcFns[D](d)}A=new j,C={};for(e in h){x=h[e];for(var D=0;D<x.length;D++){g=x[D],i="$"+a.getJsName(g),z=f.get(i),z&&(z.$isWrapper&&(z=z.value),C[g]=A.toSource(z))}}return C}},{key:"applyVariables",value:function(i){var h=this,f=h.variableMap;for(var e in f){var g=f[e],v=document.querySelectorAll(e);if(v){for(var t=0;t<v.length;t++){for(var u=0;u<g.length;u++){var d=g[u];v[t].style.setProperty("--"+d,i[d])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return a.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var h=this,f=h.variableMap,u={};for(var e in f){var g=f[e],v=document.querySelectorAll(e);if(v){for(var i=0;i<v.length;i++){for(var t=0;t<g.length;t++){var d=g[t];u[d]=v[i].style.getPropertyValue("--"+d)}}}}return u}}]),c}();a.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),k.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,E,u){var y=x("../Base.js"),a=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),r=v.Color,A=v.Text,B=v.Numeric,z=v.List,s=v.Bool,C=v.Literal,t=v.ColorRGBA,F=v.ColorHSLA,D=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var k,j=this,f="",g=j.str,d=g.length,e=!1,h=!1,i=0;j.index<d;){if(k=g[j.index],j.index++,k<=" "&&!e&&!i){if(f.length){break}}else{if(";"===k&&!e&&!h){break}if("("===k&&i++,")"===k&&i&&i--,","===k&&!e&&!h&&!i){if(f.length){j.index--;break}return k}"\\"===k&&e?(h=1,j.index++):('"'!==k&&"'"!==k||(e?e===k&&(e=!1):e=k),h=!1,f+=k)}}return f}},{key:"parseValue",value:function(h){var i,g,f={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===h[0]||"'"===h[0]){return g=h=h.substring(1,h.length-1),new A(g,h[0])}if("true"===h){return new s((!0))}if("false"===h){return new s((!1))}if("null"===h){return C.Null}if("none"===h){return C.None}if(y.Color.map[h]){var j=r.map[h],e=new t(j[0],j[1],j[2],j[3]);return e.stringified=h,e}if(i=f.number.exec(h)){return new B(parseFloat(i[1]),i[2])}if(i=f.shortHexColor.exec(h)){return t.fromHex(i[1])}if(i=f.longHexColor.exec(h)){return t.fromHex(i[1])}if(i=f.functionCall.exec(h)){var k=i[1],d=this.parse(i[2]).items;return"hsla"===k||"hsl"===k?new F(a.unbox(d[0]),a.unbox(d[1]),a.unbox(d[2]),a.unbox(d[3])||1):"rgba"===k||"rgb"===k?new t(a.unbox(d[0]),a.unbox(d[1]),a.unbox(d[2]),a.unbox(d[3])||1):new D(k,d)}return(i=f.parenList.exec(h))?new D(this.parse(i[1])):new y.Literal(h)}},{key:"parse",value:function(h){var d,j=this,i=[],f=[],g=null;for(j.str=h,j.index=0;d=j._advance();){i.push(d)}for(var e=0;e<i.length;e++){d=i[e].trim(),","===i[e+1]?(g=g||[],g.push(j.parseValue(d)),e++):g?(g.push(j.parseValue(d)),f.push(new z(g,", ")),g=null):f.push(j.parseValue(d))}return 1===f.length?f[0]:new z(f," ")}}]),c}();E.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(m,o,n){var k=m("../Base.js"),p=m("./Type.js"),a=m("./Bool.js"),l=m("./Numeric.js"),j=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return a.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(i,f){var e,g=c.units[f],h=c.types[f],r=c.comps[f];return e="hsla"==h?i.getHSLA():i.getRGBA(),new l(e[r],g)}},{key:"adjust",value:function(i,f,h){var e=i.getHSLA().copy(),r=c.comps[f],g=h.value;return e[r]+=g,e.h=c.constrainDegrees(e.h),e.s=c.constrainPercentage(e.s),e.l=c.constrainPercentage(e.l),e.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);k.apply(j,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),k.apply(j.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),o.exports=j},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,j){var n=m("../Base.js"),l=m("./Color.js"),k=m("./ColorRGBA.js"),i=function(c){function d(e,f,g,h){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=l.constrainDegrees(e),p.s=f,p.l=g,void 0!==h&&(p.a=h),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return k.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(e,f,g,h){return new d(l.constrainDegrees(this.h+e),l.constrainPercentage(this.s+f),l.constrainPercentage(this.l+g),l.constrainAlpha(this.a*h))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=l.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=l.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var A=g.r/255,s=g.g/255,y=g.b/255,h=g.a,x=Math.max(A,s,y),f=Math.min(A,s,y),r=x-f,e=0,B=0,z=0.5*(x+f);return f!=x&&(B=z<0.5?r/(x+f):r/(2-x-f),e=A==x?60*(s-y)/r:s==x?120+60*(y-A)/r:240+60*(A-s)/r,e<0&&(e+=360),e>=360&&(e-=360)),new d(l.constrainDegrees(e),l.constrainPercentage(100*B),l.constrainPercentage(100*z),h)}}]),d}(l);k.prototype.getHSLA=function(){return i.fromRGBA(this)},n.apply(i.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=i},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,j){function i(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var n=m("../Base.js"),l=m("./Color.js"),k=function(d){function c(f,g,e,h){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,f)),p.g=Math.min(255,Math.max(0,g)),p.b=Math.min(255,Math.max(0,e)),void 0!==h&&(p.a=Math.min(1,Math.max(0,h))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,f=e(h.r),r=e(h.g),g=e(h.b),s=h.a,t="";return t=1===s?"#"+i(f)+i(r)+i(g):"rgba("+f+", "+r+", "+g+", "+s+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var e=this,g=Math.round,q=g(e.r),h=g(e.g),r=g(e.b),f=g(255*e.a);return"#"+i(f)+i(q)+i(h)+i(r)}},{key:"add",value:function(f,g,e,h){return new c(this.r+f,this.g+g,this.b+e,this.a*h)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(f){"#"==f.charAt(0)&&(f=f.substr(1));var g,h,p;3===f.length?(g=parseInt(f.charAt(0),16),h=parseInt(f.charAt(1),16),p=parseInt(f.charAt(2),16),g=(g<<4)+g,h=(h<<4)+h,p=(p<<4)+p):(g=parseInt(f.substring(0,2),16),h=parseInt(f.substring(2,4),16),p=parseInt(f.substring(4,6),16));var e=new c(g,h,p);return c.preserveInputStrings&&(e.stringified="#"+f),e}},{key:"fromHSLA",value:function(C){function B(o){return o<0&&++o,o>1&&--o,6*o<1?e+(f-e)*o*6:2*o<1?f:3*o<2?e+(f-e)*(2/3-o)*6:e}if(C.$isFashionRGBA){return C.clone()}var z=C,y=z.h/360,h=z.s/100,D=z.l/100,s=z.a,f=D<=0.5?D*(h+1):D+h-D*h,e=2*D-f,g=l.constrainChannel(255*B(y+1/3)),r=l.constrainChannel(255*B(y)),A=l.constrainChannel(255*B(y-1/3));return new c(g,r,A,s)}}]),c}(l);n.apply(k,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),n.apply(k.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new k(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new k(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=k,function(u,c,f,w){var d,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],v=Object.keys(f);for(v.sort(),d=0;d<v.length;d++){var h=v[d],g=f[h],e=new u(g[0],g[1],g[2],g[3]),x=e.stringify();c[x]=h}t.forEach(function(p){var o=p+p;t.forEach(function(r){var q=r+r;t.forEach(function(C){var F=C+C,E="#"+p+r+C,D="#"+o+q+F;if(w[D]){var s=w[D];E=s.length>E.length?E:s}w[D]=E})})})}(k,k.stringifiedMap,l.map,k.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,l,a){var k=m("../Base.js"),n=m("./Type.js"),i=m("./Numeric.js"),j=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new i(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(n);k.apply(j.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),l.exports=j},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,n,j){var l=m("../Base.js"),a=m("./Type.js"),i=m("./List.js"),k=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new i(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(a);l.apply(k.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),n.exports=k},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("top"),f.push("bottom"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(linear, "+f.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var e=this.items,f=e.length,n=[],g=0;g<f;g++){n.push(e[g].clone())}return new c(n,this.separator)}},{key:"clone",value:function(e,f){if(f&&this.matches(e)){return f.clone()}for(var r=this.items,g=r.length,q=[],s=0;s<g;s++){q.push(r[s].clone(e,f))}var t=new c(q,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(g){for(var f=[],e=0;e<this.items.length;e++){var n=this.items[e];n&&f.push(n.toPrefixedString(g))}return f.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(o,k,m){var j=o("../Base.js"),n=o("./Type.js"),l=o("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=n.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=n.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new l(f+1)}}},{key:"insert",value:function(h,f){var g=n.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(n);j.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var a=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);j.apply(a.prototype,{$isFashionNull:!0,$constant:!0}),a.prototype.$isFashionNull=!0,p.Null=new a(null),p.None=new p("none"),k.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(s,a,q){var m=s("../Base.js"),o=s("./List.js"),n=s("./Type.js"),r=s("./Literal.js"),p=r.Null,t=s("./Numeric.js"),l=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof t&&(e=n.unbox(e)),"number"==typeof e?new o([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||p)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(o);m.apply(l.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),a.exports=l},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(o,k,m){var j=o("../Base.js"),n=o("./Type.js"),a=o("./Bool.js"),p=o("./Literal.js"),l=function(c){function d(g,h,f,i){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.value=g,e.unit=h,h&&!f?e.numeratorUnits=[h]:e.numeratorUnits=f||[],e.denominatorUnits=i||[],e}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(g,f){var e;this.unit||f.unit;return f.$isFashionRGBA||f.$isFashionHSLA?new p(this+g+f):f.$isFashionNumber?this.numericOperate(g,f):f.$isFashionLiteral&&(e=this.tryCoerce(f))?this.performOperation(g,e):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,g,f)}},{key:"tryNormalize",value:function(g){var e=g.value,f=g.unit;if(g.$isFashionNumber){switch(this.unit){case"mm":switch(f){case"in":return new d(25.4*e,"mm");case"cm":return new d(2.54*e,"mm")}break;case"cm":switch(f){case"in":return new d(2.54*e,"cm");case"mm":return new d(e/10,"cm")}break;case"in":switch(f){case"mm":return new d(e/25.4,"in");case"cm":return new d(e/2.54,"in")}break;case"ms":switch(f){case"s":return new d(1000*e,"ms")}break;case"s":switch(f){case"ms":return new d(e/1000,"s")}break;case"Hz":switch(f){case"kHz":return new d(1000*e,"Hz")}break;case"kHz":switch(f){case"Hz":return new d(e/1000,"kHz")}break;case"%":switch(f){default:return new d(e)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(g){var e=this.unit,f=g.unit;return !!g.$isFashionNumber&&(e===f||"mm"===e&&("in"===f||"cm"===f)||"cm"===e&&("in"===f||"mm"===f)||"in"===e&&("mm"===f||"cm"===f)||"ms"===e&&"s"===f||"s"===e&&"ms"===f||"Hz"===e&&"kHz"===f||"kHz"===e&&"Hz"===f)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=j.filter(e.num,function(f){return !!f}),e.den=j.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(y,g){this.normalizeUnits(),g.normalizeUnits();var f,h=this,i=g,z=d.OPERATIONS,e=d.NON_COERCE_OPERATIONS,x=z[y];if(x){try{h.unitless()?h=h.coerceUnits(i.numeratorUnits,i.denominatorUnits):i=i.coerceUnits(h.numeratorUnits,h.denominatorUnits)}catch(v){if("=="==y){return a.False}if("!="==y){return a.True}throw v}}else{x=e[y]}if(x&&(f=x(h.value,i.value)),"number"==typeof f){var w=this.computeUnits(h,i,y);return new d(f,w.num.length?w.num[0]:null,w.num,w.den)}return new a(f)}},{key:"computeUnits",value:function(f,g,e){switch(e){case"*":return{num:f.numeratorUnits.slice().concat(g.numeratorUnits),den:f.denominatorUnits.slice().concat(g.denominatorUnits)};case"/":return{num:f.numeratorUnits.slice().concat(g.denominatorUnits),den:f.denominatorUnits.slice().concat(g.numeratorUnits)};default:return{num:f.numeratorUnits,den:f.denominatorUnits}}}},{key:"coerceUnits",value:function(g,f){var e=this.value;return this.unitless()||(e=e*this.coercionFactor(this.numeratorUnits,g)/this.coercionFactor(this.denominatorUnits,f)),new d(e,g&&g[0],g,f)}},{key:"coercionFactor",value:function(i,z){var h=this.removeCommonUnits(i,z),f=h.num,x=h.den;f.length===x.length&&this.convertable(f||x)||j.raise("Incompatible units: "+f.join("*")+" and "+x.join("*"));for(var v=0;v<f.length;v++){for(var y=f[v],w=0;w<x.length;w++){var e=x[w],g=this.conversionFactor(y,e);if(null!==g){return g}}}return 1}},{key:"conversionFactor",value:function(g,h){var f=d.CONVERTABLE_UNITS,e=d.CONVERSION_TABLE,i=null;return f[g]&&f[h]&&(i=e[f[g]][f[h]]),null===i&&f[h]&&f[g]&&(i=1/e[f[h]][f[g]]),i}},{key:"convertable",value:function(g){if(g&&!Array.isArray(g)&&(g=[g]),g&&g.length){for(var e=d.CONVERTABLE_UNITS,f=0;f<g.length;f++){if(void 0===e[g[f]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(g,s){var i,h,h,e={},t=[],f=[];for(i=0;i<g.length;i++){h=g[i],e[h]=(e[h]||0)+1}for(i=0;i<s.length;i++){h=s[i],e[h]=(e[h]||0)-1}for(i=0;i<g.length;i++){h=g[i],e[h]>0&&(t.push(h),e[h]--)}for(i=0;i<s.length;i++){h=s[i],e[h]<0&&(f.push(h),e[h]++)}return{num:t,den:f}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(n);j.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),j.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),k.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(f,n,g){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=f,e.stops=g,e.shape=n,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("center 0%"),f.push("center 100%"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(radial, "+f.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,n,j){var k=m("../Base.js"),a=m("./TypeVisitor.js"),i=m("../Output.js"),l=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(f){for(var y,u=this.output,z=f.items,e=u.output.length,w=f.separator,x=w&&w.length,v=w&&w.indexOf(" ")>-1,h=u.output,g=0;g<z.length;g++){z[g]&&(this.visit(z[g]),y=u.output.length-e,!y&&x&&g>0&&(u.output=h),h=u.output,g<z.length-1&&x&&(u.add(w),v||u.space()),e=u.output.length)}}},{key:"map",value:function(e){var h,q,f=this.output,r=e.items;this.currDeclaration&&k.raise("("+e+") isn't a valid CSS value.");for(var g=0;g<r.length-1;g+=2){h=r[g],q=r[g+1],h&&q&&(g>0&&(f.add(","),f.space()),this.visit(h),f.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new i,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(a);k.apply(l.prototype,{output:null}),n.exports=l},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(r,e,q,f){e=e||"fashion",q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+r+"s*$"),f=f||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+r+"\\s*$");var o=this.docs;if(o&&o.length){for(var d=0;d<this.docs.length;d++){var p=o[d];if(q.test(p)){return !0}if(f.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(r,e,q,f):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(c,a,b){return a in c?Object.defineProperty(c,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[a]=b,c}var _get=function get(b,e,d){null===b&&(b=Function.prototype);var f=Object.getOwnPropertyDescriptor(b,e);if(void 0===f){var c=Object.getPrototypeOf(b);return null===c?void 0:get(c,e,d)}if("value" in f){return f.value}var a=f.get;if(void 0!==a){return a.call(d)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,c){var h,e=b("./src/export/Base.js"),f=b("./src/export/css/CssVariableManager.js"),g=new f;e.apply(e,(h={css:g,CssExport:f,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(h,"Types",b("./src/export/type/Types.js")),_defineProperty(h,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(h,"Output",b("./src/export/Output.js")),_defineProperty(h,"Runtime",b("./src/export/Runtime.js")),h)),d.exports=e},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(e,z,l){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function b(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?b(F,G):C[E]=G):C[E]=G}}return C}function n(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function A(C){return C&&"function"==typeof C}function i(C,D){console.log(n("[DBG] "+C,D))}function c(C,D){console.log(n("[LOG] "+C,D))}function u(C,D){console.log(n("[INF] "+C,D))}function t(C,D){console.log(n("[WRN] "+C,D))}function s(C,D){console.log(n("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function f(D,E){var C;E&&(D=n(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function g(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function d(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function o(C){return C.length&&C[C.length-1]}function m(C){return C.length>2?C.slice(1):[]}function p(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function q(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;p(E,h.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function j(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?j(E,F-1,C):C.push(E)}return C}var B=e("./../NameConverter.js"),h=function h(C){_classCallCheck(this,h),C&&b(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return o(this.items)}},{key:"tail",value:function(){return m(this.items)}}]),C}();y.prototype.items=null;var k=Object.create||function(C){return x.prototype=C,new x};z.exports={EmptyArray:[],getJsName:B.getJsName,chain:k,Base:h,BaseSet:y,apply:r,merge:b,createMessage:n,isFunction:A,debug:i,log:c,info:u,warn:t,error:s,raise:v,raiseAt:f,filter:g,convert:d,first:w,last:o,tail:m,mixin:q,flatten:j}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(n,g,b){var p=n("./Base.js"),e=p.Base,c=n("./type/Type.js"),r=n("./type/List.js"),i=n("./type/Bool.js"),d=n("./type/Color.js"),h=n("./type/ColorRGBA.js"),l=n("./type/Text.js"),q=n("./type/Literal.js"),m=n("./type/Statics.js"),k=n("./type/TypeVisitor.js"),o=n("./type/Types.js"),j=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(j.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var f=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:m.boxType,unbox:m.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(C,A){for(var B,y={},D=0,z=0;z<C.length;z++){var E=C[z];if(void 0!==E){if(E===!0||E===!1){y[A[D]]=E,D++}else{if(void 0===E.type){for(B in E){y[B.replace(/^\$/,"")]=E[B]}}else{B=A[D],B instanceof Array?(B=B[0],y[B]=y[B]||new r,y[B].add(E)):(y[B]=E,D++)}}}}return y},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new i(v)}},{key:"color",value:function t(x){var w=d.map[x],v=new h(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new l(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(y){y=y||this.types;for(var w,z=Object.getOwnPropertyNames(y),v=[],x=0;x<z.length;x++){w=z[x],v.push(w+" = Types."+w),v.push("__"+w+" = "+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(z){z=z||this.constructor.prototype;for(var y,w,v=[];z;){y=Object.getOwnPropertyNames(z);for(var x=0;x<y.length;x++){w=y[x],"function"==typeof z[w]&&v.push("__rt_"+w+" = __rt."+w+".bind(__rt)")}z=Object.getPrototypeOf(z)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var y,w=Object.getOwnPropertyNames(this),x=[],v=0;v<w.length;v++){y=w[v],x.push("__rt_"+y+" = __rt."+y)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new k(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new j(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(v,x,w){var y=this._globalScope;return x&&x.$isFashionLiteral||(x=this.box(x)),x.ast=x.ast||this.getAstNode(w),y.map[v]=x,x}},{key:"setDynamic",value:function(y,v,z){var w,x=p.getJsName(y),A=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(z),v.$referenceName||v.$constant?(w=v.clone(),w.$previousReference=v,v=w,v.ast=this.getAstNode(z)):v.$referenceName=y,A.map[x]=v,v}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new r(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,w,z,x,B=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(x=y.getItems(),z=0;z<x.length;z++){w=x[z],w&&(w.splatSeparator=y.separator),B.push(w)}}else{B.push(y)}y&&(y.splat=void 0)}return B}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(e);p.apply(f.prototype,{box:c.box,unbox:c.unbox,Scope:j,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:o,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),g.exports=f},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(b,e,d){var c=b("../Base.js"),h=b("../Runtime.js"),i=b("../parse/ValueParser.js"),f=b("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new h}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(l){var q,r,n,s,w,o,u,v=this,t=v.getRuntime(),m=new i,p=v.variableMap;r=new t.Scope;for(s in l){q=c.getJsName(s.replace(v.nameRe,"")),0!==q.indexOf("$")&&(q="$"+q),r.put(q,m.parse(l[s]))}t._globalScope=r,t._currentScope=r;for(var k=0;k<v.calcFns.length;k++){v.calcFns[k](t)}n=new f,l={};for(s in p){w=p[s];for(var k=0;k<w.length;k++){q=w[k],o="$"+c.getJsName(q),u=r.get(o),u&&(u.$isWrapper&&(u=u.value),l[q]=n.toSource(u))}}return l}},{key:"applyVariables",value:function(k){var l=this,n=l.variableMap;for(var o in n){var m=n[o],q=document.querySelectorAll(o);if(q){for(var s=0;s<q.length;s++){for(var r=0;r<m.length;r++){var p=m[r];q[s].style.setProperty("--"+p,k[p])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return c.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var l=this,n=l.variableMap,r={};for(var o in n){var m=n[o],q=document.querySelectorAll(o);if(q){for(var k=0;k<q.length;k++){for(var s=0;s<m.length;s++){var p=m[s];r[p]=q[k].style.getPropertyValue("--"+p)}}}}return r}}]),j}();c.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),e.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,q,m){var h=j("../Base.js"),i=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),c=l.Color,f=l.Text,e=l.Numeric,g=l.List,p=l.Bool,d=l.Literal,o=l.ColorRGBA,n=l.ColorHSLA,b=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var s,t=this,x="",w=t.str,z=w.length,y=!1,v=!1,u=0;t.index<z;){if(s=w[t.index],t.index++,s<=" "&&!y&&!u){if(x.length){break}}else{if(";"===s&&!y&&!v){break}if("("===s&&u++,")"===s&&u&&u--,","===s&&!y&&!v&&!u){if(x.length){t.index--;break}return s}"\\"===s&&y?(v=1,t.index++):('"'!==s&&"'"!==s||(y?y===s&&(y=!1):y=s),v=!1,x+=s)}}return x}},{key:"parseValue",value:function(v){var u,w,x={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===v[0]||"'"===v[0]){return w=v=v.substring(1,v.length-1),new f(w,v[0])}if("true"===v){return new p((!0))}if("false"===v){return new p((!1))}if("null"===v){return d.Null}if("none"===v){return d.None}if(h.Color.map[v]){var t=c.map[v],y=new o(t[0],t[1],t[2],t[3]);return y.stringified=v,y}if(u=x.number.exec(v)){return new e(parseFloat(u[1]),u[2])}if(u=x.shortHexColor.exec(v)){return o.fromHex(u[1])}if(u=x.longHexColor.exec(v)){return o.fromHex(u[1])}if(u=x.functionCall.exec(v)){var s=u[1],z=this.parse(u[2]).items;return"hsla"===s||"hsl"===s?new n(i.unbox(z[0]),i.unbox(z[1]),i.unbox(z[2]),i.unbox(z[3])||1):"rgba"===s||"rgb"===s?new o(i.unbox(z[0]),i.unbox(z[1]),i.unbox(z[2]),i.unbox(z[3])||1):new b(s,z)}return(u=x.parenList.exec(v))?new b(this.parse(u[1])):new h.Literal(v)}},{key:"parse",value:function(u){var y,s=this,t=[],w=[],v=null;for(s.str=u,s.index=0;y=s._advance();){t.push(y)}for(var x=0;x<t.length;x++){y=t[x].trim(),","===t[x+1]?(v=v||[],v.push(s.parseValue(y)),x++):v?(v.push(s.parseValue(y)),w.push(new g(v,", ")),v=null):w.push(s.parseValue(y))}return 1===w.length?w[0]:new g(w," ")}}]),r}();q.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(b,h,i){var e=b("../Base.js"),g=b("./Type.js"),d=b("./Bool.js"),c=b("./Numeric.js"),f=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return d.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(l,p){var q,o=k.units[p],m=k.types[p],n=k.comps[p];return q="hsla"==m?l.getHSLA():l.getRGBA(),new c(q[n],o)}},{key:"adjust",value:function(l,p,m){var q=l.getHSLA().copy(),o=k.comps[p],n=m.value;return q[o]+=n,q.h=k.constrainDegrees(q.h),q.s=k.constrainPercentage(q.s),q.l=k.constrainPercentage(q.l),q.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);e.apply(f,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),e.apply(f.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),h.exports=f},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,f){var h=b("../Base.js"),c=b("./Color.js"),e=b("./ColorRGBA.js"),g=function(j){function i(o,m,l,k){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=c.constrainDegrees(o),n.s=m,n.l=l,void 0!==k&&(n.a=k),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return e.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(n,m,l,k){return new i(c.constrainDegrees(this.h+n),c.constrainPercentage(this.s+m),c.constrainPercentage(this.l+l),c.constrainAlpha(this.a*k))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=c.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=c.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var m=o.r/255,w=o.g/255,u=o.b/255,n=o.a,v=Math.max(m,w,u),p=Math.min(m,w,u),k=v-p,q=0,l=0,t=0.5*(v+p);return p!=v&&(l=t<0.5?k/(v+p):k/(2-v-p),q=m==v?60*(w-u)/k:w==v?120+60*(u-m)/k:240+60*(m-w)/k,q<0&&(q+=360),q>=360&&(q-=360)),new i(c.constrainDegrees(q),c.constrainPercentage(100*l),c.constrainPercentage(100*t),n)}}]),i}(c);e.prototype.getHSLA=function(){return g.fromRGBA(this)},h.apply(g.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=g},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,f){function g(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var h=b("../Base.js"),c=b("./Color.js"),e=function(i){function j(m,l,o,k){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,m)),n.g=Math.min(255,Math.max(0,l)),n.b=Math.min(255,Math.max(0,o)),void 0!==k&&(n.a=Math.min(1,Math.max(0,k))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,p=q(m.r),o=q(m.g),n=q(m.b),l=m.a,k="";return k=1===l?"#"+g(p)+g(o)+g(n):"rgba("+p+", "+o+", "+n+", "+l+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var p=this,m=Math.round,o=m(p.r),k=m(p.g),l=m(p.b),n=m(255*p.a);return"#"+g(n)+g(o)+g(k)+g(l)}},{key:"add",value:function(m,l,n,k){return new j(this.r+m,this.g+l,this.b+n,this.a*k)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(m){"#"==m.charAt(0)&&(m=m.substr(1));var l,k,o;3===m.length?(l=parseInt(m.charAt(0),16),k=parseInt(m.charAt(1),16),o=parseInt(m.charAt(2),16),l=(l<<4)+l,k=(k<<4)+k,o=(o<<4)+o):(l=parseInt(m.substring(0,2),16),k=parseInt(m.substring(2,4),16),o=parseInt(m.substring(4,6),16));var n=new j(l,k,o);return j.preserveInputStrings&&(n.stringified="#"+m),n}},{key:"fromHSLA",value:function(m){function n(r){return r<0&&++r,r>1&&--r,6*r<1?u+(t-u)*r*6:2*r<1?t:3*r<2?u+(t-u)*(2/3-r)*6:u}if(m.$isFashionRGBA){return m.clone()}var v=m,w=v.h/360,p=v.s/100,l=v.l/100,x=v.a,t=l<=0.5?l*(p+1):l+p-l*p,u=2*l-t,q=c.constrainChannel(255*n(w+1/3)),k=c.constrainChannel(255*n(w)),o=c.constrainChannel(255*n(w-1/3));return new j(q,k,o,x)}}]),j}(c);h.apply(e,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),h.apply(e.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new e(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new e(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=e,function(r,n,k,p){var m,s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],q=Object.keys(k);for(q.sort(),m=0;m<q.length;m++){var i=q[m],j=k[i],l=new r(j[0],j[1],j[2],j[3]),o=l.stringify();n[o]=i}s.forEach(function(t){var u=t+t;s.forEach(function(v){var w=v+v;s.forEach(function(B){var y=B+B,z="#"+t+v+B,A="#"+u+w+y;if(p[A]){var x=p[A];z=x.length>z.length?z:x}p[A]=z})})})}(e,e.stringifiedMap,c.map,e.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,c){var e=b("../Base.js"),h=b("./Type.js"),g=b("./Numeric.js"),f=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new g(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(h);e.apply(f.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=f},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,h,f){var d=b("../Base.js"),c=b("./Type.js"),g=b("./List.js"),e=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new g(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(c);d.apply(e.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),h.exports=e},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("top"),k.push("bottom"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(linear, "+k.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var l=this.items,k=l.length,m=[],j=0;j<k;j++){m.push(l[j].clone())}return new i(m,this.separator)}},{key:"clone",value:function(p,o){if(o&&this.matches(p)){return o.clone()}for(var m=this.items,l=m.length,n=[],k=0;k<l;k++){n.push(m[k].clone(p,o))}var j=new i(n,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(j){for(var k=[],l=0;l<this.items.length;l++){var m=this.items[l];m&&k.push(m.toPrefixedString(j))}return k.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(h,e,b){var f=h("../Base.js"),i=h("./Type.js"),d=h("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=i.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=i.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new d(l+1)}}},{key:"insert",value:function(l,n){var m=i.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(i);f.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);f.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),e.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(k,i,c){var g=k("../Base.js"),e=k("./List.js"),f=k("./Type.js"),b=k("./Literal.js"),d=b.Null,j=k("./Numeric.js"),h=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof j&&(n=f.unbox(n)),"number"==typeof n?new e([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||d)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(e);g.apply(h.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),i.exports=h},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(h,e,b){var f=h("../Base.js"),i=h("./Type.js"),d=h("./Bool.js"),g=h("./Literal.js"),c=function(k){function j(n,m,o,l){_classCallCheck(this,j);var p=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return p.value=n,p.unit=m,m&&!o?p.numeratorUnits=[m]:p.numeratorUnits=o||[],p.denominatorUnits=l||[],p}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(l,m){var n;this.unit||m.unit;return m.$isFashionRGBA||m.$isFashionHSLA?new g(this+l+m):m.$isFashionNumber?this.numericOperate(l,m):m.$isFashionLiteral&&(n=this.tryCoerce(m))?this.performOperation(l,n):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,l,m)}},{key:"tryNormalize",value:function(l){var n=l.value,m=l.unit;if(l.$isFashionNumber){switch(this.unit){case"mm":switch(m){case"in":return new j(25.4*n,"mm");case"cm":return new j(2.54*n,"mm")}break;case"cm":switch(m){case"in":return new j(2.54*n,"cm");case"mm":return new j(n/10,"cm")}break;case"in":switch(m){case"mm":return new j(n/25.4,"in");case"cm":return new j(n/2.54,"in")}break;case"ms":switch(m){case"s":return new j(1000*n,"ms")}break;case"s":switch(m){case"ms":return new j(n/1000,"s")}break;case"Hz":switch(m){case"kHz":return new j(1000*n,"Hz")}break;case"kHz":switch(m){case"Hz":return new j(n/1000,"kHz")}break;case"%":switch(m){default:return new j(n)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(l){var n=this.unit,m=l.unit;return !!l.$isFashionNumber&&(n===m||"mm"===n&&("in"===m||"cm"===m)||"cm"===n&&("in"===m||"mm"===m)||"in"===n&&("mm"===m||"cm"===m)||"ms"===n&&"s"===m||"s"===n&&"ms"===m||"Hz"===n&&"kHz"===m||"kHz"===n&&"Hz"===m)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=f.filter(l.num,function(m){return !!m}),l.den=f.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(r,n){this.normalizeUnits(),n.normalizeUnits();var o,m=this,l=n,q=j.OPERATIONS,p=j.NON_COERCE_OPERATIONS,s=q[r];if(s){try{m.unitless()?m=m.coerceUnits(l.numeratorUnits,l.denominatorUnits):l=l.coerceUnits(m.numeratorUnits,m.denominatorUnits)}catch(u){if("=="==r){return d.False}if("!="==r){return d.True}throw u}}else{s=p[r]}if(s&&(o=s(m.value,l.value)),"number"==typeof o){var t=this.computeUnits(m,l,r);return new j(o,t.num.length?t.num[0]:null,t.num,t.den)}return new d(o)}},{key:"computeUnits",value:function(m,l,n){switch(n){case"*":return{num:m.numeratorUnits.slice().concat(l.numeratorUnits),den:m.denominatorUnits.slice().concat(l.denominatorUnits)};case"/":return{num:m.numeratorUnits.slice().concat(l.denominatorUnits),den:m.denominatorUnits.slice().concat(l.numeratorUnits)};default:return{num:m.numeratorUnits,den:m.denominatorUnits}}}},{key:"coerceUnits",value:function(l,m){var n=this.value;return this.unitless()||(n=n*this.coercionFactor(this.numeratorUnits,l)/this.coercionFactor(this.denominatorUnits,m)),new j(n,l&&l[0],l,m)}},{key:"coercionFactor",value:function(l,q){var m=this.removeCommonUnits(l,q),o=m.num,s=m.den;o.length===s.length&&this.convertable(o||s)||f.raise("Incompatible units: "+o.join("*")+" and "+s.join("*"));for(var u=0;u<o.length;u++){for(var r=o[u],t=0;t<s.length;t++){var p=s[t],n=this.conversionFactor(r,p);if(null!==n){return n}}}return 1}},{key:"conversionFactor",value:function(n,m){var o=j.CONVERTABLE_UNITS,p=j.CONVERSION_TABLE,l=null;return o[n]&&o[m]&&(l=p[o[n]][o[m]]),null===l&&o[m]&&o[n]&&(l=1/p[o[m]][o[n]]),l}},{key:"convertable",value:function(l){if(l&&!Array.isArray(l)&&(l=[l]),l&&l.length){for(var n=j.CONVERTABLE_UNITS,m=0;m<l.length;m++){if(void 0===n[l[m]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(p,o){var m,n,n,r={},l=[],q=[];for(m=0;m<p.length;m++){n=p[m],r[n]=(r[n]||0)+1}for(m=0;m<o.length;m++){n=o[m],r[n]=(r[n]||0)-1}for(m=0;m<p.length;m++){n=p[m],r[n]>0&&(l.push(n),r[n]--)}for(m=0;m<o.length;m++){n=o[m],r[n]<0&&(q.push(n),r[n]++)}return{num:l,den:q}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(i);f.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),f.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),e.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(k,m,j){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=k,l.stops=j,l.shape=m,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("center 0%"),k.push("center 100%"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(radial, "+k.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,h,f){var e=b("../Base.js"),d=b("./TypeVisitor.js"),g=b("../Output.js"),c=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(m){for(var p,t=this.output,o=m.items,n=t.output.length,r=m.separator,q=r&&r.length,s=r&&r.indexOf(" ")>-1,k=t.output,l=0;l<o.length;l++){o[l]&&(this.visit(o[l]),p=t.output.length-n,!p&&q&&l>0&&(t.output=k),k=t.output,l<o.length-1&&q&&(t.add(r),s||t.space()),n=t.output.length)}}},{key:"map",value:function(p){var k,o,n=this.output,m=p.items;this.currDeclaration&&e.raise("("+p+") isn't a valid CSS value.");for(var l=0;l<m.length-1;l+=2){k=m[l],o=m[l+1],k&&o&&(l>0&&(n.add(","),n.space()),this.visit(k),n.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new g,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(d);e.apply(c.prototype,{output:null}),h.exports=c},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(h,l,j,i){l=l||"fashion",j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+h+"s*$"),i=i||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+h+"\\s*$");var n=this.docs;if(n&&n.length){for(var m=0;m<this.docs.length;m++){var k=n[m];if(j.test(k)){return !0}if(i.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(h,l,j,i):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(f,e,d){return e in f?Object.defineProperty(f,e,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[e]=d,f}var _get=function get(g,j,k){null===g&&(g=Function.prototype);var i=Object.getOwnPropertyDescriptor(g,j);if(void 0===i){var l=Object.getPrototypeOf(g);return null===l?void 0:get(l,j,k)}if("value" in i){return i.value}var h=i.get;if(void 0!==h){return h.call(k)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,m,n){var i,l=a("./src/export/Base.js"),k=a("./src/export/css/CssVariableManager.js"),j=new k;l.apply(l,(i={css:j,CssExport:k,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(i,"Types",a("./src/export/type/Types.js")),_defineProperty(i,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(i,"Output",a("./src/export/Output.js")),_defineProperty(i,"Runtime",a("./src/export/Runtime.js")),i)),m.exports=l},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(Y,a,R){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function ab(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?ab(d,c):g[e]=c):g[e]=c}}return g}function P(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function N(c){return c&&"function"==typeof c}function U(d,c){console.log(P("[DBG] "+d,c))}function aa(d,c){console.log(P("[LOG] "+d,c))}function G(d,c){console.log(P("[INF] "+d,c))}function H(d,c){console.log(P("[WRN] "+d,c))}function I(d,c){console.log(P("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function X(d,c){var e;c&&(d=P(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function W(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function Z(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function O(c){return c.length&&c[c.length-1]}function Q(c){return c.length>2?c.slice(1):[]}function M(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function L(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;M(f,V.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function T(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?T(e,d-1,g):g.push(e)}return g}var K=Y("./../NameConverter.js"),V=function V(c){_classCallCheck(this,V),c&&ab(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return O(this.items)}},{key:"tail",value:function(){return Q(this.items)}}]),c}();C.prototype.items=null;var S=Object.create||function(c){return D.prototype=c,new D};a.exports={EmptyArray:[],getJsName:K.getJsName,chain:S,Base:V,BaseSet:C,apply:J,merge:ab,createMessage:P,isFunction:N,debug:U,log:aa,info:G,warn:H,error:I,raise:F,raiseAt:X,filter:W,convert:Z,first:E,last:O,tail:Q,mixin:L,flatten:T}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(v,C,H){var t=v("./Base.js"),E=t.Base,G=v("./type/Type.js"),a=v("./type/List.js"),A=v("./type/Bool.js"),F=v("./type/Color.js"),B=v("./type/ColorRGBA.js"),x=v("./type/Text.js"),s=v("./type/Literal.js"),w=v("./type/Statics.js"),y=v("./type/TypeVisitor.js"),u=v("./type/Types.js"),z=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(z.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var D=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:w.boxType,unbox:w.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(m,i){for(var o,n={},k=0,l=0;l<m.length;l++){var j=m[l];if(void 0!==j){if(j===!0||j===!1){n[i[k]]=j,k++}else{if(void 0===j.type){for(o in j){n[o.replace(/^\$/,"")]=j[o]}}else{o=i[k],o instanceof Array?(o=o[0],n[o]=n[o]||new a,n[o].add(j)):(n[o]=j,k++)}}}}return n},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new A(f)}},{key:"color",value:function d(f){var g=F.map[f],h=new B(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new x(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(j){j=j||this.types;for(var g,i=Object.getOwnPropertyNames(j),h=[],f=0;f<i.length;f++){g=i[f],h.push(g+" = Types."+g),h.push("__"+g+" = "+g)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(i){i=i||this.constructor.prototype;for(var j,g,h=[];i;){j=Object.getOwnPropertyNames(i);for(var f=0;f<j.length;f++){g=j[f],"function"==typeof i[g]&&h.push("__rt_"+g+" = __rt."+g+".bind(__rt)")}i=Object.getPrototypeOf(i)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var i,g=Object.getOwnPropertyNames(this),f=[],h=0;h<g.length;h++){i=g[h],f.push("__rt_"+i+" = __rt."+i)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new y(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new z(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(h,f,g){var i=this._globalScope;return f&&f.$isFashionLiteral||(f=this.box(f)),f.ast=f.ast||this.getAstNode(g),i.map[h]=f,f}},{key:"setDynamic",value:function(k,i,j){var h,g=t.getJsName(k),f=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(j),i.$referenceName||i.$constant?(h=i.clone(),h.$previousReference=i,i=h,i.ast=this.getAstNode(j)):i.$referenceName=k,f.map[g]=i,i}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new a(m,k)}},{key:"applySplatArgs",value:function(g){var l,i,h,j,f,k=[];for(i=0;i<g.length;i++){if(l=g[i],l&&l.splat&&l.$isFashionList){for(f=l.getItems(),j=0;j<f.length;j++){h=f[j],h&&(h.splatSeparator=l.separator),k.push(h)}}else{k.push(l)}l&&(l.splat=void 0)}return k}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(E);t.apply(D.prototype,{box:G.box,unbox:G.unbox,Scope:z,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:u,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),C.exports=D},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(a,n,o){var p=a("../Base.js"),k=a("../Runtime.js"),j=a("../parse/ValueParser.js"),m=a("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new k}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(x){var e,d,h,D,z,g,B,A=this,C=A.getRuntime(),i=new j,f=A.variableMap;d=new C.Scope;for(D in x){e=p.getJsName(D.replace(A.nameRe,"")),0!==e.indexOf("$")&&(e="$"+e),d.put(e,i.parse(x[D]))}C._globalScope=d,C._currentScope=d;for(var y=0;y<A.calcFns.length;y++){A.calcFns[y](C)}h=new m,x={};for(D in f){z=f[D];for(var y=0;y<z.length;y++){e=z[y],g="$"+p.getJsName(e),B=d.get(g),B&&(B.$isWrapper&&(B=B.value),x[e]=h.toSource(B))}}return x}},{key:"applyVariables",value:function(u){var t=this,h=t.variableMap;for(var g in h){var i=h[g],e=document.querySelectorAll(g);if(e){for(var v=0;v<e.length;v++){for(var d=0;d<i.length;d++){var f=i[d];e[v].style.setProperty("--"+f,u[f])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return p.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var t=this,h=t.variableMap,d={};for(var g in h){var i=h[g],e=document.querySelectorAll(g);if(e){for(var u=0;u<e.length;u++){for(var v=0;v<i.length;v++){var f=i[v];d[f]=e[u].style.getPropertyValue("--"+f)}}}}return d}}]),c}();p.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),n.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,a,u){var z=x("../Base.js"),y=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),E=v.Color,B=v.Text,C=v.Numeric,A=v.List,r=v.Bool,D=v.Literal,s=v.ColorRGBA,t=v.ColorHSLA,F=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var i,h=this,d="",e=h.str,j=e.length,k=!1,f=!1,g=0;h.index<j;){if(i=e[h.index],h.index++,i<=" "&&!k&&!g){if(d.length){break}}else{if(";"===i&&!k&&!f){break}if("("===i&&g++,")"===i&&g&&g--,","===i&&!k&&!f&&!g){if(d.length){h.index--;break}return i}"\\"===i&&k?(f=1,h.index++):('"'!==i&&"'"!==i||(k?k===i&&(k=!1):k=i),f=!1,d+=i)}}return d}},{key:"parseValue",value:function(f){var g,e,d={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===f[0]||"'"===f[0]){return e=f=f.substring(1,f.length-1),new B(e,f[0])}if("true"===f){return new r((!0))}if("false"===f){return new r((!1))}if("null"===f){return D.Null}if("none"===f){return D.None}if(z.Color.map[f]){var h=E.map[f],k=new s(h[0],h[1],h[2],h[3]);return k.stringified=f,k}if(g=d.number.exec(f)){return new C(parseFloat(g[1]),g[2])}if(g=d.shortHexColor.exec(f)){return s.fromHex(g[1])}if(g=d.longHexColor.exec(f)){return s.fromHex(g[1])}if(g=d.functionCall.exec(f)){var i=g[1],j=this.parse(g[2]).items;return"hsla"===i||"hsl"===i?new t(y.unbox(j[0]),y.unbox(j[1]),y.unbox(j[2]),y.unbox(j[3])||1):"rgba"===i||"rgb"===i?new s(y.unbox(j[0]),y.unbox(j[1]),y.unbox(j[2]),y.unbox(j[3])||1):new F(i,j)}return(g=d.parenList.exec(f))?new F(this.parse(g[1])):new z.Literal(f)}},{key:"parse",value:function(g){var j,i=this,h=[],e=[],f=null;for(i.str=g,i.index=0;j=i._advance();){h.push(j)}for(var d=0;d<h.length;d++){j=h[d].trim(),","===h[d+1]?(f=f||[],f.push(i.parseValue(j)),d++):f?(f.push(i.parseValue(j)),e.push(new A(f,", ")),f=null):e.push(i.parseValue(j))}return 1===e.length?e[0]:new A(e," ")}}]),c}();a.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(a,k,j){var n=a("../Base.js"),l=a("./Type.js"),o=a("./Bool.js"),p=a("./Numeric.js"),m=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return o.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(f,h){var g,i=c.units[h],e=c.types[h],r=c.comps[h];return g="hsla"==e?f.getHSLA():f.getRGBA(),new p(g[r],i)}},{key:"adjust",value:function(f,h,e){var g=f.getHSLA().copy(),i=c.comps[h],r=e.value;return g[i]+=r,g.h=c.constrainDegrees(g.h),g.s=c.constrainPercentage(g.s),g.l=c.constrainPercentage(g.l),g.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);n.apply(m,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),n.apply(m.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),k.exports=m},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,k){var i=a("../Base.js"),n=a("./Color.js"),l=a("./ColorRGBA.js"),j=function(c){function d(h,e,f,g){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=n.constrainDegrees(h),p.s=e,p.l=f,void 0!==g&&(p.a=g),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return l.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(h,e,f,g){return new d(n.constrainDegrees(this.h+h),n.constrainPercentage(this.s+e),n.constrainPercentage(this.l+f),n.constrainAlpha(this.a*g))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=n.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=n.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var r=g.r/255,y=g.g/255,A=g.b/255,h=g.a,z=Math.max(r,y,A),f=Math.min(r,y,A),x=z-f,e=0,s=0,B=0.5*(z+f);return f!=z&&(s=B<0.5?x/(z+f):x/(2-z-f),e=r==z?60*(y-A)/x:y==z?120+60*(A-r)/x:240+60*(r-y)/x,e<0&&(e+=360),e>=360&&(e-=360)),new d(n.constrainDegrees(e),n.constrainPercentage(100*s),n.constrainPercentage(100*B),h)}}]),d}(n);l.prototype.getHSLA=function(){return j.fromRGBA(this)},i.apply(j.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=j},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,k){function j(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var i=a("../Base.js"),n=a("./Color.js"),l=function(d){function c(e,f,h,g){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,e)),p.g=Math.min(255,Math.max(0,f)),p.b=Math.min(255,Math.max(0,h)),void 0!==g&&(p.a=Math.min(1,Math.max(0,g))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,r=h(e.r),s=h(e.g),t=h(e.b),f=e.a,g="";return g=1===f?"#"+j(r)+j(s)+j(t):"rgba("+r+", "+s+", "+t+", "+f+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var h=this,e=Math.round,q=e(h.r),g=e(h.g),f=e(h.b),r=e(255*h.a);return"#"+j(r)+j(q)+j(g)+j(f)}},{key:"add",value:function(e,f,h,g){return new c(this.r+e,this.g+f,this.b+h,this.a*g)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(e){"#"==e.charAt(0)&&(e=e.substr(1));var f,g,h;3===e.length?(f=parseInt(e.charAt(0),16),g=parseInt(e.charAt(1),16),h=parseInt(e.charAt(2),16),f=(f<<4)+f,g=(g<<4)+g,h=(h<<4)+h):(f=parseInt(e.substring(0,2),16),g=parseInt(e.substring(2,4),16),h=parseInt(e.substring(4,6),16));var p=new c(f,g,h);return c.preserveInputStrings&&(p.stringified="#"+e),p}},{key:"fromHSLA",value:function(r){function h(o){return o<0&&++o,o>1&&--o,6*o<1?C+(D-C)*o*6:2*o<1?D:3*o<2?C+(D-C)*(2/3-o)*6:C}if(r.$isFashionRGBA){return r.clone()}var B=r,A=B.h/360,f=B.s/100,s=B.l/100,z=B.a,D=s<=0.5?s*(f+1):s+f-s*f,C=2*s-D,e=n.constrainChannel(255*h(A+1/3)),y=n.constrainChannel(255*h(A)),g=n.constrainChannel(255*h(A-1/3));return new c(e,y,g,z)}}]),c}(n);i.apply(l,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),i.apply(l.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new l(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new l(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=l,function(c,g,u,e){var h,x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=Object.keys(u);for(d.sort(),h=0;h<d.length;h++){var w=d[h],v=u[w],t=new c(v[0],v[1],v[2],v[3]),f=t.stringify();g[f]=w}x.forEach(function(p){var o=p+p;x.forEach(function(r){var q=r+r;x.forEach(function(F){var E=F+F,D="#"+p+r+F,C="#"+o+q+E;if(e[C]){var s=e[C];D=s.length>D.length?D:s}e[C]=D})})})}(l,l.stringifiedMap,n.map,l.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,m,n){var l=a("../Base.js"),i=a("./Type.js"),j=a("./Numeric.js"),k=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new j(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(i);l.apply(k.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),m.exports=k},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,i,k){var m=a("../Base.js"),n=a("./Type.js"),j=a("./List.js"),l=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new j(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(n);m.apply(l.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),i.exports=l},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("top"),g.push("bottom"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(linear, "+g.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var f=this.items,g=f.length,e=[],n=0;n<g;n++){e.push(f[n].clone())}return new c(e,this.separator)}},{key:"clone",value:function(r,s){if(s&&this.matches(r)){return s.clone()}for(var e=this.items,f=e.length,t=[],g=0;g<f;g++){t.push(e[g].clone(r,s))}var q=new c(t,this.separator);return q.$referenceName=this.$referenceName,q.$referenceBase=this.$referenceBase,q.$previousReference=this.$previousReference,q}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(n){for(var g=[],f=0;f<this.items.length;f++){var e=this.items[f];e&&g.push(e.toPrefixedString(n))}return g.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(k,n,a){var m=k("../Base.js"),j=k("./Type.js"),o=k("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=j.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=j.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new o(f+1)}}},{key:"insert",value:function(f,h){var e=j.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(j);m.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var p=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);m.apply(p.prototype,{$isFashionNull:!0,$constant:!0}),p.prototype.$isFashionNull=!0,l.Null=new p(null),l.None=new l("none"),n.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(a,m,s){var o=a("../Base.js"),q=a("./List.js"),p=a("./Type.js"),t=a("./Literal.js"),r=t.Null,l=a("./Numeric.js"),n=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof l&&(e=p.unbox(e)),"number"==typeof e?new q([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||r)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(q);o.apply(n.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),m.exports=n},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(k,n,a){var m=k("../Base.js"),j=k("./Type.js"),o=k("./Bool.js"),l=k("./Literal.js"),p=function(c){function d(i,e,h,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.value=i,g.unit=e,e&&!h?g.numeratorUnits=[e]:g.numeratorUnits=h||[],g.denominatorUnits=f||[],g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(f,e){var g;this.unit||e.unit;return e.$isFashionRGBA||e.$isFashionHSLA?new l(this+f+e):e.$isFashionNumber?this.numericOperate(f,e):e.$isFashionLiteral&&(g=this.tryCoerce(e))?this.performOperation(f,g):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,f,e)}},{key:"tryNormalize",value:function(f){var g=f.value,e=f.unit;if(f.$isFashionNumber){switch(this.unit){case"mm":switch(e){case"in":return new d(25.4*g,"mm");case"cm":return new d(2.54*g,"mm")}break;case"cm":switch(e){case"in":return new d(2.54*g,"cm");case"mm":return new d(g/10,"cm")}break;case"in":switch(e){case"mm":return new d(g/25.4,"in");case"cm":return new d(g/2.54,"in")}break;case"ms":switch(e){case"s":return new d(1000*g,"ms")}break;case"s":switch(e){case"ms":return new d(g/1000,"s")}break;case"Hz":switch(e){case"kHz":return new d(1000*g,"Hz")}break;case"kHz":switch(e){case"Hz":return new d(g/1000,"kHz")}break;case"%":switch(e){default:return new d(g)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(f){var g=this.unit,e=f.unit;return !!f.$isFashionNumber&&(g===e||"mm"===g&&("in"===e||"cm"===e)||"cm"===g&&("in"===e||"mm"===e)||"in"===g&&("mm"===e||"cm"===e)||"ms"===g&&"s"===e||"s"===g&&"ms"===e||"Hz"===g&&"kHz"===e||"kHz"===g&&"Hz"===e)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=m.filter(e.num,function(f){return !!f}),e.den=m.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(e,i){this.normalizeUnits(),i.normalizeUnits();var h,v=this,w=i,f=d.OPERATIONS,g=d.NON_COERCE_OPERATIONS,z=f[e];if(z){try{v.unitless()?v=v.coerceUnits(w.numeratorUnits,w.denominatorUnits):w=w.coerceUnits(v.numeratorUnits,v.denominatorUnits)}catch(x){if("=="==e){return o.False}if("!="==e){return o.True}throw x}}else{z=g[e]}if(z&&(h=z(v.value,w.value)),"number"==typeof h){var y=this.computeUnits(v,w,e);return new d(h,y.num.length?y.num[0]:null,y.num,y.den)}return new o(h)}},{key:"computeUnits",value:function(e,f,g){switch(g){case"*":return{num:e.numeratorUnits.slice().concat(f.numeratorUnits),den:e.denominatorUnits.slice().concat(f.denominatorUnits)};case"/":return{num:e.numeratorUnits.slice().concat(f.denominatorUnits),den:e.denominatorUnits.slice().concat(f.numeratorUnits)};default:return{num:e.numeratorUnits,den:e.denominatorUnits}}}},{key:"coerceUnits",value:function(f,e){var g=this.value;return this.unitless()||(g=g*this.coercionFactor(this.numeratorUnits,f)/this.coercionFactor(this.denominatorUnits,e)),new d(g,f&&f[0],f,e)}},{key:"coercionFactor",value:function(w,f){var v=this.removeCommonUnits(w,f),h=v.num,z=v.den;h.length===z.length&&this.convertable(h||z)||m.raise("Incompatible units: "+h.join("*")+" and "+z.join("*"));for(var x=0;x<h.length;x++){for(var e=h[x],y=0;y<z.length;y++){var g=z[y],i=this.conversionFactor(e,g);if(null!==i){return i}}}return 1}},{key:"conversionFactor",value:function(i,e){var h=d.CONVERTABLE_UNITS,g=d.CONVERSION_TABLE,f=null;return h[i]&&h[e]&&(f=g[h[i]][h[e]]),null===f&&h[e]&&h[i]&&(f=1/g[h[e]][h[i]]),f}},{key:"convertable",value:function(f){if(f&&!Array.isArray(f)&&(f=[f]),f&&f.length){for(var g=d.CONVERTABLE_UNITS,e=0;e<f.length;e++){if(void 0===g[f[e]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(i,s){var e,t,t,g={},f=[],h=[];for(e=0;e<i.length;e++){t=i[e],g[t]=(g[t]||0)+1}for(e=0;e<s.length;e++){t=s[e],g[t]=(g[t]||0)-1}for(e=0;e<i.length;e++){t=i[e],g[t]>0&&(f.push(t),g[t]--)}for(e=0;e<s.length;e++){t=s[e],g[t]<0&&(h.push(t),g[t]++)}return{num:f,den:h}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(j);m.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),m.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),n.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(g,e,n){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.position=g,f.stops=n,f.shape=e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("center 0%"),g.push("center 100%"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(radial, "+g.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,i,k){var l=a("../Base.js"),m=a("./TypeVisitor.js"),j=a("../Output.js"),n=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(v){for(var g,y=this.output,h=v.items,u=y.output.length,e=v.separator,f=e&&e.length,z=e&&e.indexOf(" ")>-1,x=y.output,w=0;w<h.length;w++){h[w]&&(this.visit(h[w]),g=y.output.length-u,!g&&f&&w>0&&(y.output=x),x=y.output,w<h.length-1&&f&&(y.add(e),z||y.space()),u=y.output.length)}}},{key:"map",value:function(h){var g,q,r=this.output,e=h.items;this.currDeclaration&&l.raise("("+h+") isn't a valid CSS value.");for(var f=0;f<e.length-1;f+=2){g=e[f],q=e[f+1],g&&q&&(f>0&&(r.add(","),r.space()),this.visit(g),r.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new j,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(m);l.apply(n.prototype,{output:null}),i.exports=n},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(q,e,o,p){e=e||"fashion",o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+q+"s*$"),p=p||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+q+"\\s*$");var r=this.docs;if(r&&r.length){for(var d=0;d<this.docs.length;d++){var f=r[d];if(o.test(f)){return !0}if(p.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(q,e,o,p):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var _get=function get(f,c,b){null===f&&(f=Function.prototype);var d=Object.getOwnPropertyDescriptor(f,c);if(void 0===d){var a=Object.getPrototypeOf(f);return null===a?void 0:get(a,c,b)}if("value" in d){return d.value}var e=d.get;if(void 0!==e){return e.call(b)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,b,h){var g,c=d("./src/export/Base.js"),e=d("./src/export/css/CssVariableManager.js"),f=new e;c.apply(c,(g={css:f,CssExport:e,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(g,"Types",d("./src/export/type/Types.js")),_defineProperty(g,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(g,"Output",d("./src/export/Output.js")),_defineProperty(g,"Runtime",d("./src/export/Runtime.js")),g)),b.exports=c},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(c,A,j){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function z(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?z(F,G):C[E]=G):C[E]=G}}return C}function l(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function n(C){return C&&"function"==typeof C}function g(C,D){console.log(l("[DBG] "+C,D))}function B(C,D){console.log(l("[LOG] "+C,D))}function u(C,D){console.log(l("[INF] "+C,D))}function t(C,D){console.log(l("[WRN] "+C,D))}function s(C,D){console.log(l("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function d(D,E){var C;E&&(D=l(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function e(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function b(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function m(C){return C.length&&C[C.length-1]}function k(C){return C.length>2?C.slice(1):[]}function o(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function p(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;o(E,f.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function h(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?h(E,F-1,C):C.push(E)}return C}var q=c("./../NameConverter.js"),f=function f(C){_classCallCheck(this,f),C&&z(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return m(this.items)}},{key:"tail",value:function(){return k(this.items)}}]),C}();y.prototype.items=null;var i=Object.create||function(C){return x.prototype=C,new x};A.exports={EmptyArray:[],getJsName:q.getJsName,chain:i,Base:f,BaseSet:y,apply:r,merge:z,createMessage:l,isFunction:n,debug:g,log:B,info:u,warn:t,error:s,raise:v,raiseAt:d,filter:e,convert:b,first:w,last:m,tail:k,mixin:p,flatten:h}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(l,c,k){var p=l("./Base.js"),r=p.Base,n=l("./type/Type.js"),i=l("./type/List.js"),e=l("./type/Bool.js"),o=l("./type/Color.js"),d=l("./type/ColorRGBA.js"),h=l("./type/Text.js"),q=l("./type/Literal.js"),j=l("./type/Statics.js"),g=l("./type/TypeVisitor.js"),m=l("./type/Types.js"),f=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(f.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var b=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:j.boxType,unbox:j.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(y,C){for(var D,E={},A=0,z=0;z<y.length;z++){var B=y[z];if(void 0!==B){if(B===!0||B===!1){E[C[A]]=B,A++}else{if(void 0===B.type){for(D in B){E[D.replace(/^\$/,"")]=B[D]}}else{D=C[A],D instanceof Array?(D=D[0],E[D]=E[D]||new i,E[D].add(B)):(E[D]=B,A++)}}}}return E},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new e(v)}},{key:"color",value:function t(x){var w=o.map[x],v=new d(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new h(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(v){v=v||this.types;for(var y,w=Object.getOwnPropertyNames(v),x=[],z=0;z<w.length;z++){y=w[z],x.push(y+" = Types."+y),x.push("__"+y+" = "+y)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(w){w=w||this.constructor.prototype;for(var v,y,x=[];w;){v=Object.getOwnPropertyNames(w);for(var z=0;z<v.length;z++){y=v[z],"function"==typeof w[y]&&x.push("__rt_"+y+" = __rt."+y+".bind(__rt)")}w=Object.getPrototypeOf(w)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var v,x=Object.getOwnPropertyNames(this),y=[],w=0;w<x.length;w++){v=x[w],y.push("__rt_"+v+" = __rt."+v)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new g(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new f(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(w,y,x){var v=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),v.map[w]=y,y}},{key:"setDynamic",value:function(v,x,w){var y,z=p.getJsName(v),A=this._globalScope;return x&&x.$isFashionLiteral||(x=this.box(x)),x.ast=x.ast||this.getAstNode(w),x.$referenceName||x.$constant?(y=x.clone(),y.$previousReference=x,x=y,x.ast=this.getAstNode(w)):x.$referenceName=v,A.map[z]=x,x}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new i(w,y)}},{key:"applySplatArgs",value:function(A){var v,y,z,x,B,w=[];for(y=0;y<A.length;y++){if(v=A[y],v&&v.splat&&v.$isFashionList){for(B=v.getItems(),x=0;x<B.length;x++){z=B[x],z&&(z.splatSeparator=v.separator),w.push(z)}}else{w.push(v)}v&&(v.splat=void 0)}return w}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(r);p.apply(b.prototype,{box:n.box,unbox:n.unbox,Scope:f,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:m,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),c.exports=b},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(d,i,h){var g=d("../Base.js"),e=d("../Runtime.js"),f=d("../parse/ValueParser.js"),b=d("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new e}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(w){var s,t,p,k,u,q,m,n=this,l=n.getRuntime(),o=new f,r=n.variableMap;t=new l.Scope;for(k in w){s=g.getJsName(k.replace(n.nameRe,"")),0!==s.indexOf("$")&&(s="$"+s),t.put(s,o.parse(w[k]))}l._globalScope=t,l._currentScope=t;for(var v=0;v<n.calcFns.length;v++){n.calcFns[v](l)}p=new b,w={};for(k in r){u=r[k];for(var v=0;v<u.length;v++){s=u[v],q="$"+g.getJsName(s),m=t.get(q),m&&(m.$isWrapper&&(m=m.value),w[s]=p.toSource(m))}}return w}},{key:"applyVariables",value:function(r){var s=this,l=s.variableMap;for(var m in l){var k=l[m],o=document.querySelectorAll(m);if(o){for(var q=0;q<o.length;q++){for(var p=0;p<k.length;p++){var n=k[p];o[q].style.setProperty("--"+n,r[n])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return g.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var s=this,l=s.variableMap,p={};for(var m in l){var k=l[m],o=document.querySelectorAll(m);if(o){for(var r=0;r<o.length;r++){for(var q=0;q<k.length;q++){var n=k[q];p[n]=o[r].style.getPropertyValue("--"+n)}}}}return p}}]),j}();g.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),i.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,i,m){var g=j("../Base.js"),h=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),q=l.Color,e=l.Text,d=l.Numeric,f=l.List,c=l.Bool,b=l.Literal,p=l.ColorRGBA,o=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var u,v=this,z="",y=v.str,t=y.length,s=!1,x=!1,w=0;v.index<t;){if(u=y[v.index],v.index++,u<=" "&&!s&&!w){if(z.length){break}}else{if(";"===u&&!s&&!x){break}if("("===u&&w++,")"===u&&w&&w--,","===u&&!s&&!x&&!w){if(z.length){v.index--;break}return u}"\\"===u&&s?(x=1,v.index++):('"'!==u&&"'"!==u||(s?s===u&&(s=!1):s=u),x=!1,z+=u)}}return z}},{key:"parseValue",value:function(x){var w,y,z={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===x[0]||"'"===x[0]){return y=x=x.substring(1,x.length-1),new e(y,x[0])}if("true"===x){return new c((!0))}if("false"===x){return new c((!1))}if("null"===x){return b.Null}if("none"===x){return b.None}if(g.Color.map[x]){var v=q.map[x],s=new p(v[0],v[1],v[2],v[3]);return s.stringified=x,s}if(w=z.number.exec(x)){return new d(parseFloat(w[1]),w[2])}if(w=z.shortHexColor.exec(x)){return p.fromHex(w[1])}if(w=z.longHexColor.exec(x)){return p.fromHex(w[1])}if(w=z.functionCall.exec(x)){var u=w[1],t=this.parse(w[2]).items;return"hsla"===u||"hsl"===u?new o(h.unbox(t[0]),h.unbox(t[1]),h.unbox(t[2]),h.unbox(t[3])||1):"rgba"===u||"rgb"===u?new p(h.unbox(t[0]),h.unbox(t[1]),h.unbox(t[2]),h.unbox(t[3])||1):new n(u,t)}return(w=z.parenList.exec(x))?new n(this.parse(w[1])):new g.Literal(x)}},{key:"parse",value:function(v){var s,t=this,u=[],x=[],w=null;for(t.str=v,t.index=0;s=t._advance();){u.push(s)}for(var y=0;y<u.length;y++){s=u[y].trim(),","===u[y+1]?(w=w||[],w.push(t.parseValue(s)),y++):w?(w.push(t.parseValue(s)),x.push(new f(w,", ")),w=null):x.push(t.parseValue(s))}return 1===x.length?x[0]:new f(x," ")}}]),r}();i.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(d,e,f){var i=d("../Base.js"),c=d("./Type.js"),h=d("./Bool.js"),g=d("./Numeric.js"),b=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return h.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(p,m){var o,l=k.units[m],q=k.types[m],n=k.comps[m];return o="hsla"==q?p.getHSLA():p.getRGBA(),new g(o[n],l)}},{key:"adjust",value:function(p,m,q){var o=p.getHSLA().copy(),l=k.comps[m],n=q.value;return o[l]+=n,o.h=k.constrainDegrees(o.h),o.s=k.constrainPercentage(o.s),o.l=k.constrainPercentage(o.l),o.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);i.apply(b,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),i.apply(b.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),e.exports=b},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,e){var g=d("../Base.js"),h=d("./Color.js"),c=d("./ColorRGBA.js"),f=function(j){function i(k,o,m,l){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=h.constrainDegrees(k),n.s=o,n.l=m,void 0!==l&&(n.a=l),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return c.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(k,n,m,l){return new i(h.constrainDegrees(this.h+k),h.constrainPercentage(this.s+n),h.constrainPercentage(this.l+m),h.constrainAlpha(this.a*l))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=h.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=h.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var k=o.r/255,u=o.g/255,m=o.b/255,n=o.a,t=Math.max(k,u,m),p=Math.min(k,u,m),v=t-p,q=0,w=0,l=0.5*(t+p);return p!=t&&(w=l<0.5?v/(t+p):v/(2-t-p),q=k==t?60*(u-m)/v:u==t?120+60*(m-k)/v:240+60*(k-u)/v,q<0&&(q+=360),q>=360&&(q-=360)),new i(h.constrainDegrees(q),h.constrainPercentage(100*w),h.constrainPercentage(100*l),n)}}]),i}(h);c.prototype.getHSLA=function(){return f.fromRGBA(this)},g.apply(f.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=f},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,e){function f(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var g=d("../Base.js"),h=d("./Color.js"),c=function(i){function j(o,m,k,l){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,o)),n.g=Math.min(255,Math.max(0,m)),n.b=Math.min(255,Math.max(0,k)),void 0!==l&&(n.a=Math.min(1,Math.max(0,l))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,o=m(q.r),l=m(q.g),k=m(q.b),p=q.a,n="";return n=1===p?"#"+f(o)+f(l)+f(k):"rgba("+o+", "+l+", "+k+", "+p+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var k=this,p=Math.round,o=p(k.r),m=p(k.g),n=p(k.b),l=p(255*k.a);return"#"+f(l)+f(o)+f(m)+f(n)}},{key:"add",value:function(n,m,k,l){return new j(this.r+n,this.g+m,this.b+k,this.a*l)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(o){"#"==o.charAt(0)&&(o=o.substr(1));var m,l,k;3===o.length?(m=parseInt(o.charAt(0),16),l=parseInt(o.charAt(1),16),k=parseInt(o.charAt(2),16),m=(m<<4)+m,l=(l<<4)+l,k=(k<<4)+k):(m=parseInt(o.substring(0,2),16),l=parseInt(o.substring(2,4),16),k=parseInt(o.substring(4,6),16));var n=new j(m,l,k);return j.preserveInputStrings&&(n.stringified="#"+o),n}},{key:"fromHSLA",value:function(l){function p(r){return r<0&&++r,r>1&&--r,6*r<1?m+(k-m)*r*6:2*r<1?k:3*r<2?m+(k-m)*(2/3-r)*6:m}if(l.$isFashionRGBA){return l.clone()}var n=l,o=n.h/360,t=n.s/100,x=n.l/100,v=n.a,k=x<=0.5?x*(t+1):x+t-x*t,m=2*x-k,u=h.constrainChannel(255*p(o+1/3)),w=h.constrainChannel(255*p(o)),q=h.constrainChannel(255*p(o-1/3));return new j(u,w,q,v)}}]),j}(h);g.apply(c,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),g.apply(c.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new c(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new c(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=c,function(n,j,r,l){var i,o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],m=Object.keys(r);for(m.sort(),i=0;i<m.length;i++){var p=m[i],q=r[p],s=new n(q[0],q[1],q[2],q[3]),k=s.stringify();j[k]=p}o.forEach(function(t){var u=t+t;o.forEach(function(v){var w=v+v;o.forEach(function(y){var z=y+y,A="#"+t+v+y,B="#"+u+w+z;if(l[B]){var x=l[B];A=x.length>A.length?A:x}l[B]=A})})})}(c,c.stringifiedMap,h.map,c.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,b,h){var c=d("../Base.js"),g=d("./Type.js"),f=d("./Numeric.js"),e=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new f(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(g);c.apply(e.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),b.exports=e},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,g,e){var b=d("../Base.js"),h=d("./Type.js"),f=d("./List.js"),c=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new f(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(h);b.apply(c.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),g.exports=c},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("top"),j.push("bottom"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(linear, "+j.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var k=this.items,j=k.length,l=[],m=0;m<j;m++){l.push(k[m].clone())}return new i(l,this.separator)}},{key:"clone",value:function(m,k){if(k&&this.matches(m)){return k.clone()}for(var p=this.items,o=p.length,j=[],l=0;l<o;l++){j.push(p[l].clone(m,k))}var n=new i(j,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(m){for(var j=[],k=0;k<this.items.length;k++){var l=this.items[k];l&&j.push(l.toPrefixedString(m))}return j.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(e,i,d){var b=e("../Base.js"),f=e("./Type.js"),h=e("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=f.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=f.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new h(l+1)}}},{key:"insert",value:function(n,l){var o=f.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(f);b.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var g=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);b.apply(g.prototype,{$isFashionNull:!0,$constant:!0}),g.prototype.$isFashionNull=!0,c.Null=new g(null),c.None=new c("none"),i.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(i,g,k){var e=i("../Base.js"),c=i("./List.js"),d=i("./Type.js"),j=i("./Literal.js"),b=j.Null,h=i("./Numeric.js"),f=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof h&&(n=d.unbox(n)),"number"==typeof n?new c([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||b)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(c);e.apply(f.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),g.exports=f},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(e,i,d){var b=e("../Base.js"),f=e("./Type.js"),h=e("./Bool.js"),c=e("./Literal.js"),g=function(k){function j(l,p,m,o){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.value=l,n.unit=p,p&&!m?n.numeratorUnits=[p]:n.numeratorUnits=m||[],n.denominatorUnits=o||[],n}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(m,n){var l;this.unit||n.unit;return n.$isFashionRGBA||n.$isFashionHSLA?new c(this+m+n):n.$isFashionNumber?this.numericOperate(m,n):n.$isFashionLiteral&&(l=this.tryCoerce(n))?this.performOperation(m,l):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,m,n)}},{key:"tryNormalize",value:function(m){var l=m.value,n=m.unit;if(m.$isFashionNumber){switch(this.unit){case"mm":switch(n){case"in":return new j(25.4*l,"mm");case"cm":return new j(2.54*l,"mm")}break;case"cm":switch(n){case"in":return new j(2.54*l,"cm");case"mm":return new j(l/10,"cm")}break;case"in":switch(n){case"mm":return new j(l/25.4,"in");case"cm":return new j(l/2.54,"in")}break;case"ms":switch(n){case"s":return new j(1000*l,"ms")}break;case"s":switch(n){case"ms":return new j(l/1000,"s")}break;case"Hz":switch(n){case"kHz":return new j(1000*l,"Hz")}break;case"kHz":switch(n){case"Hz":return new j(l/1000,"kHz")}break;case"%":switch(n){default:return new j(l)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(m){var l=this.unit,n=m.unit;return !!m.$isFashionNumber&&(l===n||"mm"===l&&("in"===n||"cm"===n)||"cm"===l&&("in"===n||"mm"===n)||"in"===l&&("mm"===n||"cm"===n)||"ms"===l&&"s"===n||"s"===l&&"ms"===n||"Hz"===l&&"kHz"===n||"kHz"===l&&"Hz"===n)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=b.filter(l.num,function(m){return !!m}),l.den=b.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(p,l){this.normalizeUnits(),l.normalizeUnits();var m,u=this,t=l,o=j.OPERATIONS,n=j.NON_COERCE_OPERATIONS,q=o[p];if(q){try{u.unitless()?u=u.coerceUnits(t.numeratorUnits,t.denominatorUnits):t=t.coerceUnits(u.numeratorUnits,u.denominatorUnits)}catch(s){if("=="==p){return h.False}if("!="==p){return h.True}throw s}}else{q=n[p]}if(q&&(m=q(u.value,t.value)),"number"==typeof m){var r=this.computeUnits(u,t,p);return new j(m,r.num.length?r.num[0]:null,r.num,r.den)}return new h(m)}},{key:"computeUnits",value:function(n,m,l){switch(l){case"*":return{num:n.numeratorUnits.slice().concat(m.numeratorUnits),den:n.denominatorUnits.slice().concat(m.denominatorUnits)};case"/":return{num:n.numeratorUnits.slice().concat(m.denominatorUnits),den:n.denominatorUnits.slice().concat(m.numeratorUnits)};default:return{num:n.numeratorUnits,den:n.denominatorUnits}}}},{key:"coerceUnits",value:function(m,n){var l=this.value;return this.unitless()||(l=l*this.coercionFactor(this.numeratorUnits,m)/this.coercionFactor(this.denominatorUnits,n)),new j(l,m&&m[0],m,n)}},{key:"coercionFactor",value:function(t,o){var u=this.removeCommonUnits(t,o),m=u.num,q=u.den;m.length===q.length&&this.convertable(m||q)||b.raise("Incompatible units: "+m.join("*")+" and "+q.join("*"));for(var s=0;s<m.length;s++){for(var p=m[s],r=0;r<q.length;r++){var n=q[r],l=this.conversionFactor(p,n);if(null!==l){return l}}}return 1}},{key:"conversionFactor",value:function(l,p){var m=j.CONVERTABLE_UNITS,n=j.CONVERSION_TABLE,o=null;return m[l]&&m[p]&&(o=n[m[l]][m[p]]),null===o&&m[p]&&m[l]&&(o=1/n[m[p]][m[l]]),o}},{key:"convertable",value:function(m){if(m&&!Array.isArray(m)&&(m=[m]),m&&m.length){for(var l=j.CONVERTABLE_UNITS,n=0;n<m.length;n++){if(void 0===l[m[n]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(m,o){var r,l,l,p={},q=[],n=[];for(r=0;r<m.length;r++){l=m[r],p[l]=(p[l]||0)+1}for(r=0;r<o.length;r++){l=o[r],p[l]=(p[l]||0)-1}for(r=0;r<m.length;r++){l=m[r],p[l]>0&&(q.push(l),p[l]--)}for(r=0;r<o.length;r++){l=o[r],p[l]<0&&(n.push(l),p[l]++)}return{num:q,den:n}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(f);b.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),b.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),i.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(j,l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.position=j,k.stops=m,k.shape=l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("center 0%"),j.push("center 100%"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(radial, "+j.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,g,e){var c=d("../Base.js"),b=d("./TypeVisitor.js"),f=d("../Output.js"),h=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(s){for(var l,p=this.output,k=s.items,t=p.output.length,n=s.separator,m=n&&n.length,o=n&&n.indexOf(" ")>-1,q=p.output,r=0;r<k.length;r++){k[r]&&(this.visit(k[r]),l=p.output.length-t,!l&&m&&r>0&&(p.output=q),q=p.output,r<k.length-1&&m&&(p.add(n),o||p.space()),t=p.output.length)}}},{key:"map",value:function(k){var m,o,l=this.output,p=k.items;this.currDeclaration&&c.raise("("+k+") isn't a valid CSS value.");for(var n=0;n<p.length-1;n+=2){m=p[n],o=p[n+1],m&&o&&(n>0&&(l.add(","),l.space()),this.visit(m),l.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new f,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(b);c.apply(h.prototype,{output:null}),g.exports=h},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(j,l,n,k){l=l||"fashion",n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+j+"s*$"),k=k||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+j+"\\s*$");var h=this.docs;if(h&&h.length){for(var m=0;m<this.docs.length;m++){var i=h[m];if(n.test(i)){return !0}if(k.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(j,l,n,k):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(e,d,f){return d in e?Object.defineProperty(e,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):e[d]=f,e}var _get=function get(i,l,g){null===i&&(i=Function.prototype);var k=Object.getOwnPropertyDescriptor(i,l);if(void 0===k){var h=Object.getPrototypeOf(i);return null===h?void 0:get(h,l,g)}if("value" in k){return k.value}var j=k.get;if(void 0!==j){return j.call(g)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,a,i){var j,n=m("./src/export/Base.js"),l=m("./src/export/css/CssVariableManager.js"),k=new l;n.apply(n,(j={css:k,CssExport:l,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(j,"Types",m("./src/export/type/Types.js")),_defineProperty(j,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(j,"Output",m("./src/export/Output.js")),_defineProperty(j,"Runtime",m("./src/export/Runtime.js")),j)),a.exports=n},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(aa,N,T){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function a(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?a(d,c):g[e]=c):g[e]=c}}return g}function R(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function P(c){return c&&"function"==typeof c}function W(d,c){console.log(R("[DBG] "+d,c))}function L(d,c){console.log(R("[LOG] "+d,c))}function G(d,c){console.log(R("[INF] "+d,c))}function H(d,c){console.log(R("[WRN] "+d,c))}function I(d,c){console.log(R("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function Z(d,c){var e;c&&(d=R(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function Y(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function ab(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function Q(c){return c.length&&c[c.length-1]}function S(c){return c.length>2?c.slice(1):[]}function O(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function M(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;O(f,X.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function V(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?V(e,d-1,g):g.push(e)}return g}var K=aa("./../NameConverter.js"),X=function X(c){_classCallCheck(this,X),c&&a(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return Q(this.items)}},{key:"tail",value:function(){return S(this.items)}}]),c}();C.prototype.items=null;var U=Object.create||function(c){return D.prototype=c,new D};N.exports={EmptyArray:[],getJsName:K.getJsName,chain:U,Base:X,BaseSet:C,apply:J,merge:a,createMessage:R,isFunction:P,debug:W,log:L,info:G,warn:H,error:I,raise:F,raiseAt:Z,filter:Y,convert:ab,first:E,last:Q,tail:S,mixin:M,flatten:V}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(x,G,y){var t=x("./Base.js"),a=t.Base,v=x("./type/Type.js"),A=x("./type/List.js"),E=x("./type/Bool.js"),u=x("./type/Color.js"),F=x("./type/ColorRGBA.js"),B=x("./type/Text.js"),s=x("./type/Literal.js"),z=x("./type/Statics.js"),C=x("./type/TypeVisitor.js"),w=x("./type/Types.js"),D=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(D.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var H=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:z.boxType,unbox:z.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(o,m){for(var k,j={},i=0,l=0;l<o.length;l++){var n=o[l];if(void 0!==n){if(n===!0||n===!1){j[m[i]]=n,i++}else{if(void 0===n.type){for(k in n){j[k.replace(/^\$/,"")]=n[k]}}else{k=m[i],k instanceof Array?(k=k[0],j[k]=j[k]||new A,j[k].add(n)):(j[k]=n,i++)}}}}return j},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new E(f)}},{key:"color",value:function d(f){var g=u.map[f],h=new F(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new B(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(h){h=h||this.types;for(var j,g=Object.getOwnPropertyNames(h),f=[],i=0;i<g.length;i++){j=g[i],f.push(j+" = Types."+j),f.push("__"+j+" = "+j)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(g){g=g||this.constructor.prototype;for(var h,j,f=[];g;){h=Object.getOwnPropertyNames(g);for(var i=0;i<h.length;i++){j=h[i],"function"==typeof g[j]&&f.push("__rt_"+j+" = __rt."+j+".bind(__rt)")}g=Object.getPrototypeOf(g)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var h,f=Object.getOwnPropertyNames(this),i=[],g=0;g<f.length;g++){h=f[g],i.push("__rt_"+h+" = __rt."+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new C(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new D(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(g,i,f){var h=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(f),h.map[g]=i,i}},{key:"setDynamic",value:function(i,g,h){var k,j=t.getJsName(i),f=this._globalScope;return g&&g.$isFashionLiteral||(g=this.box(g)),g.ast=g.ast||this.getAstNode(h),g.$referenceName||g.$constant?(k=g.clone(),k.$previousReference=g,g=k,g.ast=this.getAstNode(h)):g.$referenceName=i,f.map[j]=g,g}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new A(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,j,f,k,h=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(k=i.getItems(),f=0;f<k.length;f++){j=k[f],j&&(j.splatSeparator=i.separator),h.push(j)}}else{h.push(i)}i&&(i.splat=void 0)}return h}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(a);t.apply(H.prototype,{box:v.box,unbox:v.unbox,Scope:D,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:w,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),G.exports=H},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(o,j,k){var l=o("../Base.js"),n=o("../Runtime.js"),m=o("../parse/ValueParser.js"),a=o("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new n}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(z){var D,C,f,y,B,e,i,h=this,x=h.getRuntime(),g=new m,d=h.variableMap;C=new x.Scope;for(y in z){D=l.getJsName(y.replace(h.nameRe,"")),0!==D.indexOf("$")&&(D="$"+D),C.put(D,g.parse(z[y]))}x._globalScope=C,x._currentScope=C;for(var A=0;A<h.calcFns.length;A++){h.calcFns[A](x)}f=new a,z={};for(y in d){B=d[y];for(var A=0;A<B.length;A++){D=B[A],e="$"+l.getJsName(D),i=C.get(e),i&&(i.$isWrapper&&(i=i.value),z[D]=f.toSource(i))}}return z}},{key:"applyVariables",value:function(d){var v=this,t=v.variableMap;for(var i in t){var u=t[i],g=document.querySelectorAll(i);if(g){for(var e=0;e<g.length;e++){for(var f=0;f<u.length;f++){var h=u[f];g[e].style.setProperty("--"+h,d[h])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return l.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var v=this,t=v.variableMap,f={};for(var i in t){var u=t[i],g=document.querySelectorAll(i);if(g){for(var d=0;d<g.length;d++){for(var e=0;e<u.length;e++){var h=u[e];f[h]=g[d].style.getPropertyValue("--"+h)}}}}return f}}]),c}();l.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),j.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,y,u){var A=x("../Base.js"),z=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),a=v.Color,C=v.Text,D=v.Numeric,B=v.List,E=v.Bool,F=v.Literal,r=v.ColorRGBA,s=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var g,f=this,j="",k=f.str,h=k.length,i=!1,d=!1,e=0;f.index<h;){if(g=k[f.index],f.index++,g<=" "&&!i&&!e){if(j.length){break}}else{if(";"===g&&!i&&!d){break}if("("===g&&e++,")"===g&&e&&e--,","===g&&!i&&!d&&!e){if(j.length){f.index--;break}return g}"\\"===g&&i?(d=1,f.index++):('"'!==g&&"'"!==g||(i?i===g&&(i=!1):i=g),d=!1,j+=g)}}return j}},{key:"parseValue",value:function(d){var e,k,j={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===d[0]||"'"===d[0]){return k=d=d.substring(1,d.length-1),new C(k,d[0])}if("true"===d){return new E((!0))}if("false"===d){return new E((!1))}if("null"===d){return F.Null}if("none"===d){return F.None}if(A.Color.map[d]){var f=a.map[d],i=new r(f[0],f[1],f[2],f[3]);return i.stringified=d,i}if(e=j.number.exec(d)){return new D(parseFloat(e[1]),e[2])}if(e=j.shortHexColor.exec(d)){return r.fromHex(e[1])}if(e=j.longHexColor.exec(d)){return r.fromHex(e[1])}if(e=j.functionCall.exec(d)){var g=e[1],h=this.parse(e[2]).items;return"hsla"===g||"hsl"===g?new s(z.unbox(h[0]),z.unbox(h[1]),z.unbox(h[2]),z.unbox(h[3])||1):"rgba"===g||"rgb"===g?new r(z.unbox(h[0]),z.unbox(h[1]),z.unbox(h[2]),z.unbox(h[3])||1):new t(g,h)}return(e=j.parenList.exec(d))?new t(this.parse(e[1])):new A.Literal(d)}},{key:"parse",value:function(f){var i,h=this,g=[],d=[],e=null;for(h.str=f,h.index=0;i=h._advance();){g.push(i)}for(var j=0;j<g.length;j++){i=g[j].trim(),","===g[j+1]?(e=e||[],e.push(h.parseValue(i)),j++):e?(e.push(h.parseValue(i)),d.push(new B(e,", ")),e=null):d.push(h.parseValue(i))}return 1===d.length?d[0]:new B(d," ")}}]),c}();y.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(o,n,m){var j=o("../Base.js"),p=o("./Type.js"),k=o("./Bool.js"),l=o("./Numeric.js"),a=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return k.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(h,e){var i,f=c.units[e],g=c.types[e],r=c.comps[e];return i="hsla"==g?h.getHSLA():h.getRGBA(),new l(i[r],f)}},{key:"adjust",value:function(h,e,g){var i=h.getHSLA().copy(),f=c.comps[e],r=g.value;return i[f]+=r,i.h=c.constrainDegrees(i.h),i.s=c.constrainPercentage(i.s),i.l=c.constrainPercentage(i.l),i.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);j.apply(a,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),j.apply(a.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),n.exports=a},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,l){var j=m("../Base.js"),i=m("./Color.js"),n=m("./ColorRGBA.js"),k=function(c){function d(g,h,e,f){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=i.constrainDegrees(g),p.s=h,p.l=e,void 0!==f&&(p.a=f),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return n.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(g,h,e,f){return new d(i.constrainDegrees(this.h+g),i.constrainPercentage(this.s+h),i.constrainPercentage(this.l+e),i.constrainAlpha(this.a*f))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=i.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=i.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var x=g.r/255,A=g.g/255,r=g.b/255,h=g.a,B=Math.max(x,A,r),f=Math.min(x,A,r),z=B-f,e=0,y=0,s=0.5*(B+f);return f!=B&&(y=s<0.5?z/(B+f):z/(2-B-f),e=x==B?60*(A-r)/z:A==B?120+60*(r-x)/z:240+60*(x-A)/z,e<0&&(e+=360),e>=360&&(e-=360)),new d(i.constrainDegrees(e),i.constrainPercentage(100*y),i.constrainPercentage(100*s),h)}}]),d}(i);n.prototype.getHSLA=function(){return k.fromRGBA(this)},j.apply(k.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=k},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,l){function k(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var j=m("../Base.js"),i=m("./Color.js"),n=function(d){function c(h,e,g,f){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,h)),p.g=Math.min(255,Math.max(0,e)),p.b=Math.min(255,Math.max(0,g)),void 0!==f&&(p.a=Math.min(1,Math.max(0,f))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,s=e(h.r),f=e(h.g),g=e(h.b),r=h.a,t="";return t=1===r?"#"+k(s)+k(f)+k(g):"rgba("+s+", "+f+", "+g+", "+r+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var g=this,h=Math.round,q=h(g.r),e=h(g.g),r=h(g.b),f=h(255*g.a);return"#"+k(f)+k(q)+k(e)+k(r)}},{key:"add",value:function(h,e,g,f){return new c(this.r+h,this.g+e,this.b+g,this.a*f)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(h){"#"==h.charAt(0)&&(h=h.substr(1));var e,f,g;3===h.length?(e=parseInt(h.charAt(0),16),f=parseInt(h.charAt(1),16),g=parseInt(h.charAt(2),16),e=(e<<4)+e,f=(f<<4)+f,g=(g<<4)+g):(e=parseInt(h.substring(0,2),16),f=parseInt(h.substring(2,4),16),g=parseInt(h.substring(4,6),16));var p=new c(e,f,g);return c.preserveInputStrings&&(p.stringified="#"+h),p}},{key:"fromHSLA",value:function(s){function f(o){return o<0&&++o,o>1&&--o,6*o<1?r+(y-r)*o*6:2*o<1?y:3*o<2?r+(y-r)*(2/3-o)*6:r}if(s.$isFashionRGBA){return s.clone()}var h=s,g=h.h/360,D=h.s/100,z=h.l/100,B=h.a,y=z<=0.5?z*(D+1):z+D-z*D,r=2*z-y,C=i.constrainChannel(255*f(g+1/3)),A=i.constrainChannel(255*f(g)),e=i.constrainChannel(255*f(g-1/3));return new c(C,A,e,B)}}]),c}(i);j.apply(n,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),j.apply(n.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new n(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new n(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=n,function(g,v,c,t){var w,f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=Object.keys(c);for(h.sort(),w=0;w<h.length;w++){var e=h[w],d=c[e],x=new g(d[0],d[1],d[2],d[3]),u=x.stringify();v[u]=e}f.forEach(function(p){var o=p+p;f.forEach(function(r){var q=r+r;f.forEach(function(F){var D=F+F,C="#"+p+r+F,E="#"+o+q+D;if(t[E]){var s=t[E];C=s.length>C.length?C:s}t[E]=C})})})}(n,n.stringifiedMap,i.map,n.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,a,i){var n=m("../Base.js"),j=m("./Type.js"),k=m("./Numeric.js"),l=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new k(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(j);n.apply(l.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),a.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,j,l){var a=m("../Base.js"),i=m("./Type.js"),k=m("./List.js"),n=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new k(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(i);a.apply(n.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),j.exports=n},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("top"),n.push("bottom"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(linear, "+n.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var g=this.items,n=g.length,f=[],e=0;e<n;e++){f.push(g[e].clone())}return new c(f,this.separator)}},{key:"clone",value:function(e,g){if(g&&this.matches(e)){return g.clone()}for(var r=this.items,s=r.length,q=[],f=0;f<s;f++){q.push(r[f].clone(e,g))}var t=new c(q,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(e){for(var n=[],g=0;g<this.items.length;g++){var f=this.items[g];f&&n.push(f.toPrefixedString(e))}return n.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(n,j,o){var a=n("../Base.js"),m=n("./Type.js"),k=n("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=m.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=m.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new k(f+1)}}},{key:"insert",value:function(h,f){var g=m.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(m);a.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var l=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);a.apply(l.prototype,{$isFashionNull:!0,$constant:!0}),l.prototype.$isFashionNull=!0,p.Null=new l(null),p.None=new p("none"),j.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(m,o,a){var q=m("../Base.js"),s=m("./List.js"),r=m("./Type.js"),l=m("./Literal.js"),t=l.Null,n=m("./Numeric.js"),p=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof n&&(e=r.unbox(e)),"number"==typeof e?new s([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||t)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(s);q.apply(p.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),o.exports=p},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(n,j,o){var a=n("../Base.js"),m=n("./Type.js"),k=n("./Bool.js"),p=n("./Literal.js"),l=function(c){function d(f,g,e,h){_classCallCheck(this,d);var i=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return i.value=f,i.unit=g,g&&!e?i.numeratorUnits=[g]:i.numeratorUnits=e||[],i.denominatorUnits=h||[],i}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(e,g){var f;this.unit||g.unit;return g.$isFashionRGBA||g.$isFashionHSLA?new p(this+e+g):g.$isFashionNumber?this.numericOperate(e,g):g.$isFashionLiteral&&(f=this.tryCoerce(g))?this.performOperation(e,f):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,e,g)}},{key:"tryNormalize",value:function(e){var f=e.value,g=e.unit;if(e.$isFashionNumber){switch(this.unit){case"mm":switch(g){case"in":return new d(25.4*f,"mm");case"cm":return new d(2.54*f,"mm")}break;case"cm":switch(g){case"in":return new d(2.54*f,"cm");case"mm":return new d(f/10,"cm")}break;case"in":switch(g){case"mm":return new d(f/25.4,"in");case"cm":return new d(f/2.54,"in")}break;case"ms":switch(g){case"s":return new d(1000*f,"ms")}break;case"s":switch(g){case"ms":return new d(f/1000,"s")}break;case"Hz":switch(g){case"kHz":return new d(1000*f,"Hz")}break;case"kHz":switch(g){case"Hz":return new d(f/1000,"kHz")}break;case"%":switch(g){default:return new d(f)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(e){var f=this.unit,g=e.unit;return !!e.$isFashionNumber&&(f===g||"mm"===f&&("in"===g||"cm"===g)||"cm"===f&&("in"===g||"mm"===g)||"in"===f&&("mm"===g||"cm"===g)||"ms"===f&&"s"===g||"s"===f&&"ms"===g||"Hz"===f&&"kHz"===g||"kHz"===f&&"Hz"===g)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=a.filter(e.num,function(f){return !!f}),e.den=a.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(g,w){this.normalizeUnits(),w.normalizeUnits();var v,x=this,y=w,h=d.OPERATIONS,i=d.NON_COERCE_OPERATIONS,f=h[g];if(f){try{x.unitless()?x=x.coerceUnits(y.numeratorUnits,y.denominatorUnits):y=y.coerceUnits(x.numeratorUnits,x.denominatorUnits)}catch(z){if("=="==g){return k.False}if("!="==g){return k.True}throw z}}else{f=i[g]}if(f&&(v=f(x.value,y.value)),"number"==typeof v){var e=this.computeUnits(x,y,g);return new d(v,e.num.length?e.num[0]:null,e.num,e.den)}return new k(v)}},{key:"computeUnits",value:function(g,e,f){switch(f){case"*":return{num:g.numeratorUnits.slice().concat(e.numeratorUnits),den:g.denominatorUnits.slice().concat(e.denominatorUnits)};case"/":return{num:g.numeratorUnits.slice().concat(e.denominatorUnits),den:g.denominatorUnits.slice().concat(e.numeratorUnits)};default:return{num:g.numeratorUnits,den:g.denominatorUnits}}}},{key:"coerceUnits",value:function(e,g){var f=this.value;return this.unitless()||(f=f*this.coercionFactor(this.numeratorUnits,e)/this.coercionFactor(this.denominatorUnits,g)),new d(f,e&&e[0],e,g)}},{key:"coercionFactor",value:function(y,h){var x=this.removeCommonUnits(y,h),v=x.num,f=x.den;v.length===f.length&&this.convertable(v||f)||a.raise("Incompatible units: "+v.join("*")+" and "+f.join("*"));for(var z=0;z<v.length;z++){for(var g=v[z],e=0;e<f.length;e++){var i=f[e],w=this.conversionFactor(g,i);if(null!==w){return w}}}return 1}},{key:"conversionFactor",value:function(f,g){var e=d.CONVERTABLE_UNITS,i=d.CONVERSION_TABLE,h=null;return e[f]&&e[g]&&(h=i[e[f]][e[g]]),null===h&&e[g]&&e[f]&&(h=1/i[e[g]][e[f]]),h}},{key:"convertable",value:function(e){if(e&&!Array.isArray(e)&&(e=[e]),e&&e.length){for(var f=d.CONVERTABLE_UNITS,g=0;g<e.length;g++){if(void 0===f[e[g]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(e,s){var g,f,f,i={},h=[],t=[];for(g=0;g<e.length;g++){f=e[g],i[f]=(i[f]||0)+1}for(g=0;g<s.length;g++){f=s[g],i[f]=(i[f]||0)-1}for(g=0;g<e.length;g++){f=e[g],i[f]>0&&(h.push(f),i[f]--)}for(g=0;g<s.length;g++){f=s[g],i[f]<0&&(t.push(f),i[f]++)}return{num:h,den:t}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(m);a.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),a.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),j.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(n,f,e){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.position=n,g.stops=e,g.shape=f,g}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("center 0%"),n.push("center 100%"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(radial, "+n.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,j,l){var n=m("../Base.js"),a=m("./TypeVisitor.js"),k=m("../Output.js"),i=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(z){for(var w,g=this.output,x=z.items,y=g.output.length,u=z.separator,v=u&&u.length,h=u&&u.indexOf(" ")>-1,f=g.output,e=0;e<x.length;e++){x[e]&&(this.visit(x[e]),w=g.output.length-y,!w&&v&&e>0&&(g.output=f),f=g.output,e<x.length-1&&v&&(g.add(u),h||g.space()),y=g.output.length)}}},{key:"map",value:function(g){var e,q,f=this.output,h=g.items;this.currDeclaration&&n.raise("("+g+") isn't a valid CSS value.");for(var r=0;r<h.length-1;r+=2){e=h[r],q=h[r+1],e&&q&&(r>0&&(f.add(","),f.space()),this.visit(e),f.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new k,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(a);n.apply(i.prototype,{output:null}),j.exports=i},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(o,e,r,f){e=e||"fashion",r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+o+"s*$"),f=f||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+o+"\\s*$");var q=this.docs;if(q&&q.length){for(var d=0;d<this.docs.length;d++){var p=q[d];if(r.test(p)){return !0}if(f.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(o,e,r,f):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(b,c,a){return c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a,b}var _get=function get(d,a,f){null===d&&(d=Function.prototype);var b=Object.getOwnPropertyDescriptor(d,a);if(void 0===b){var e=Object.getPrototypeOf(d);return null===e?void 0:get(e,a,f)}if("value" in b){return b.value}var c=b.get;if(void 0!==c){return c.call(f)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,g){var f,h=b("./src/export/Base.js"),c=b("./src/export/css/CssVariableManager.js"),e=new c;h.apply(h,(f={css:e,CssExport:c,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(f,"Types",b("./src/export/type/Types.js")),_defineProperty(f,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(f,"Output",b("./src/export/Output.js")),_defineProperty(f,"Runtime",b("./src/export/Runtime.js")),f)),d.exports=h},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(B,n,h){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function A(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?A(F,G):C[E]=G):C[E]=G}}return C}function j(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function l(C){return C&&"function"==typeof C}function e(C,D){console.log(j("[DBG] "+C,D))}function p(C,D){console.log(j("[LOG] "+C,D))}function u(C,D){console.log(j("[INF] "+C,D))}function t(C,D){console.log(j("[WRN] "+C,D))}function s(C,D){console.log(j("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function b(D,E){var C;E&&(D=j(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function c(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function z(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function k(C){return C.length&&C[C.length-1]}function i(C){return C.length>2?C.slice(1):[]}function m(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function o(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;m(E,d.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function f(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?f(E,F-1,C):C.push(E)}return C}var q=B("./../NameConverter.js"),d=function d(C){_classCallCheck(this,d),C&&A(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return k(this.items)}},{key:"tail",value:function(){return i(this.items)}}]),C}();y.prototype.items=null;var g=Object.create||function(C){return x.prototype=C,new x};n.exports={EmptyArray:[],getJsName:q.getJsName,chain:g,Base:d,BaseSet:y,apply:r,merge:A,createMessage:j,isFunction:l,debug:e,log:p,info:u,warn:t,error:s,raise:v,raiseAt:b,filter:c,convert:z,first:w,last:k,tail:i,mixin:o,flatten:f}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(i,n,g){var p=i("./Base.js"),h=p.Base,l=i("./type/Type.js"),e=i("./type/List.js"),r=i("./type/Bool.js"),m=i("./type/Color.js"),o=i("./type/ColorRGBA.js"),d=i("./type/Text.js"),q=i("./type/Literal.js"),f=i("./type/Statics.js"),c=i("./type/TypeVisitor.js"),j=i("./type/Types.js"),b=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(b.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var k=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:f.boxType,unbox:f.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(D,y){for(var A,B={},C=0,z=0;z<D.length;z++){var E=D[z];if(void 0!==E){if(E===!0||E===!1){B[y[C]]=E,C++}else{if(void 0===E.type){for(A in E){B[A.replace(/^\$/,"")]=E[A]}}else{A=y[C],A instanceof Array?(A=A[0],B[A]=B[A]||new e,B[A].add(E)):(B[A]=E,C++)}}}}return B},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new r(v)}},{key:"color",value:function t(x){var w=m.map[x],v=new o(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new d(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(x){x=x||this.types;for(var v,y=Object.getOwnPropertyNames(x),z=[],w=0;w<y.length;w++){v=y[w],z.push(v+" = Types."+v),z.push("__"+v+" = "+v)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(y){y=y||this.constructor.prototype;for(var x,v,z=[];y;){x=Object.getOwnPropertyNames(y);for(var w=0;w<x.length;w++){v=x[w],"function"==typeof y[v]&&z.push("__rt_"+v+" = __rt."+v+".bind(__rt)")}y=Object.getPrototypeOf(y)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var w,y=Object.getOwnPropertyNames(this),v=[],x=0;x<y.length;x++){w=y[x],v.push("__rt_"+w+" = __rt."+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new c(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new b(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(x,v,y){var w=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(y),w.map[x]=v,v}},{key:"setDynamic",value:function(x,z,y){var v,w=p.getJsName(x),A=this._globalScope;return z&&z.$isFashionLiteral||(z=this.box(z)),z.ast=z.ast||this.getAstNode(y),z.$referenceName||z.$constant?(v=z.clone(),v.$previousReference=z,z=v,z.ast=this.getAstNode(y)):z.$referenceName=x,A.map[w]=z,z}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new e(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,x,B,w,z=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(w=y.getItems(),B=0;B<w.length;B++){x=w[B],x&&(x.splatSeparator=y.separator),z.push(x)}}else{z.push(y)}y&&(y.splat=void 0)}return z}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(h);p.apply(k.prototype,{box:l.box,unbox:l.unbox,Scope:b,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:j,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),n.exports=k},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(h,f,e){var d=h("../Base.js"),i=h("../Runtime.js"),b=h("../parse/ValueParser.js"),c=h("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new i}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(u){var k,l,r,v,m,s,o,p=this,w=p.getRuntime(),q=new b,t=p.variableMap;l=new w.Scope;for(v in u){k=d.getJsName(v.replace(p.nameRe,"")),0!==k.indexOf("$")&&(k="$"+k),l.put(k,q.parse(u[v]))}w._globalScope=l,w._currentScope=l;for(var n=0;n<p.calcFns.length;n++){p.calcFns[n](w)}r=new c,u={};for(v in t){m=t[v];for(var n=0;n<m.length;n++){k=m[n],s="$"+d.getJsName(k),o=l.get(s),o&&(o.$isWrapper&&(o=o.value),u[k]=r.toSource(o))}}return u}},{key:"applyVariables",value:function(p){var q=this,s=q.variableMap;for(var k in s){var r=s[k],m=document.querySelectorAll(k);if(m){for(var o=0;o<m.length;o++){for(var n=0;n<r.length;n++){var l=r[n];m[o].style.setProperty("--"+l,p[l])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return d.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var q=this,s=q.variableMap,n={};for(var k in s){var r=s[k],m=document.querySelectorAll(k);if(m){for(var p=0;p<m.length;p++){for(var o=0;o<r.length;o++){var l=r[o];n[l]=m[p].style.getPropertyValue("--"+l)}}}}return n}}]),j}();d.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),f.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,h,m){var f=j("../Base.js"),g=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),i=l.Color,d=l.Text,c=l.Numeric,e=l.List,q=l.Bool,o=l.Literal,b=l.ColorRGBA,p=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var w,x=this,t="",s=x.str,v=s.length,u=!1,z=!1,y=0;x.index<v;){if(w=s[x.index],x.index++,w<=" "&&!u&&!y){if(t.length){break}}else{if(";"===w&&!u&&!z){break}if("("===w&&y++,")"===w&&y&&y--,","===w&&!u&&!z&&!y){if(t.length){x.index--;break}return w}"\\"===w&&u?(z=1,x.index++):('"'!==w&&"'"!==w||(u?u===w&&(u=!1):u=w),z=!1,t+=w)}}return t}},{key:"parseValue",value:function(z){var y,s,t={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===z[0]||"'"===z[0]){return s=z=z.substring(1,z.length-1),new d(s,z[0])}if("true"===z){return new q((!0))}if("false"===z){return new q((!1))}if("null"===z){return o.Null}if("none"===z){return o.None}if(f.Color.map[z]){var x=i.map[z],u=new b(x[0],x[1],x[2],x[3]);return u.stringified=z,u}if(y=t.number.exec(z)){return new c(parseFloat(y[1]),y[2])}if(y=t.shortHexColor.exec(z)){return b.fromHex(y[1])}if(y=t.longHexColor.exec(z)){return b.fromHex(y[1])}if(y=t.functionCall.exec(z)){var w=y[1],v=this.parse(y[2]).items;return"hsla"===w||"hsl"===w?new p(g.unbox(v[0]),g.unbox(v[1]),g.unbox(v[2]),g.unbox(v[3])||1):"rgba"===w||"rgb"===w?new b(g.unbox(v[0]),g.unbox(v[1]),g.unbox(v[2]),g.unbox(v[3])||1):new n(w,v)}return(y=t.parenList.exec(z))?new n(this.parse(y[1])):new f.Literal(z)}},{key:"parse",value:function(w){var t,u=this,v=[],y=[],x=null;for(u.str=w,u.index=0;t=u._advance();){v.push(t)}for(var s=0;s<v.length;s++){t=v[s].trim(),","===v[s+1]?(x=x||[],x.push(u.parseValue(t)),s++):x?(x.push(u.parseValue(t)),y.push(new e(x,", ")),x=null):y.push(u.parseValue(t))}return 1===y.length?y[0]:new e(y," ")}}]),r}();h.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(h,i,b){var f=h("../Base.js"),g=h("./Type.js"),e=h("./Bool.js"),d=h("./Numeric.js"),c=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return e.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(m,q){var l,p=k.units[q],o=k.types[q],n=k.comps[q];return l="hsla"==o?m.getHSLA():m.getRGBA(),new d(l[n],p)}},{key:"adjust",value:function(m,q,o){var l=m.getHSLA().copy(),p=k.comps[q],n=o.value;return l[p]+=n,l.h=k.constrainDegrees(l.h),l.s=k.constrainPercentage(l.s),l.l=k.constrainPercentage(l.l),l.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);f.apply(c,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),f.apply(c.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),i.exports=c},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,c){var f=b("../Base.js"),g=b("./Color.js"),h=b("./ColorRGBA.js"),e=function(j){function i(l,k,o,m){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=g.constrainDegrees(l),n.s=k,n.l=o,void 0!==m&&(n.a=m),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return h.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(l,k,n,m){return new i(g.constrainDegrees(this.h+l),g.constrainPercentage(this.s+k),g.constrainPercentage(this.l+n),g.constrainAlpha(this.a*m))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=g.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=g.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var v=o.r/255,m=o.g/255,k=o.b/255,n=o.a,l=Math.max(v,m,k),p=Math.min(v,m,k),t=l-p,q=0,u=0,w=0.5*(l+p);return p!=l&&(u=w<0.5?t/(l+p):t/(2-l-p),q=v==l?60*(m-k)/t:m==l?120+60*(k-v)/t:240+60*(v-m)/t,q<0&&(q+=360),q>=360&&(q-=360)),new i(g.constrainDegrees(q),g.constrainPercentage(100*u),g.constrainPercentage(100*w),n)}}]),i}(g);h.prototype.getHSLA=function(){return e.fromRGBA(this)},f.apply(e.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=e},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,c){function e(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var f=b("../Base.js"),g=b("./Color.js"),h=function(i){function j(k,o,l,m){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,k)),n.g=Math.min(255,Math.max(0,o)),n.b=Math.min(255,Math.max(0,l)),void 0!==m&&(n.a=Math.min(1,Math.max(0,m))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,l=q(m.r),p=q(m.g),o=q(m.b),n=m.a,k="";return k=1===n?"#"+e(l)+e(p)+e(o):"rgba("+l+", "+p+", "+o+", "+n+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var m=this,k=Math.round,o=k(m.r),p=k(m.g),l=k(m.b),n=k(255*m.a);return"#"+e(n)+e(o)+e(p)+e(l)}},{key:"add",value:function(k,n,l,m){return new j(this.r+k,this.g+n,this.b+l,this.a*m)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(k){"#"==k.charAt(0)&&(k=k.substr(1));var o,m,l;3===k.length?(o=parseInt(k.charAt(0),16),m=parseInt(k.charAt(1),16),l=parseInt(k.charAt(2),16),o=(o<<4)+o,m=(m<<4)+m,l=(l<<4)+l):(o=parseInt(k.substring(0,2),16),m=parseInt(k.substring(2,4),16),l=parseInt(k.substring(4,6),16));var n=new j(o,m,l);return j.preserveInputStrings&&(n.stringified="#"+k),n}},{key:"fromHSLA",value:function(x){function t(r){return r<0&&++r,r>1&&--r,6*r<1?k+(w-k)*r*6:2*r<1?w:3*r<2?k+(w-k)*(2/3-r)*6:k}if(x.$isFashionRGBA){return x.clone()}var p=x,q=p.h/360,l=p.s/100,v=p.l/100,n=p.a,w=v<=0.5?v*(l+1):v+l-v*l,k=2*v-w,m=g.constrainChannel(255*t(q+1/3)),o=g.constrainChannel(255*t(q)),u=g.constrainChannel(255*t(q-1/3));return new j(m,o,u,n)}}]),j}(g);f.apply(h,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),f.apply(h.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new h(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new h(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=h,function(j,q,n,s){var p,k=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i=Object.keys(n);for(i.sort(),p=0;p<i.length;p++){var l=i[p],m=n[l],o=new j(m[0],m[1],m[2],m[3]),r=o.stringify();q[r]=l}k.forEach(function(t){var u=t+t;k.forEach(function(v){var w=v+v;k.forEach(function(y){var A=y+y,B="#"+t+v+y,z="#"+u+w+A;if(s[z]){var x=s[z];B=x.length>B.length?B:x}s[z]=B})})})}(h,h.stringifiedMap,g.map,h.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,g){var h=b("../Base.js"),f=b("./Type.js"),e=b("./Numeric.js"),c=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new e(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(f);h.apply(c.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,f,d){var c=b("../Base.js"),g=b("./Type.js"),e=b("./List.js"),h=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new e(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(g);c.apply(h.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),f.exports=h},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("top"),m.push("bottom"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(linear, "+m.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var j=this.items,m=j.length,k=[],l=0;l<m;l++){k.push(j[l].clone())}return new i(k,this.separator)}},{key:"clone",value:function(p,m){if(m&&this.matches(p)){return m.clone()}for(var l=this.items,k=l.length,o=[],n=0;n<k;n++){o.push(l[n].clone(p,m))}var j=new i(o,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(l){for(var m=[],j=0;j<this.items.length;j++){var k=this.items[j];k&&m.push(k.toPrefixedString(l))}return m.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(i,f,h){var d=i("../Base.js"),b=i("./Type.js"),e=i("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=b.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=b.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new e(l+1)}}},{key:"insert",value:function(l,n){var m=b.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(b);d.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);d.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),f.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(g,e,i){var c=g("../Base.js"),k=g("./List.js"),b=g("./Type.js"),h=g("./Literal.js"),j=h.Null,f=g("./Numeric.js"),d=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof f&&(n=b.unbox(n)),"number"==typeof n?new k([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||j)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(k);c.apply(d.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),e.exports=d},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(i,f,h){var d=i("../Base.js"),b=i("./Type.js"),e=i("./Bool.js"),g=i("./Literal.js"),c=function(k){function j(o,n,p,m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=o,l.unit=n,n&&!p?l.numeratorUnits=[n]:l.numeratorUnits=p||[],l.denominatorUnits=m||[],l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(n,l){var m;this.unit||l.unit;return l.$isFashionRGBA||l.$isFashionHSLA?new g(this+n+l):l.$isFashionNumber?this.numericOperate(n,l):l.$isFashionLiteral&&(m=this.tryCoerce(l))?this.performOperation(n,m):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,n,l)}},{key:"tryNormalize",value:function(n){var m=n.value,l=n.unit;if(n.$isFashionNumber){switch(this.unit){case"mm":switch(l){case"in":return new j(25.4*m,"mm");case"cm":return new j(2.54*m,"mm")}break;case"cm":switch(l){case"in":return new j(2.54*m,"cm");case"mm":return new j(m/10,"cm")}break;case"in":switch(l){case"mm":return new j(m/25.4,"in");case"cm":return new j(m/2.54,"in")}break;case"ms":switch(l){case"s":return new j(1000*m,"ms")}break;case"s":switch(l){case"ms":return new j(m/1000,"s")}break;case"Hz":switch(l){case"kHz":return new j(1000*m,"Hz")}break;case"kHz":switch(l){case"Hz":return new j(m/1000,"kHz")}break;case"%":switch(l){default:return new j(m)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(n){var m=this.unit,l=n.unit;return !!n.$isFashionNumber&&(m===l||"mm"===m&&("in"===l||"cm"===l)||"cm"===m&&("in"===l||"mm"===l)||"in"===m&&("mm"===l||"cm"===l)||"ms"===m&&"s"===l||"s"===m&&"ms"===l||"Hz"===m&&"kHz"===l||"kHz"===m&&"Hz"===l)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=d.filter(l.num,function(m){return !!m}),l.den=d.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(n,t){this.normalizeUnits(),t.normalizeUnits();var u,s=this,r=t,m=j.OPERATIONS,l=j.NON_COERCE_OPERATIONS,o=m[n];if(o){try{s.unitless()?s=s.coerceUnits(r.numeratorUnits,r.denominatorUnits):r=r.coerceUnits(s.numeratorUnits,s.denominatorUnits)}catch(q){if("=="==n){return e.False}if("!="==n){return e.True}throw q}}else{o=l[n]}if(o&&(u=o(s.value,r.value)),"number"==typeof u){var p=this.computeUnits(s,r,n);return new j(u,p.num.length?p.num[0]:null,p.num,p.den)}return new e(u)}},{key:"computeUnits",value:function(l,n,m){switch(m){case"*":return{num:l.numeratorUnits.slice().concat(n.numeratorUnits),den:l.denominatorUnits.slice().concat(n.denominatorUnits)};case"/":return{num:l.numeratorUnits.slice().concat(n.denominatorUnits),den:l.denominatorUnits.slice().concat(n.numeratorUnits)};default:return{num:l.numeratorUnits,den:l.denominatorUnits}}}},{key:"coerceUnits",value:function(n,l){var m=this.value;return this.unitless()||(m=m*this.coercionFactor(this.numeratorUnits,n)/this.coercionFactor(this.denominatorUnits,l)),new j(m,n&&n[0],n,l)}},{key:"coercionFactor",value:function(r,m){var s=this.removeCommonUnits(r,m),u=s.num,o=s.den;u.length===o.length&&this.convertable(u||o)||d.raise("Incompatible units: "+u.join("*")+" and "+o.join("*"));for(var q=0;q<u.length;q++){for(var n=u[q],p=0;p<o.length;p++){var l=o[p],t=this.conversionFactor(n,l);if(null!==t){return t}}}return 1}},{key:"conversionFactor",value:function(o,n){var p=j.CONVERTABLE_UNITS,l=j.CONVERSION_TABLE,m=null;return p[o]&&p[n]&&(m=l[p[o]][p[n]]),null===m&&p[n]&&p[o]&&(m=1/l[p[n]][p[o]]),m}},{key:"convertable",value:function(n){if(n&&!Array.isArray(n)&&(n=[n]),n&&n.length){for(var m=j.CONVERTABLE_UNITS,l=0;l<n.length;l++){if(void 0===m[n[l]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(r,o){var p,q,q,m={},n=[],l=[];for(p=0;p<r.length;p++){q=r[p],m[q]=(m[q]||0)+1}for(p=0;p<o.length;p++){q=o[p],m[q]=(m[q]||0)-1}for(p=0;p<r.length;p++){q=r[p],m[q]>0&&(n.push(q),m[q]--)}for(p=0;p<o.length;p++){q=o[p],m[q]<0&&(l.push(q),m[q]++)}return{num:n,den:l}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(b);d.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),d.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),f.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(m,k,l){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.position=m,j.stops=l,j.shape=k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("center 0%"),m.push("center 100%"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(radial, "+m.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,f,d){var h=b("../Base.js"),c=b("./TypeVisitor.js"),e=b("../Output.js"),g=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(o){for(var r,l=this.output,q=o.items,p=l.output.length,t=o.separator,s=t&&t.length,k=t&&t.indexOf(" ")>-1,m=l.output,n=0;n<q.length;n++){q[n]&&(this.visit(q[n]),r=l.output.length-p,!r&&s&&n>0&&(l.output=m),m=l.output,n<q.length-1&&s&&(l.add(t),k||l.space()),p=l.output.length)}}},{key:"map",value:function(m){var p,o,n=this.output,k=m.items;this.currDeclaration&&h.raise("("+m+") isn't a valid CSS value.");for(var l=0;l<k.length-1;l+=2){p=k[l],o=k[l+1],p&&o&&(l>0&&(n.add(","),n.space()),this.visit(p),n.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new e,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(c);h.apply(g.prototype,{output:null}),f.exports=g},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(n,l,h,j){l=l||"fashion",h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+n+"s*$"),j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+n+"\\s*$");var i=this.docs;if(i&&i.length){for(var m=0;m<this.docs.length;m++){var k=i[m];if(h.test(k)){return !0}if(j.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(n,l,h,j):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(d,f,e){return f in d?Object.defineProperty(d,f,{value:e,enumerable:!0,configurable:!0,writable:!0}):d[f]=e,d}var _get=function get(k,h,i){null===k&&(k=Function.prototype);var g=Object.getOwnPropertyDescriptor(k,h);if(void 0===g){var j=Object.getPrototypeOf(k);return null===j?void 0:get(j,h,i)}if("value" in g){return g.value}var l=g.get;if(void 0!==l){return l.call(i)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,m,j){var k,i=a("./src/export/Base.js"),n=a("./src/export/css/CssVariableManager.js"),l=new n;i.apply(i,(k={css:l,CssExport:n,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(k,"Types",a("./src/export/type/Types.js")),_defineProperty(k,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(k,"Output",a("./src/export/Output.js")),_defineProperty(k,"Runtime",a("./src/export/Runtime.js")),k)),m.exports=i},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(L,P,V){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function M(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?M(d,c):g[e]=c):g[e]=c}}return g}function T(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function R(c){return c&&"function"==typeof c}function Y(d,c){console.log(T("[DBG] "+d,c))}function N(d,c){console.log(T("[LOG] "+d,c))}function G(d,c){console.log(T("[INF] "+d,c))}function H(d,c){console.log(T("[WRN] "+d,c))}function I(d,c){console.log(T("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function ab(d,c){var e;c&&(d=T(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function aa(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function a(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function S(c){return c.length&&c[c.length-1]}function U(c){return c.length>2?c.slice(1):[]}function Q(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function O(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;Q(f,Z.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function X(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?X(e,d-1,g):g.push(e)}return g}var K=L("./../NameConverter.js"),Z=function Z(c){_classCallCheck(this,Z),c&&M(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return S(this.items)}},{key:"tail",value:function(){return U(this.items)}}]),c}();C.prototype.items=null;var W=Object.create||function(c){return D.prototype=c,new D};P.exports={EmptyArray:[],getJsName:K.getJsName,chain:W,Base:Z,BaseSet:C,apply:J,merge:M,createMessage:T,isFunction:R,debug:Y,log:N,info:G,warn:H,error:I,raise:F,raiseAt:ab,filter:aa,convert:a,first:E,last:S,tail:U,mixin:O,flatten:X}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(A,v,C){var t=A("./Base.js"),B=t.Base,x=A("./type/Type.js"),E=A("./type/List.js"),a=A("./type/Bool.js"),w=A("./type/Color.js"),u=A("./type/ColorRGBA.js"),F=A("./type/Text.js"),s=A("./type/Literal.js"),D=A("./type/Statics.js"),G=A("./type/TypeVisitor.js"),z=A("./type/Types.js"),H=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(H.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var y=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:D.boxType,unbox:D.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(k,o){for(var i,n={},m=0,l=0;l<k.length;l++){var j=k[l];if(void 0!==j){if(j===!0||j===!1){n[o[m]]=j,m++}else{if(void 0===j.type){for(i in j){n[i.replace(/^\$/,"")]=j[i]}}else{i=o[m],i instanceof Array?(i=i[0],n[i]=n[i]||new E,n[i].add(j)):(n[i]=j,m++)}}}}return n},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new a(f)}},{key:"color",value:function d(f){var g=w.map[f],h=new u(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new F(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(f){f=f||this.types;for(var h,j=Object.getOwnPropertyNames(f),i=[],g=0;g<j.length;g++){h=j[g],i.push(h+" = Types."+h),i.push("__"+h+" = "+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(j){j=j||this.constructor.prototype;for(var f,h,i=[];j;){f=Object.getOwnPropertyNames(j);for(var g=0;g<f.length;g++){h=f[g],"function"==typeof j[h]&&i.push("__rt_"+h+" = __rt."+h+".bind(__rt)")}j=Object.getPrototypeOf(j)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var g,i=Object.getOwnPropertyNames(this),h=[],f=0;f<i.length;f++){g=i[f],h.push("__rt_"+g+" = __rt."+g)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new G(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new H(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(f,h,i){var g=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),g.map[f]=h,h}},{key:"setDynamic",value:function(g,j,k){var i,h=t.getJsName(g),f=this._globalScope;return j&&j.$isFashionLiteral||(j=this.box(j)),j.ast=j.ast||this.getAstNode(k),j.$referenceName||j.$constant?(i=j.clone(),i.$previousReference=j,j=i,j.ast=this.getAstNode(k)):j.$referenceName=g,f.map[h]=j,j}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new E(m,k)}},{key:"applySplatArgs",value:function(g){var l,i,f,k,h,j=[];for(i=0;i<g.length;i++){if(l=g[i],l&&l.splat&&l.$isFashionList){for(h=l.getItems(),k=0;k<h.length;k++){f=h[k],f&&(f.splatSeparator=l.separator),j.push(f)}}else{j.push(l)}l&&(l.splat=void 0)}return j}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(B);t.apply(y.prototype,{box:x.box,unbox:x.unbox,Scope:H,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:z,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),v.exports=y},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(k,m,n){var o=k("../Base.js"),j=k("../Runtime.js"),a=k("../parse/ValueParser.js"),p=k("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new j}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(B){var y,x,d,A,i,D,g,f=this,z=f.getRuntime(),e=new a,C=f.variableMap;x=new z.Scope;for(A in B){y=o.getJsName(A.replace(f.nameRe,"")),0!==y.indexOf("$")&&(y="$"+y),x.put(y,e.parse(B[A]))}z._globalScope=x,z._currentScope=x;for(var h=0;h<f.calcFns.length;h++){f.calcFns[h](z)}d=new p,B={};for(A in C){i=C[A];for(var h=0;h<i.length;h++){y=i[h],D="$"+o.getJsName(y),g=x.get(D),g&&(g.$isWrapper&&(g=g.value),B[y]=d.toSource(g))}}return B}},{key:"applyVariables",value:function(f){var e=this,v=e.variableMap;for(var u in v){var d=v[u],i=document.querySelectorAll(u);if(i){for(var g=0;g<i.length;g++){for(var h=0;h<d.length;h++){var t=d[h];i[g].style.setProperty("--"+t,f[t])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return o.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var e=this,v=e.variableMap,h={};for(var u in v){var d=v[u],i=document.querySelectorAll(u);if(i){for(var f=0;f<i.length;f++){for(var g=0;g<d.length;g++){var t=d[g];h[t]=i[f].style.getPropertyValue("--"+t)}}}}return h}}]),c}();o.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),m.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,z,u){var B=x("../Base.js"),A=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),y=v.Color,D=v.Text,E=v.Numeric,C=v.List,a=v.Bool,s=v.Literal,F=v.ColorRGBA,r=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var e,d=this,h="",i=d.str,f=i.length,g=!1,j=!1,k=0;d.index<f;){if(e=i[d.index],d.index++,e<=" "&&!g&&!k){if(h.length){break}}else{if(";"===e&&!g&&!j){break}if("("===e&&k++,")"===e&&k&&k--,","===e&&!g&&!j&&!k){if(h.length){d.index--;break}return e}"\\"===e&&g?(j=1,d.index++):('"'!==e&&"'"!==e||(g?g===e&&(g=!1):g=e),j=!1,h+=e)}}return h}},{key:"parseValue",value:function(j){var k,i,h={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===j[0]||"'"===j[0]){return i=j=j.substring(1,j.length-1),new D(i,j[0])}if("true"===j){return new a((!0))}if("false"===j){return new a((!1))}if("null"===j){return s.Null}if("none"===j){return s.None}if(B.Color.map[j]){var d=y.map[j],g=new F(d[0],d[1],d[2],d[3]);return g.stringified=j,g}if(k=h.number.exec(j)){return new E(parseFloat(k[1]),k[2])}if(k=h.shortHexColor.exec(j)){return F.fromHex(k[1])}if(k=h.longHexColor.exec(j)){return F.fromHex(k[1])}if(k=h.functionCall.exec(j)){var e=k[1],f=this.parse(k[2]).items;return"hsla"===e||"hsl"===e?new r(A.unbox(f[0]),A.unbox(f[1]),A.unbox(f[2]),A.unbox(f[3])||1):"rgba"===e||"rgb"===e?new F(A.unbox(f[0]),A.unbox(f[1]),A.unbox(f[2]),A.unbox(f[3])||1):new t(e,f)}return(k=h.parenList.exec(j))?new t(this.parse(k[1])):new B.Literal(j)}},{key:"parse",value:function(e){var h,g=this,f=[],j=[],d=null;for(g.str=e,g.index=0;h=g._advance();){f.push(h)}for(var i=0;i<f.length;i++){h=f[i].trim(),","===f[i+1]?(d=d||[],d.push(g.parseValue(h)),i++):d?(d.push(g.parseValue(h)),j.push(new C(d,", ")),d=null):j.push(g.parseValue(h))}return 1===j.length?j[0]:new C(j," ")}}]),c}();z.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(k,j,a){var m=k("../Base.js"),l=k("./Type.js"),n=k("./Bool.js"),o=k("./Numeric.js"),p=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return n.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(e,g){var f,h=c.units[g],i=c.types[g],r=c.comps[g];return f="hsla"==i?e.getHSLA():e.getRGBA(),new o(f[r],h)}},{key:"adjust",value:function(e,g,i){var f=e.getHSLA().copy(),h=c.comps[g],r=i.value;return f[h]+=r,f.h=c.constrainDegrees(f.h),f.s=c.constrainPercentage(f.s),f.l=c.constrainPercentage(f.l),f.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);m.apply(p,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),m.apply(p.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),j.exports=p},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,n){var k=a("../Base.js"),j=a("./Color.js"),i=a("./ColorRGBA.js"),l=function(c){function d(f,g,h,e){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=j.constrainDegrees(f),p.s=g,p.l=h,void 0!==e&&(p.a=e),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return i.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(f,g,h,e){return new d(j.constrainDegrees(this.h+f),j.constrainPercentage(this.s+g),j.constrainPercentage(this.l+h),j.constrainAlpha(this.a*e))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=j.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=j.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var z=g.r/255,r=g.g/255,x=g.b/255,h=g.a,s=Math.max(z,r,x),f=Math.min(z,r,x),B=s-f,e=0,A=0,y=0.5*(s+f);return f!=s&&(A=y<0.5?B/(s+f):B/(2-s-f),e=z==s?60*(r-x)/B:r==s?120+60*(x-z)/B:240+60*(z-r)/B,e<0&&(e+=360),e>=360&&(e-=360)),new d(j.constrainDegrees(e),j.constrainPercentage(100*A),j.constrainPercentage(100*y),h)}}]),d}(j);i.prototype.getHSLA=function(){return l.fromRGBA(this)},k.apply(l.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=l},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,n){function l(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var k=a("../Base.js"),j=a("./Color.js"),i=function(d){function c(g,h,f,e){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,g)),p.g=Math.min(255,Math.max(0,h)),p.b=Math.min(255,Math.max(0,f)),void 0!==e&&(p.a=Math.min(1,Math.max(0,e))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,f=h(e.r),r=h(e.g),s=h(e.b),t=e.a,g="";return g=1===t?"#"+l(f)+l(r)+l(s):"rgba("+f+", "+r+", "+s+", "+t+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var e=this,g=Math.round,q=g(e.r),h=g(e.g),f=g(e.b),r=g(255*e.a);return"#"+l(r)+l(q)+l(h)+l(f)}},{key:"add",value:function(g,h,f,e){return new c(this.r+g,this.g+h,this.b+f,this.a*e)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(g){"#"==g.charAt(0)&&(g=g.substr(1));var h,e,f;3===g.length?(h=parseInt(g.charAt(0),16),e=parseInt(g.charAt(1),16),f=parseInt(g.charAt(2),16),h=(h<<4)+h,e=(e<<4)+e,f=(f<<4)+f):(h=parseInt(g.substring(0,2),16),e=parseInt(g.substring(2,4),16),f=parseInt(g.substring(4,6),16));var p=new c(h,e,f);return c.preserveInputStrings&&(p.stringified="#"+g),p}},{key:"fromHSLA",value:function(z){function D(o){return o<0&&++o,o>1&&--o,6*o<1?y+(A-y)*o*6:2*o<1?A:3*o<2?y+(A-y)*(2/3-o)*6:y}if(z.$isFashionRGBA){return z.clone()}var f=z,e=f.h/360,s=f.s/100,B=f.l/100,h=f.a,A=B<=0.5?B*(s+1):B+s-B*s,y=2*B-A,r=j.constrainChannel(255*D(e+1/3)),g=j.constrainChannel(255*D(e)),C=j.constrainChannel(255*D(e-1/3));return new c(r,g,C,h)}}]),c}(j);k.apply(i,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),k.apply(i.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new i(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new i(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=i,function(v,d,g,x){var e,u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],w=Object.keys(g);for(w.sort(),e=0;e<w.length;e++){var t=w[e],h=g[t],f=new v(h[0],h[1],h[2],h[3]),c=f.stringify();d[c]=t}u.forEach(function(p){var o=p+p;u.forEach(function(r){var q=r+r;u.forEach(function(F){var C=F+F,E="#"+p+r+F,D="#"+o+q+C;if(x[D]){var s=x[D];E=s.length>E.length?E:s}x[D]=E})})})}(i,i.stringifiedMap,j.map,i.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,m,j){var i=a("../Base.js"),k=a("./Type.js"),l=a("./Numeric.js"),n=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new l(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(k);i.apply(n.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),m.exports=n},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,k,m){var n=a("../Base.js"),j=a("./Type.js"),l=a("./List.js"),i=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new l(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(j);n.apply(i.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),k.exports=i},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("top"),e.push("bottom"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(linear, "+e.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var n=this.items,e=n.length,g=[],f=0;f<e;f++){g.push(n[f].clone())}return new c(g,this.separator)}},{key:"clone",value:function(r,e){if(e&&this.matches(r)){return e.clone()}for(var f=this.items,g=f.length,s=[],t=0;t<g;t++){s.push(f[t].clone(r,e))}var q=new c(s,this.separator);return q.$referenceName=this.$referenceName,q.$referenceBase=this.$referenceBase,q.$previousReference=this.$previousReference,q}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(f){for(var e=[],n=0;n<this.items.length;n++){var g=this.items[n];g&&e.push(g.toPrefixedString(f))}return e.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(j,m,k){var o=j("../Base.js"),a=j("./Type.js"),n=j("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=a.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=a.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new n(f+1)}}},{key:"insert",value:function(f,h){var e=a.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(a);o.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var p=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);o.apply(p.prototype,{$isFashionNull:!0,$constant:!0}),p.prototype.$isFashionNull=!0,l.Null=new p(null),l.None=new l("none"),m.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(o,q,m){var s=o("../Base.js"),a=o("./List.js"),t=o("./Type.js"),n=o("./Literal.js"),l=n.Null,p=o("./Numeric.js"),r=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof p&&(e=t.unbox(e)),"number"==typeof e?new a([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||l)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(a);s.apply(r.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),q.exports=r},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(j,m,k){var o=j("../Base.js"),a=j("./Type.js"),n=j("./Bool.js"),l=j("./Literal.js"),p=function(c){function d(h,i,g,e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=h,f.unit=i,i&&!g?f.numeratorUnits=[i]:f.numeratorUnits=g||[],f.denominatorUnits=e||[],f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(g,f){var e;this.unit||f.unit;return f.$isFashionRGBA||f.$isFashionHSLA?new l(this+g+f):f.$isFashionNumber?this.numericOperate(g,f):f.$isFashionLiteral&&(e=this.tryCoerce(f))?this.performOperation(g,e):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,g,f)}},{key:"tryNormalize",value:function(g){var e=g.value,f=g.unit;if(g.$isFashionNumber){switch(this.unit){case"mm":switch(f){case"in":return new d(25.4*e,"mm");case"cm":return new d(2.54*e,"mm")}break;case"cm":switch(f){case"in":return new d(2.54*e,"cm");case"mm":return new d(e/10,"cm")}break;case"in":switch(f){case"mm":return new d(e/25.4,"in");case"cm":return new d(e/2.54,"in")}break;case"ms":switch(f){case"s":return new d(1000*e,"ms")}break;case"s":switch(f){case"ms":return new d(e/1000,"s")}break;case"Hz":switch(f){case"kHz":return new d(1000*e,"Hz")}break;case"kHz":switch(f){case"Hz":return new d(e/1000,"kHz")}break;case"%":switch(f){default:return new d(e)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(g){var e=this.unit,f=g.unit;return !!g.$isFashionNumber&&(e===f||"mm"===e&&("in"===f||"cm"===f)||"cm"===e&&("in"===f||"mm"===f)||"in"===e&&("mm"===f||"cm"===f)||"ms"===e&&"s"===f||"s"===e&&"ms"===f||"Hz"===e&&"kHz"===f||"kHz"===e&&"Hz"===f)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=o.filter(e.num,function(f){return !!f}),e.den=o.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(i,y){this.normalizeUnits(),y.normalizeUnits();var x,z=this,e=y,v=d.OPERATIONS,w=d.NON_COERCE_OPERATIONS,h=v[i];if(h){try{z.unitless()?z=z.coerceUnits(e.numeratorUnits,e.denominatorUnits):e=e.coerceUnits(z.numeratorUnits,z.denominatorUnits)}catch(f){if("=="==i){return n.False}if("!="==i){return n.True}throw f}}else{h=w[i]}if(h&&(x=h(z.value,e.value)),"number"==typeof x){var g=this.computeUnits(z,e,i);return new d(x,g.num.length?g.num[0]:null,g.num,g.den)}return new n(x)}},{key:"computeUnits",value:function(f,g,e){switch(e){case"*":return{num:f.numeratorUnits.slice().concat(g.numeratorUnits),den:f.denominatorUnits.slice().concat(g.denominatorUnits)};case"/":return{num:f.numeratorUnits.slice().concat(g.denominatorUnits),den:f.denominatorUnits.slice().concat(g.numeratorUnits)};default:return{num:f.numeratorUnits,den:f.denominatorUnits}}}},{key:"coerceUnits",value:function(g,f){var e=this.value;return this.unitless()||(e=e*this.coercionFactor(this.numeratorUnits,g)/this.coercionFactor(this.denominatorUnits,f)),new d(e,g&&g[0],g,f)}},{key:"coercionFactor",value:function(e,v){var z=this.removeCommonUnits(e,v),x=z.num,h=z.den;x.length===h.length&&this.convertable(x||h)||o.raise("Incompatible units: "+x.join("*")+" and "+h.join("*"));for(var f=0;f<x.length;f++){for(var i=x[f],g=0;g<h.length;g++){var w=h[g],y=this.conversionFactor(i,w);if(null!==y){return y}}}return 1}},{key:"conversionFactor",value:function(h,i){var g=d.CONVERTABLE_UNITS,f=d.CONVERSION_TABLE,e=null;return g[h]&&g[i]&&(e=f[g[h]][g[i]]),null===e&&g[i]&&g[h]&&(e=1/f[g[i]][g[h]]),e}},{key:"convertable",value:function(g){if(g&&!Array.isArray(g)&&(g=[g]),g&&g.length){for(var e=d.CONVERTABLE_UNITS,f=0;f<g.length;f++){if(void 0===e[g[f]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(g,s){var i,h,h,e={},t=[],f=[];for(i=0;i<g.length;i++){h=g[i],e[h]=(e[h]||0)+1}for(i=0;i<s.length;i++){h=s[i],e[h]=(e[h]||0)-1}for(i=0;i<g.length;i++){h=g[i],e[h]>0&&(t.push(h),e[h]--)}for(i=0;i<s.length;i++){h=s[i],e[h]<0&&(f.push(h),e[h]++)}return{num:t,den:f}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(a);o.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),o.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),m.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(e,g,f){_classCallCheck(this,c);var n=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return n.position=e,n.stops=f,n.shape=g,n}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("center 0%"),e.push("center 100%"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(radial, "+e.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,k,m){var i=a("../Base.js"),n=a("./TypeVisitor.js"),l=a("../Output.js"),j=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(h){for(var e,w=this.output,f=h.items,g=w.output.length,y=h.separator,z=y&&y.length,x=y&&y.indexOf(" ")>-1,v=w.output,u=0;u<f.length;u++){f[u]&&(this.visit(f[u]),e=w.output.length-g,!e&&z&&u>0&&(w.output=v),v=w.output,u<f.length-1&&z&&(w.add(y),x||w.space()),g=w.output.length)}}},{key:"map",value:function(e){var h,q,r=this.output,g=e.items;this.currDeclaration&&i.raise("("+e+") isn't a valid CSS value.");for(var f=0;f<g.length-1;f+=2){h=g[f],q=g[f+1],h&&q&&(f>0&&(r.add(","),r.space()),this.visit(h),r.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new l,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(n);i.apply(j.prototype,{output:null}),k.exports=j},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(r,e,q,o){e=e||"fashion",q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+r+"s*$"),o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+r+"\\s*$");var p=this.docs;if(p&&p.length){for(var d=0;d<this.docs.length;d++){var f=p[d];if(q.test(f)){return !0}if(o.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(r,e,q,o):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(c,a,b){return a in c?Object.defineProperty(c,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[a]=b,c}var _get=function get(b,e,d){null===b&&(b=Function.prototype);var f=Object.getOwnPropertyDescriptor(b,e);if(void 0===f){var c=Object.getPrototypeOf(b);return null===c?void 0:get(c,e,d)}if("value" in f){return f.value}var a=f.get;if(void 0!==a){return a.call(d)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,b,f){var e,g=d("./src/export/Base.js"),h=d("./src/export/css/CssVariableManager.js"),c=new h;g.apply(g,(e={css:c,CssExport:h,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(e,"Types",d("./src/export/type/Types.js")),_defineProperty(e,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(e,"Output",d("./src/export/Output.js")),_defineProperty(e,"Runtime",d("./src/export/Runtime.js")),e)),b.exports=g},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(p,l,f){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function o(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?o(F,G):C[E]=G):C[E]=G}}return C}function h(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function j(C){return C&&"function"==typeof C}function c(C,D){console.log(h("[DBG] "+C,D))}function n(C,D){console.log(h("[LOG] "+C,D))}function u(C,D){console.log(h("[INF] "+C,D))}function t(C,D){console.log(h("[WRN] "+C,D))}function s(C,D){console.log(h("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function z(D,E){var C;E&&(D=h(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function B(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function A(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function i(C){return C.length&&C[C.length-1]}function g(C){return C.length>2?C.slice(1):[]}function k(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function m(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;k(E,b.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function d(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?d(E,F-1,C):C.push(E)}return C}var q=p("./../NameConverter.js"),b=function b(C){_classCallCheck(this,b),C&&o(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return i(this.items)}},{key:"tail",value:function(){return g(this.items)}}]),C}();y.prototype.items=null;var e=Object.create||function(C){return x.prototype=C,new x};l.exports={EmptyArray:[],getJsName:q.getJsName,chain:e,Base:b,BaseSet:y,apply:r,merge:o,createMessage:h,isFunction:j,debug:c,log:n,info:u,warn:t,error:s,raise:v,raiseAt:z,filter:B,convert:A,first:w,last:i,tail:g,mixin:m,flatten:d}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(e,l,c){var p=e("./Base.js"),d=p.Base,i=e("./type/Type.js"),r=e("./type/List.js"),h=e("./type/Bool.js"),j=e("./type/Color.js"),n=e("./type/ColorRGBA.js"),o=e("./type/Text.js"),q=e("./type/Literal.js"),b=e("./type/Statics.js"),m=e("./type/TypeVisitor.js"),f=e("./type/Types.js"),k=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(k.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var g=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:b.boxType,unbox:b.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(A,D){for(var C,E={},y=0,z=0;z<A.length;z++){var B=A[z];if(void 0!==B){if(B===!0||B===!1){E[D[y]]=B,y++}else{if(void 0===B.type){for(C in B){E[C.replace(/^\$/,"")]=B[C]}}else{C=D[y],C instanceof Array?(C=C[0],E[C]=E[C]||new r,E[C].add(B)):(E[C]=B,y++)}}}}return E},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new h(v)}},{key:"color",value:function t(x){var w=j.map[x],v=new n(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new o(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(z){z=z||this.types;for(var x,v=Object.getOwnPropertyNames(z),w=[],y=0;y<v.length;y++){x=v[y],w.push(x+" = Types."+x),w.push("__"+x+" = "+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(v){v=v||this.constructor.prototype;for(var z,x,w=[];v;){z=Object.getOwnPropertyNames(v);for(var y=0;y<z.length;y++){x=z[y],"function"==typeof v[x]&&w.push("__rt_"+x+" = __rt."+x+".bind(__rt)")}v=Object.getPrototypeOf(v)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var x,v=Object.getOwnPropertyNames(this),w=[],y=0;y<v.length;y++){x=v[y],w.push("__rt_"+x+" = __rt."+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new m(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new k(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(y,w,v){var x=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),x.map[y]=w,w}},{key:"setDynamic",value:function(z,w,v){var x,y=p.getJsName(z),A=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),w.$referenceName||w.$constant?(x=w.clone(),x.$previousReference=w,w=x,w.ast=this.getAstNode(v)):w.$referenceName=z,A.map[y]=w,w}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new r(w,y)}},{key:"applySplatArgs",value:function(A){var v,y,B,w,z,x=[];for(y=0;y<A.length;y++){if(v=A[y],v&&v.splat&&v.$isFashionList){for(z=v.getItems(),w=0;w<z.length;w++){B=z[w],B&&(B.splatSeparator=v.separator),x.push(B)}}else{x.push(v)}v&&(v.splat=void 0)}return x}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(d);p.apply(g.prototype,{box:i.box,unbox:i.unbox,Scope:k,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:f,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),l.exports=g},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(e,b,i){var h=e("../Base.js"),f=e("../Runtime.js"),d=e("../parse/ValueParser.js"),g=e("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new f}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(m){var v,w,t,n,o,k,q,r=this,u=r.getRuntime(),s=new d,l=r.variableMap;w=new u.Scope;for(n in m){v=h.getJsName(n.replace(r.nameRe,"")),0!==v.indexOf("$")&&(v="$"+v),w.put(v,s.parse(m[n]))}u._globalScope=w,u._currentScope=w;for(var p=0;p<r.calcFns.length;p++){r.calcFns[p](u)}t=new g,m={};for(n in l){o=l[n];for(var p=0;p<o.length;p++){v=o[p],k="$"+h.getJsName(v),q=w.get(k),q&&(q.$isWrapper&&(q=q.value),m[v]=t.toSource(q))}}return m}},{key:"applyVariables",value:function(n){var o=this,q=o.variableMap;for(var r in q){var p=q[r],k=document.querySelectorAll(r);if(k){for(var m=0;m<k.length;m++){for(var l=0;l<p.length;l++){var s=p[l];k[m].style.setProperty("--"+s,n[s])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return h.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var o=this,q=o.variableMap,l={};for(var r in q){var p=q[r],k=document.querySelectorAll(r);if(k){for(var n=0;n<k.length;n++){for(var m=0;m<p.length;m++){var s=p[m];l[s]=k[n].style.getPropertyValue("--"+s)}}}}return l}}]),j}();h.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),b.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,g,m){var e=j("../Base.js"),f=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),h=l.Color,c=l.Text,q=l.Numeric,d=l.List,i=l.Bool,p=l.Literal,o=l.ColorRGBA,b=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var y,z=this,v="",u=z.str,x=u.length,w=!1,t=!1,s=0;z.index<x;){if(y=u[z.index],z.index++,y<=" "&&!w&&!s){if(v.length){break}}else{if(";"===y&&!w&&!t){break}if("("===y&&s++,")"===y&&s&&s--,","===y&&!w&&!t&&!s){if(v.length){z.index--;break}return y}"\\"===y&&w?(t=1,z.index++):('"'!==y&&"'"!==y||(w?w===y&&(w=!1):w=y),t=!1,v+=y)}}return v}},{key:"parseValue",value:function(t){var s,u,v={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===t[0]||"'"===t[0]){return u=t=t.substring(1,t.length-1),new c(u,t[0])}if("true"===t){return new i((!0))}if("false"===t){return new i((!1))}if("null"===t){return p.Null}if("none"===t){return p.None}if(e.Color.map[t]){var z=h.map[t],w=new o(z[0],z[1],z[2],z[3]);return w.stringified=t,w}if(s=v.number.exec(t)){return new q(parseFloat(s[1]),s[2])}if(s=v.shortHexColor.exec(t)){return o.fromHex(s[1])}if(s=v.longHexColor.exec(t)){return o.fromHex(s[1])}if(s=v.functionCall.exec(t)){var y=s[1],x=this.parse(s[2]).items;return"hsla"===y||"hsl"===y?new b(f.unbox(x[0]),f.unbox(x[1]),f.unbox(x[2]),f.unbox(x[3])||1):"rgba"===y||"rgb"===y?new o(f.unbox(x[0]),f.unbox(x[1]),f.unbox(x[2]),f.unbox(x[3])||1):new n(y,x)}return(s=v.parenList.exec(t))?new n(this.parse(s[1])):new e.Literal(t)}},{key:"parse",value:function(x){var u,v=this,w=[],s=[],y=null;for(v.str=x,v.index=0;u=v._advance();){w.push(u)}for(var t=0;t<w.length;t++){u=w[t].trim(),","===w[t+1]?(y=y||[],y.push(v.parseValue(u)),t++):y?(y.push(v.parseValue(u)),s.push(new d(y,", ")),y=null):s.push(v.parseValue(u))}return 1===s.length?s[0]:new d(s," ")}}]),r}();g.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(e,f,d){var b=e("../Base.js"),c=e("./Type.js"),i=e("./Bool.js"),h=e("./Numeric.js"),g=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return i.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(q,o){var p,m=k.units[o],l=k.types[o],n=k.comps[o];return p="hsla"==l?q.getHSLA():q.getRGBA(),new h(p[n],m)}},{key:"adjust",value:function(q,o,l){var p=q.getHSLA().copy(),m=k.comps[o],n=l.value;return p[m]+=n,p.h=k.constrainDegrees(p.h),p.s=k.constrainPercentage(p.s),p.l=k.constrainPercentage(p.l),p.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);b.apply(g,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),b.apply(g.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),f.exports=g},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,h){var e=d("../Base.js"),f=d("./Color.js"),g=d("./ColorRGBA.js"),c=function(j){function i(m,l,k,o){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=f.constrainDegrees(m),n.s=l,n.l=k,void 0!==o&&(n.a=o),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return g.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(m,l,k,n){return new i(f.constrainDegrees(this.h+m),f.constrainPercentage(this.s+l),f.constrainPercentage(this.l+k),f.constrainAlpha(this.a*n))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=f.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=f.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var t=o.r/255,k=o.g/255,v=o.b/255,n=o.a,w=Math.max(t,k,v),p=Math.min(t,k,v),l=w-p,q=0,m=0,u=0.5*(w+p);return p!=w&&(m=u<0.5?l/(w+p):l/(2-w-p),q=t==w?60*(k-v)/l:k==w?120+60*(v-t)/l:240+60*(t-k)/l,q<0&&(q+=360),q>=360&&(q-=360)),new i(f.constrainDegrees(q),f.constrainPercentage(100*m),f.constrainPercentage(100*u),n)}}]),i}(f);g.prototype.getHSLA=function(){return c.fromRGBA(this)},e.apply(c.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=c},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,h){function c(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var e=d("../Base.js"),f=d("./Color.js"),g=function(i){function j(l,k,m,o){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,l)),n.g=Math.min(255,Math.max(0,k)),n.b=Math.min(255,Math.max(0,m)),void 0!==o&&(n.a=Math.min(1,Math.max(0,o))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,p=m(q.r),o=m(q.g),l=m(q.b),k=q.a,n="";return n=1===k?"#"+c(p)+c(o)+c(l):"rgba("+p+", "+o+", "+l+", "+k+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var p=this,m=Math.round,o=m(p.r),k=m(p.g),n=m(p.b),l=m(255*p.a);return"#"+c(l)+c(o)+c(k)+c(n)}},{key:"add",value:function(l,k,m,n){return new j(this.r+l,this.g+k,this.b+m,this.a*n)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(l){"#"==l.charAt(0)&&(l=l.substr(1));var k,o,m;3===l.length?(k=parseInt(l.charAt(0),16),o=parseInt(l.charAt(1),16),m=parseInt(l.charAt(2),16),k=(k<<4)+k,o=(o<<4)+o,m=(m<<4)+m):(k=parseInt(l.substring(0,2),16),o=parseInt(l.substring(2,4),16),m=parseInt(l.substring(4,6),16));var n=new j(k,o,m);return j.preserveInputStrings&&(n.stringified="#"+l),n}},{key:"fromHSLA",value:function(v){function l(r){return r<0&&++r,r>1&&--r,6*r<1?w+(o-w)*r*6:2*r<1?o:3*r<2?w+(o-w)*(2/3-r)*6:w}if(v.$isFashionRGBA){return v.clone()}var t=v,u=t.h/360,x=t.s/100,n=t.l/100,p=t.a,o=n<=0.5?n*(x+1):n+x-n*x,w=2*n-o,k=f.constrainChannel(255*l(u+1/3)),q=f.constrainChannel(255*l(u)),m=f.constrainChannel(255*l(u-1/3));return new j(k,q,m,p)}}]),j}(f);e.apply(g,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),e.apply(g.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new g(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new g(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=g,function(q,m,j,o){var l,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],p=Object.keys(j);for(p.sort(),l=0;l<p.length;l++){var s=p[l],i=j[s],k=new q(i[0],i[1],i[2],i[3]),n=k.stringify();m[n]=s}r.forEach(function(t){var u=t+t;r.forEach(function(v){var w=v+v;r.forEach(function(y){var B=y+y,z="#"+t+v+y,A="#"+u+w+B;if(o[A]){var x=o[A];z=x.length>z.length?z:x}o[A]=z})})})}(g,g.stringifiedMap,f.map,g.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,b,f){var g=d("../Base.js"),e=d("./Type.js"),c=d("./Numeric.js"),h=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new c(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(e);g.apply(h.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),b.exports=h},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,e,b){var h=d("../Base.js"),f=d("./Type.js"),c=d("./List.js"),g=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new c(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(f);h.apply(g.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),e.exports=g},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("top"),l.push("bottom"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(linear, "+l.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var m=this.items,l=m.length,j=[],k=0;k<l;k++){j.push(m[k].clone())}return new i(j,this.separator)}},{key:"clone",value:function(m,p){if(p&&this.matches(m)){return p.clone()}for(var o=this.items,l=o.length,k=[],j=0;j<l;j++){k.push(o[j].clone(m,p))}var n=new i(k,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(k){for(var l=[],m=0;m<this.items.length;m++){var j=this.items[m];j&&l.push(j.toPrefixedString(k))}return l.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(f,b,e){var h=f("../Base.js"),d=f("./Type.js"),i=f("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=d.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=d.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new i(l+1)}}},{key:"insert",value:function(n,l){var o=d.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(d);h.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var g=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);h.apply(g.prototype,{$isFashionNull:!0,$constant:!0}),g.prototype.$isFashionNull=!0,c.Null=new g(null),c.None=new c("none"),b.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(e,c,g){var k=e("../Base.js"),i=e("./List.js"),j=e("./Type.js"),f=e("./Literal.js"),h=f.Null,d=e("./Numeric.js"),b=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof d&&(n=j.unbox(n)),"number"==typeof n?new i([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||h)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(i);k.apply(b.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),c.exports=b},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(f,b,e){var h=f("../Base.js"),d=f("./Type.js"),i=f("./Bool.js"),c=f("./Literal.js"),g=function(k){function j(m,l,n,p){_classCallCheck(this,j);var o=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return o.value=m,o.unit=l,l&&!n?o.numeratorUnits=[l]:o.numeratorUnits=n||[],o.denominatorUnits=p||[],o}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(l,m){var n;this.unit||m.unit;return m.$isFashionRGBA||m.$isFashionHSLA?new c(this+l+m):m.$isFashionNumber?this.numericOperate(l,m):m.$isFashionLiteral&&(n=this.tryCoerce(m))?this.performOperation(l,n):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,l,m)}},{key:"tryNormalize",value:function(l){var n=l.value,m=l.unit;if(l.$isFashionNumber){switch(this.unit){case"mm":switch(m){case"in":return new j(25.4*n,"mm");case"cm":return new j(2.54*n,"mm")}break;case"cm":switch(m){case"in":return new j(2.54*n,"cm");case"mm":return new j(n/10,"cm")}break;case"in":switch(m){case"mm":return new j(n/25.4,"in");case"cm":return new j(n/2.54,"in")}break;case"ms":switch(m){case"s":return new j(1000*n,"ms")}break;case"s":switch(m){case"ms":return new j(n/1000,"s")}break;case"Hz":switch(m){case"kHz":return new j(1000*n,"Hz")}break;case"kHz":switch(m){case"Hz":return new j(n/1000,"kHz")}break;case"%":switch(m){default:return new j(n)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(l){var n=this.unit,m=l.unit;return !!l.$isFashionNumber&&(n===m||"mm"===n&&("in"===m||"cm"===m)||"cm"===n&&("in"===m||"mm"===m)||"in"===n&&("mm"===m||"cm"===m)||"ms"===n&&"s"===m||"s"===n&&"ms"===m||"Hz"===n&&"kHz"===m||"kHz"===n&&"Hz"===m)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=h.filter(l.num,function(m){return !!m}),l.den=h.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(l,r){this.normalizeUnits(),r.normalizeUnits();var s,q=this,p=r,u=j.OPERATIONS,t=j.NON_COERCE_OPERATIONS,m=u[l];if(m){try{q.unitless()?q=q.coerceUnits(p.numeratorUnits,p.denominatorUnits):p=p.coerceUnits(q.numeratorUnits,q.denominatorUnits)}catch(o){if("=="==l){return i.False}if("!="==l){return i.True}throw o}}else{m=t[l]}if(m&&(s=m(q.value,p.value)),"number"==typeof s){var n=this.computeUnits(q,p,l);return new j(s,n.num.length?n.num[0]:null,n.num,n.den)}return new i(s)}},{key:"computeUnits",value:function(m,l,n){switch(n){case"*":return{num:m.numeratorUnits.slice().concat(l.numeratorUnits),den:m.denominatorUnits.slice().concat(l.denominatorUnits)};case"/":return{num:m.numeratorUnits.slice().concat(l.denominatorUnits),den:m.denominatorUnits.slice().concat(l.numeratorUnits)};default:return{num:m.numeratorUnits,den:m.denominatorUnits}}}},{key:"coerceUnits",value:function(l,m){var n=this.value;return this.unitless()||(n=n*this.coercionFactor(this.numeratorUnits,l)/this.coercionFactor(this.denominatorUnits,m)),new j(n,l&&l[0],l,m)}},{key:"coercionFactor",value:function(p,u){var q=this.removeCommonUnits(p,u),s=q.num,m=q.den;s.length===m.length&&this.convertable(s||m)||h.raise("Incompatible units: "+s.join("*")+" and "+m.join("*"));for(var o=0;o<s.length;o++){for(var l=s[o],n=0;n<m.length;n++){var t=m[n],r=this.conversionFactor(l,t);if(null!==r){return r}}}return 1}},{key:"conversionFactor",value:function(m,l){var n=j.CONVERTABLE_UNITS,o=j.CONVERSION_TABLE,p=null;return n[m]&&n[l]&&(p=o[n[m]][n[l]]),null===p&&n[l]&&n[m]&&(p=1/o[n[l]][n[m]]),p}},{key:"convertable",value:function(l){if(l&&!Array.isArray(l)&&(l=[l]),l&&l.length){for(var n=j.CONVERTABLE_UNITS,m=0;m<l.length;m++){if(void 0===n[l[m]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(p,o){var m,n,n,r={},l=[],q=[];for(m=0;m<p.length;m++){n=p[m],r[n]=(r[n]||0)+1}for(m=0;m<o.length;m++){n=o[m],r[n]=(r[n]||0)-1}for(m=0;m<p.length;m++){n=p[m],r[n]>0&&(l.push(n),r[n]--)}for(m=0;m<o.length;m++){n=o[m],r[n]<0&&(q.push(n),r[n]++)}return{num:l,den:q}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(d);h.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),h.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),b.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(l,j,k){_classCallCheck(this,i);var m=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return m.position=l,m.stops=k,m.shape=j,m}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("center 0%"),l.push("center 100%"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(radial, "+l.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,e,b){var g=d("../Base.js"),h=d("./TypeVisitor.js"),c=d("../Output.js"),f=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(k){for(var n,r=this.output,m=k.items,l=r.output.length,p=k.separator,o=p&&p.length,q=p&&p.indexOf(" ")>-1,s=r.output,t=0;t<m.length;t++){m[t]&&(this.visit(m[t]),n=r.output.length-l,!n&&o&&t>0&&(r.output=s),s=r.output,t<m.length-1&&o&&(r.add(p),q||r.space()),l=r.output.length)}}},{key:"map",value:function(p){var k,o,m=this.output,l=p.items;this.currDeclaration&&g.raise("("+p+") isn't a valid CSS value.");for(var n=0;n<l.length-1;n+=2){k=l[n],o=l[n+1],k&&o&&(n>0&&(m.add(","),m.space()),this.visit(k),m.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new c,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(h);g.apply(f.prototype,{output:null}),e.exports=f},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(h,l,j,n){l=l||"fashion",j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+h+"s*$"),n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+h+"\\s*$");var k=this.docs;if(k&&k.length){for(var m=0;m<this.docs.length;m++){var i=k[m];if(j.test(i)){return !0}if(n.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(h,l,j,n):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(f,e,d){return e in f?Object.defineProperty(f,e,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[e]=d,f}var _get=function get(g,j,k){null===g&&(g=Function.prototype);var i=Object.getOwnPropertyDescriptor(g,j);if(void 0===i){var l=Object.getPrototypeOf(g);return null===l?void 0:get(l,j,k)}if("value" in i){return i.value}var h=i.get;if(void 0!==h){return h.call(k)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,a,k){var l,j=m("./src/export/Base.js"),i=m("./src/export/css/CssVariableManager.js"),n=new i;j.apply(j,(l={css:n,CssExport:i,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(l,"Types",m("./src/export/type/Types.js")),_defineProperty(l,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(l,"Output",m("./src/export/Output.js")),_defineProperty(l,"Runtime",m("./src/export/Runtime.js")),l)),a.exports=j},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(N,R,X){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function O(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?O(d,c):g[e]=c):g[e]=c}}return g}function V(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function T(c){return c&&"function"==typeof c}function aa(d,c){console.log(V("[DBG] "+d,c))}function P(d,c){console.log(V("[LOG] "+d,c))}function G(d,c){console.log(V("[INF] "+d,c))}function H(d,c){console.log(V("[WRN] "+d,c))}function I(d,c){console.log(V("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function a(d,c){var e;c&&(d=V(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function L(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function M(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function U(c){return c.length&&c[c.length-1]}function W(c){return c.length>2?c.slice(1):[]}function S(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function Q(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;S(f,ab.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function Z(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?Z(e,d-1,g):g.push(e)}return g}var K=N("./../NameConverter.js"),ab=function ab(c){_classCallCheck(this,ab),c&&O(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return U(this.items)}},{key:"tail",value:function(){return W(this.items)}}]),c}();C.prototype.items=null;var Y=Object.create||function(c){return D.prototype=c,new D};R.exports={EmptyArray:[],getJsName:K.getJsName,chain:Y,Base:ab,BaseSet:C,apply:J,merge:O,createMessage:V,isFunction:T,debug:aa,log:P,info:G,warn:H,error:I,raise:F,raiseAt:a,filter:L,convert:M,first:E,last:U,tail:W,mixin:Q,flatten:Z}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(E,x,G){var t=E("./Base.js"),F=t.Base,A=E("./type/Type.js"),a=E("./type/List.js"),B=E("./type/Bool.js"),z=E("./type/Color.js"),v=E("./type/ColorRGBA.js"),u=E("./type/Text.js"),s=E("./type/Literal.js"),H=E("./type/Statics.js"),w=E("./type/TypeVisitor.js"),D=E("./type/Types.js"),y=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(y.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var C=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:H.boxType,unbox:H.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(i,k){for(var m,j={},o=0,l=0;l<i.length;l++){var n=i[l];if(void 0!==n){if(n===!0||n===!1){j[k[o]]=n,o++}else{if(void 0===n.type){for(m in n){j[m.replace(/^\$/,"")]=n[m]}}else{m=k[o],m instanceof Array?(m=m[0],j[m]=j[m]||new a,j[m].add(n)):(j[m]=n,o++)}}}}return j},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new B(f)}},{key:"color",value:function d(f){var g=z.map[f],h=new v(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new u(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(i){i=i||this.types;for(var f,h=Object.getOwnPropertyNames(i),g=[],j=0;j<h.length;j++){f=h[j],g.push(f+" = Types."+f),g.push("__"+f+" = "+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(h){h=h||this.constructor.prototype;for(var i,f,g=[];h;){i=Object.getOwnPropertyNames(h);for(var j=0;j<i.length;j++){f=i[j],"function"==typeof h[f]&&g.push("__rt_"+f+" = __rt."+f+".bind(__rt)")}h=Object.getPrototypeOf(h)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var f,h=Object.getOwnPropertyNames(this),g=[],i=0;i<h.length;i++){f=h[i],g.push("__rt_"+f+" = __rt."+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new w(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new y(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(i,g,h){var f=this._globalScope;return g&&g.$isFashionLiteral||(g=this.box(g)),g.ast=g.ast||this.getAstNode(h),f.map[i]=g,g}},{key:"setDynamic",value:function(j,h,i){var g,k=t.getJsName(j),f=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),h.$referenceName||h.$constant?(g=h.clone(),g.$previousReference=h,h=g,h.ast=this.getAstNode(i)):h.$referenceName=j,f.map[k]=h,h}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new a(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,k,h,j,f=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(j=i.getItems(),h=0;h<j.length;h++){k=j[h],k&&(k.splatSeparator=i.separator),f.push(k)}}else{f.push(i)}i&&(i.splat=void 0)}return f}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(F);t.apply(C.prototype,{box:A.box,unbox:A.unbox,Scope:y,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:D,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),x.exports=C},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(n,a,j){var k=n("../Base.js"),m=n("../Runtime.js"),o=n("../parse/ValueParser.js"),l=n("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new m}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(i){var A,z,C,h,g,y,e,d=this,B=d.getRuntime(),D=new o,x=d.variableMap;z=new B.Scope;for(h in i){A=k.getJsName(h.replace(d.nameRe,"")),0!==A.indexOf("$")&&(A="$"+A),z.put(A,D.parse(i[h]))}B._globalScope=z,B._currentScope=z;for(var f=0;f<d.calcFns.length;f++){d.calcFns[f](B)}C=new l,i={};for(h in x){g=x[h];for(var f=0;f<g.length;f++){A=g[f],y="$"+k.getJsName(A),e=z.get(y),e&&(e.$isWrapper&&(e=e.value),i[A]=C.toSource(e))}}return i}},{key:"applyVariables",value:function(h){var g=this,e=g.variableMap;for(var d in e){var f=e[d],u=document.querySelectorAll(d);if(u){for(var i=0;i<u.length;i++){for(var t=0;t<f.length;t++){var v=f[t];u[i].style.setProperty("--"+v,h[v])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return k.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var g=this,e=g.variableMap,t={};for(var d in e){var f=e[d],u=document.querySelectorAll(d);if(u){for(var h=0;h<u.length;h++){for(var i=0;i<f.length;i++){var v=f[i];t[v]=u[h].style.getPropertyValue("--"+v)}}}}return t}}]),c}();k.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),a.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,A,u){var C=x("../Base.js"),B=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),z=v.Color,E=v.Text,a=v.Numeric,D=v.List,y=v.Bool,r=v.Literal,s=v.ColorRGBA,F=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var k,j=this,f="",g=j.str,d=g.length,e=!1,h=!1,i=0;j.index<d;){if(k=g[j.index],j.index++,k<=" "&&!e&&!i){if(f.length){break}}else{if(";"===k&&!e&&!h){break}if("("===k&&i++,")"===k&&i&&i--,","===k&&!e&&!h&&!i){if(f.length){j.index--;break}return k}"\\"===k&&e?(h=1,j.index++):('"'!==k&&"'"!==k||(e?e===k&&(e=!1):e=k),h=!1,f+=k)}}return f}},{key:"parseValue",value:function(h){var i,g,f={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===h[0]||"'"===h[0]){return g=h=h.substring(1,h.length-1),new E(g,h[0])}if("true"===h){return new y((!0))}if("false"===h){return new y((!1))}if("null"===h){return r.Null}if("none"===h){return r.None}if(C.Color.map[h]){var j=z.map[h],e=new s(j[0],j[1],j[2],j[3]);return e.stringified=h,e}if(i=f.number.exec(h)){return new a(parseFloat(i[1]),i[2])}if(i=f.shortHexColor.exec(h)){return s.fromHex(i[1])}if(i=f.longHexColor.exec(h)){return s.fromHex(i[1])}if(i=f.functionCall.exec(h)){var k=i[1],d=this.parse(i[2]).items;return"hsla"===k||"hsl"===k?new F(B.unbox(d[0]),B.unbox(d[1]),B.unbox(d[2]),B.unbox(d[3])||1):"rgba"===k||"rgb"===k?new s(B.unbox(d[0]),B.unbox(d[1]),B.unbox(d[2]),B.unbox(d[3])||1):new t(k,d)}return(i=f.parenList.exec(h))?new t(this.parse(i[1])):new C.Literal(h)}},{key:"parse",value:function(d){var g,f=this,e=[],i=[],j=null;for(f.str=d,f.index=0;g=f._advance();){e.push(g)}for(var h=0;h<e.length;h++){g=e[h].trim(),","===e[h+1]?(j=j||[],j.push(f.parseValue(g)),h++):j?(j.push(f.parseValue(g)),i.push(new D(j,", ")),j=null):i.push(f.parseValue(g))}return 1===i.length?i[0]:new D(i," ")}}]),c}();A.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(n,m,o){var a=n("../Base.js"),p=n("./Type.js"),j=n("./Bool.js"),k=n("./Numeric.js"),l=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return j.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(g,i){var h,e=c.units[i],f=c.types[i],r=c.comps[i];return h="hsla"==f?g.getHSLA():g.getRGBA(),new k(h[r],e)}},{key:"adjust",value:function(g,i,f){var h=g.getHSLA().copy(),e=c.comps[i],r=f.value;return h[e]+=r,h.h=c.constrainDegrees(h.h),h.s=c.constrainPercentage(h.s),h.l=c.constrainPercentage(h.l),h.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);a.apply(l,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),a.apply(l.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),m.exports=l},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,i){var l=m("../Base.js"),k=m("./Color.js"),j=m("./ColorRGBA.js"),n=function(c){function d(e,f,g,h){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=k.constrainDegrees(e),p.s=f,p.l=g,void 0!==h&&(p.a=h),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return j.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(e,f,g,h){return new d(k.constrainDegrees(this.h+e),k.constrainPercentage(this.s+f),k.constrainPercentage(this.l+g),k.constrainAlpha(this.a*h))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=k.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=k.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var B=g.r/255,x=g.g/255,z=g.b/255,h=g.a,y=Math.max(B,x,z),f=Math.min(B,x,z),s=y-f,e=0,r=0,A=0.5*(y+f);return f!=y&&(r=A<0.5?s/(y+f):s/(2-y-f),e=B==y?60*(x-z)/s:x==y?120+60*(z-B)/s:240+60*(B-x)/s,e<0&&(e+=360),e>=360&&(e-=360)),new d(k.constrainDegrees(e),k.constrainPercentage(100*r),k.constrainPercentage(100*A),h)}}]),d}(k);j.prototype.getHSLA=function(){return n.fromRGBA(this)},l.apply(n.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=n},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,i){function n(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var l=m("../Base.js"),k=m("./Color.js"),j=function(d){function c(f,g,e,h){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,f)),p.g=Math.min(255,Math.max(0,g)),p.b=Math.min(255,Math.max(0,e)),void 0!==h&&(p.a=Math.min(1,Math.max(0,h))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,r=e(h.r),s=e(h.g),f=e(h.b),g=h.a,t="";return t=1===g?"#"+n(r)+n(s)+n(f):"rgba("+r+", "+s+", "+f+", "+g+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var h=this,e=Math.round,q=e(h.r),g=e(h.g),r=e(h.b),f=e(255*h.a);return"#"+n(f)+n(q)+n(g)+n(r)}},{key:"add",value:function(f,g,e,h){return new c(this.r+f,this.g+g,this.b+e,this.a*h)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(f){"#"==f.charAt(0)&&(f=f.substr(1));var g,h,e;3===f.length?(g=parseInt(f.charAt(0),16),h=parseInt(f.charAt(1),16),e=parseInt(f.charAt(2),16),g=(g<<4)+g,h=(h<<4)+h,e=(e<<4)+e):(g=parseInt(f.substring(0,2),16),h=parseInt(f.substring(2,4),16),e=parseInt(f.substring(4,6),16));var p=new c(g,h,e);return c.preserveInputStrings&&(p.stringified="#"+f),p}},{key:"fromHSLA",value:function(B){function s(o){return o<0&&++o,o>1&&--o,6*o<1?A+(g-A)*o*6:2*o<1?g:3*o<2?A+(g-A)*(2/3-o)*6:A}if(B.$isFashionRGBA){return B.clone()}var D=B,C=D.h/360,z=D.s/100,h=D.l/100,f=D.a,g=h<=0.5?h*(z+1):h+z-h*z,A=2*h-g,y=k.constrainChannel(255*s(C+1/3)),e=k.constrainChannel(255*s(C)),r=k.constrainChannel(255*s(C-1/3));return new c(y,e,r,f)}}]),c}(k);l.apply(j,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),l.apply(j.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new j(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new j(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=j,function(d,h,v,f){var t,c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=Object.keys(v);for(e.sort(),t=0;t<e.length;t++){var x=e[t],w=v[x],u=new d(w[0],w[1],w[2],w[3]),g=u.stringify();h[g]=x}c.forEach(function(p){var o=p+p;c.forEach(function(r){var q=r+r;c.forEach(function(F){var E=F+F,D="#"+p+r+F,C="#"+o+q+E;if(f[C]){var s=f[C];D=s.length>D.length?D:s}f[C]=D})})})}(j,j.stringifiedMap,k.map,j.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,a,k){var j=m("../Base.js"),l=m("./Type.js"),n=m("./Numeric.js"),i=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new n(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(l);j.apply(i.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),a.exports=i},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,l,a){var i=m("../Base.js"),k=m("./Type.js"),n=m("./List.js"),j=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new n(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(k);i.apply(j.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),l.exports=j},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("top"),f.push("bottom"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(linear, "+f.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var e=this.items,f=e.length,n=[],g=0;g<f;g++){n.push(e[g].clone())}return new c(n,this.separator)}},{key:"clone",value:function(e,r){if(r&&this.matches(e)){return r.clone()}for(var s=this.items,f=s.length,g=[],q=0;q<f;q++){g.push(s[q].clone(e,r))}var t=new c(g,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(g){for(var f=[],e=0;e<this.items.length;e++){var n=this.items[e];n&&f.push(n.toPrefixedString(g))}return f.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(m,a,n){var k=m("../Base.js"),o=m("./Type.js"),j=m("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=o.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=o.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new j(f+1)}}},{key:"insert",value:function(h,f){var g=o.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(o);k.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var l=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);k.apply(l.prototype,{$isFashionNull:!0,$constant:!0}),l.prototype.$isFashionNull=!0,p.Null=new l(null),p.None=new p("none"),a.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(q,s,o){var a=q("../Base.js"),m=q("./List.js"),l=q("./Type.js"),p=q("./Literal.js"),n=p.Null,r=q("./Numeric.js"),t=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof r&&(e=l.unbox(e)),"number"==typeof e?new m([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||n)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(m);a.apply(t.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),s.exports=t},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(m,a,n){var k=m("../Base.js"),o=m("./Type.js"),j=m("./Bool.js"),p=m("./Literal.js"),l=function(c){function d(e,f,i,g){_classCallCheck(this,d);var h=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return h.value=e,h.unit=f,f&&!i?h.numeratorUnits=[f]:h.numeratorUnits=i||[],h.denominatorUnits=g||[],h}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(f,e){var g;this.unit||e.unit;return e.$isFashionRGBA||e.$isFashionHSLA?new p(this+f+e):e.$isFashionNumber?this.numericOperate(f,e):e.$isFashionLiteral&&(g=this.tryCoerce(e))?this.performOperation(f,g):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,f,e)}},{key:"tryNormalize",value:function(f){var g=f.value,e=f.unit;if(f.$isFashionNumber){switch(this.unit){case"mm":switch(e){case"in":return new d(25.4*g,"mm");case"cm":return new d(2.54*g,"mm")}break;case"cm":switch(e){case"in":return new d(2.54*g,"cm");case"mm":return new d(g/10,"cm")}break;case"in":switch(e){case"mm":return new d(g/25.4,"in");case"cm":return new d(g/2.54,"in")}break;case"ms":switch(e){case"s":return new d(1000*g,"ms")}break;case"s":switch(e){case"ms":return new d(g/1000,"s")}break;case"Hz":switch(e){case"kHz":return new d(1000*g,"Hz")}break;case"kHz":switch(e){case"Hz":return new d(g/1000,"kHz")}break;case"%":switch(e){default:return new d(g)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(f){var g=this.unit,e=f.unit;return !!f.$isFashionNumber&&(g===e||"mm"===g&&("in"===e||"cm"===e)||"cm"===g&&("in"===e||"mm"===e)||"in"===g&&("mm"===e||"cm"===e)||"ms"===g&&"s"===e||"s"===g&&"ms"===e||"Hz"===g&&"kHz"===e||"kHz"===g&&"Hz"===e)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=k.filter(e.num,function(f){return !!f}),e.den=k.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(w,e){this.normalizeUnits(),e.normalizeUnits();var z,f=this,g=e,x=d.OPERATIONS,y=d.NON_COERCE_OPERATIONS,v=x[w];if(v){try{f.unitless()?f=f.coerceUnits(g.numeratorUnits,g.denominatorUnits):g=g.coerceUnits(f.numeratorUnits,f.denominatorUnits)}catch(h){if("=="==w){return j.False}if("!="==w){return j.True}throw h}}else{v=y[w]}if(v&&(z=v(f.value,g.value)),"number"==typeof z){var i=this.computeUnits(f,g,w);return new d(z,i.num.length?i.num[0]:null,i.num,i.den)}return new j(z)}},{key:"computeUnits",value:function(e,f,g){switch(g){case"*":return{num:e.numeratorUnits.slice().concat(f.numeratorUnits),den:e.denominatorUnits.slice().concat(f.denominatorUnits)};case"/":return{num:e.numeratorUnits.slice().concat(f.denominatorUnits),den:e.denominatorUnits.slice().concat(f.numeratorUnits)};default:return{num:e.numeratorUnits,den:e.denominatorUnits}}}},{key:"coerceUnits",value:function(f,e){var g=this.value;return this.unitless()||(g=g*this.coercionFactor(this.numeratorUnits,f)/this.coercionFactor(this.denominatorUnits,e)),new d(g,f&&f[0],f,e)}},{key:"coercionFactor",value:function(g,x){var f=this.removeCommonUnits(g,x),z=f.num,v=f.den;z.length===v.length&&this.convertable(z||v)||k.raise("Incompatible units: "+z.join("*")+" and "+v.join("*"));for(var h=0;h<z.length;h++){for(var w=z[h],i=0;i<v.length;i++){var y=v[i],e=this.conversionFactor(w,y);if(null!==e){return e}}}return 1}},{key:"conversionFactor",value:function(e,f){var i=d.CONVERTABLE_UNITS,h=d.CONVERSION_TABLE,g=null;return i[e]&&i[f]&&(g=h[i[e]][i[f]]),null===g&&i[f]&&i[e]&&(g=1/h[i[f]][i[e]]),g}},{key:"convertable",value:function(f){if(f&&!Array.isArray(f)&&(f=[f]),f&&f.length){for(var g=d.CONVERTABLE_UNITS,e=0;e<f.length;e++){if(void 0===g[f[e]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(i,s){var e,t,t,g={},f=[],h=[];for(e=0;e<i.length;e++){t=i[e],g[t]=(g[t]||0)+1}for(e=0;e<s.length;e++){t=s[e],g[t]=(g[t]||0)-1}for(e=0;e<i.length;e++){t=i[e],g[t]>0&&(f.push(t),g[t]--)}for(e=0;e<s.length;e++){t=s[e],g[t]<0&&(h.push(t),g[t]++)}return{num:f,den:h}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(o);k.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),k.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),a.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(f,n,g){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=f,e.stops=g,e.shape=n,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("center 0%"),f.push("center 100%"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(radial, "+f.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,l,a){var j=m("../Base.js"),i=m("./TypeVisitor.js"),n=m("../Output.js"),k=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(x){for(var u,e=this.output,v=x.items,w=e.output.length,g=x.separator,h=g&&g.length,f=g&&g.indexOf(" ")>-1,z=e.output,y=0;y<v.length;y++){v[y]&&(this.visit(v[y]),u=e.output.length-w,!u&&h&&y>0&&(e.output=z),z=e.output,y<v.length-1&&h&&(e.add(g),f||e.space()),w=e.output.length)}}},{key:"map",value:function(h){var g,q,e=this.output,f=h.items;this.currDeclaration&&j.raise("("+h+") isn't a valid CSS value.");for(var r=0;r<f.length-1;r+=2){g=f[r],q=f[r+1],g&&q&&(r>0&&(e.add(","),e.space()),this.visit(g),e.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new n,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(i);j.apply(k.prototype,{output:null}),l.exports=k},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(q,e,o,r){e=e||"fashion",o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+q+"s*$"),r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+q+"\\s*$");var f=this.docs;if(f&&f.length){for(var d=0;d<this.docs.length;d++){var p=f[d];if(o.test(p)){return !0}if(r.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(q,e,o,r):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var _get=function get(f,c,b){null===f&&(f=Function.prototype);var d=Object.getOwnPropertyDescriptor(f,c);if(void 0===d){var a=Object.getPrototypeOf(f);return null===a?void 0:get(a,c,b)}if("value" in d){return d.value}var e=d.get;if(void 0!==e){return e.call(b)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,e){var c,f=b("./src/export/Base.js"),g=b("./src/export/css/CssVariableManager.js"),h=new g;f.apply(f,(c={css:h,CssExport:g,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(c,"Types",b("./src/export/type/Types.js")),_defineProperty(c,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(c,"Output",b("./src/export/Output.js")),_defineProperty(c,"Runtime",b("./src/export/Runtime.js")),c)),d.exports=f},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(n,j,d){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function m(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?m(F,G):C[E]=G):C[E]=G}}return C}function f(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function h(C){return C&&"function"==typeof C}function B(C,D){console.log(f("[DBG] "+C,D))}function l(C,D){console.log(f("[LOG] "+C,D))}function u(C,D){console.log(f("[INF] "+C,D))}function t(C,D){console.log(f("[WRN] "+C,D))}function s(C,D){console.log(f("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function A(D,E){var C;E&&(D=f(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function p(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function o(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function g(C){return C.length&&C[C.length-1]}function e(C){return C.length>2?C.slice(1):[]}function i(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function k(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;i(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function b(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?b(E,F-1,C):C.push(E)}return C}var q=n("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&m(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return g(this.items)}},{key:"tail",value:function(){return e(this.items)}}]),C}();y.prototype.items=null;var c=Object.create||function(C){return x.prototype=C,new x};j.exports={EmptyArray:[],getJsName:q.getJsName,chain:c,Base:z,BaseSet:y,apply:r,merge:m,createMessage:f,isFunction:h,debug:B,log:l,info:u,warn:t,error:s,raise:v,raiseAt:A,filter:p,convert:o,first:w,last:g,tail:e,mixin:k,flatten:b}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(r,i,n){var p=r("./Base.js"),o=p.Base,e=r("./type/Type.js"),h=r("./type/List.js"),d=r("./type/Bool.js"),f=r("./type/Color.js"),l=r("./type/ColorRGBA.js"),m=r("./type/Text.js"),q=r("./type/Literal.js"),k=r("./type/Statics.js"),j=r("./type/TypeVisitor.js"),b=r("./type/Types.js"),g=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(g.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var c=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:k.boxType,unbox:k.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(C,A){for(var y,B={},D=0,z=0;z<C.length;z++){var E=C[z];if(void 0!==E){if(E===!0||E===!1){B[A[D]]=E,D++}else{if(void 0===E.type){for(y in E){B[y.replace(/^\$/,"")]=E[y]}}else{y=A[D],y instanceof Array?(y=y[0],B[y]=B[y]||new h,B[y].add(E)):(B[y]=E,D++)}}}}return B},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new d(v)}},{key:"color",value:function t(x){var w=f.map[x],v=new l(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new m(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(w){w=w||this.types;for(var z,x=Object.getOwnPropertyNames(w),y=[],v=0;v<x.length;v++){z=x[v],y.push(z+" = Types."+z),y.push("__"+z+" = "+z)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(x){x=x||this.constructor.prototype;for(var w,z,y=[];x;){w=Object.getOwnPropertyNames(x);for(var v=0;v<w.length;v++){z=w[v],"function"==typeof x[z]&&y.push("__rt_"+z+" = __rt."+z+".bind(__rt)")}x=Object.getPrototypeOf(x)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var y,w=Object.getOwnPropertyNames(this),x=[],v=0;v<w.length;v++){y=w[v],x.push("__rt_"+y+" = __rt."+y)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new j(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new g(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(v,x,w){var y=this._globalScope;return x&&x.$isFashionLiteral||(x=this.box(x)),x.ast=x.ast||this.getAstNode(w),y.map[v]=x,x}},{key:"setDynamic",value:function(w,y,x){var z,v=p.getJsName(w),A=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),y.$referenceName||y.$constant?(z=y.clone(),z.$previousReference=y,y=z,y.ast=this.getAstNode(x)):y.$referenceName=w,A.map[v]=y,y}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new h(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,w,z,x,B=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(x=y.getItems(),z=0;z<x.length;z++){w=x[z],w&&(w.splatSeparator=y.separator),B.push(w)}}else{B.push(y)}y&&(y.splat=void 0)}return B}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(o);p.apply(c.prototype,{box:e.box,unbox:e.unbox,Scope:g,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:b,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),i.exports=c},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(i,d,f){var e=i("../Base.js"),b=i("../Runtime.js"),h=i("../parse/ValueParser.js"),c=i("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new b}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(o){var n,u,l,p,q,v,s,t=this,m=t.getRuntime(),k=new h,w=t.variableMap;u=new m.Scope;for(p in o){n=e.getJsName(p.replace(t.nameRe,"")),0!==n.indexOf("$")&&(n="$"+n),u.put(n,k.parse(o[p]))}m._globalScope=u,m._currentScope=u;for(var r=0;r<t.calcFns.length;r++){t.calcFns[r](m)}l=new c,o={};for(p in w){q=w[p];for(var r=0;r<q.length;r++){n=q[r],v="$"+e.getJsName(n),s=u.get(v),s&&(s.$isWrapper&&(s=s.value),o[n]=l.toSource(s))}}return o}},{key:"applyVariables",value:function(l){var m=this,o=m.variableMap;for(var p in o){var n=o[p],r=document.querySelectorAll(p);if(r){for(var k=0;k<r.length;k++){for(var s=0;s<n.length;s++){var q=n[s];r[k].style.setProperty("--"+q,l[q])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return e.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var m=this,o=m.variableMap,s={};for(var p in o){var n=o[p],r=document.querySelectorAll(p);if(r){for(var l=0;l<r.length;l++){for(var k=0;k<n.length;k++){var q=n[k];s[q]=r[l].style.getPropertyValue("--"+q)}}}}return s}}]),j}();e.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),d.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,f,m){var d=j("../Base.js"),e=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),g=l.Color,q=l.Text,i=l.Numeric,c=l.List,h=l.Bool,b=l.Literal,p=l.ColorRGBA,o=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var s,t=this,x="",w=t.str,z=w.length,y=!1,v=!1,u=0;t.index<z;){if(s=w[t.index],t.index++,s<=" "&&!y&&!u){if(x.length){break}}else{if(";"===s&&!y&&!v){break}if("("===s&&u++,")"===s&&u&&u--,","===s&&!y&&!v&&!u){if(x.length){t.index--;break}return s}"\\"===s&&y?(v=1,t.index++):('"'!==s&&"'"!==s||(y?y===s&&(y=!1):y=s),v=!1,x+=s)}}return x}},{key:"parseValue",value:function(v){var u,w,x={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===v[0]||"'"===v[0]){return w=v=v.substring(1,v.length-1),new q(w,v[0])}if("true"===v){return new h((!0))}if("false"===v){return new h((!1))}if("null"===v){return b.Null}if("none"===v){return b.None}if(d.Color.map[v]){var t=g.map[v],y=new p(t[0],t[1],t[2],t[3]);return y.stringified=v,y}if(u=x.number.exec(v)){return new i(parseFloat(u[1]),u[2])}if(u=x.shortHexColor.exec(v)){return p.fromHex(u[1])}if(u=x.longHexColor.exec(v)){return p.fromHex(u[1])}if(u=x.functionCall.exec(v)){var s=u[1],z=this.parse(u[2]).items;return"hsla"===s||"hsl"===s?new o(e.unbox(z[0]),e.unbox(z[1]),e.unbox(z[2]),e.unbox(z[3])||1):"rgba"===s||"rgb"===s?new p(e.unbox(z[0]),e.unbox(z[1]),e.unbox(z[2]),e.unbox(z[3])||1):new n(s,z)}return(u=x.parenList.exec(v))?new n(this.parse(u[1])):new d.Literal(v)}},{key:"parse",value:function(y){var v,w=this,x=[],t=[],s=null;for(w.str=y,w.index=0;v=w._advance();){x.push(v)}for(var u=0;u<x.length;u++){v=x[u].trim(),","===x[u+1]?(s=s||[],s.push(w.parseValue(v)),u++):s?(s.push(w.parseValue(v)),t.push(new c(s,", ")),s=null):t.push(w.parseValue(v))}return 1===t.length?t[0]:new c(t," ")}}]),r}();f.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(i,b,h){var d=i("../Base.js"),g=i("./Type.js"),f=i("./Bool.js"),e=i("./Numeric.js"),c=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return f.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(o,l){var m,q=k.units[l],p=k.types[l],n=k.comps[l];return m="hsla"==p?o.getHSLA():o.getRGBA(),new e(m[n],q)}},{key:"adjust",value:function(o,l,p){var m=o.getHSLA().copy(),q=k.comps[l],n=p.value;return m[q]+=n,m.h=k.constrainDegrees(m.h),m.s=k.constrainPercentage(m.s),m.l=k.constrainPercentage(m.l),m.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);d.apply(c,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),d.apply(c.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),b.exports=c},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,g){var c=b("../Base.js"),e=b("./Color.js"),f=b("./ColorRGBA.js"),h=function(j){function i(o,m,l,k){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=e.constrainDegrees(o),n.s=m,n.l=l,void 0!==k&&(n.a=k),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return f.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(n,m,l,k){return new i(e.constrainDegrees(this.h+n),e.constrainPercentage(this.s+m),e.constrainPercentage(this.l+l),e.constrainAlpha(this.a*k))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=e.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=e.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var l=o.r/255,v=o.g/255,t=o.b/255,n=o.a,u=Math.max(l,v,t),p=Math.min(l,v,t),w=u-p,q=0,k=0,m=0.5*(u+p);return p!=u&&(k=m<0.5?w/(u+p):w/(2-u-p),q=l==u?60*(v-t)/w:v==u?120+60*(t-l)/w:240+60*(l-v)/w,q<0&&(q+=360),q>=360&&(q-=360)),new i(e.constrainDegrees(q),e.constrainPercentage(100*k),e.constrainPercentage(100*m),n)}}]),i}(e);f.prototype.getHSLA=function(){return h.fromRGBA(this)},c.apply(h.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=h},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,g){function h(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var c=b("../Base.js"),e=b("./Color.js"),f=function(i){function j(m,l,o,k){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,m)),n.g=Math.min(255,Math.max(0,l)),n.b=Math.min(255,Math.max(0,o)),void 0!==k&&(n.a=Math.min(1,Math.max(0,k))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,o=q(m.r),l=q(m.g),p=q(m.b),n=m.a,k="";return k=1===n?"#"+h(o)+h(l)+h(p):"rgba("+o+", "+l+", "+p+", "+n+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var k=this,p=Math.round,o=p(k.r),m=p(k.g),l=p(k.b),n=p(255*k.a);return"#"+h(n)+h(o)+h(m)+h(l)}},{key:"add",value:function(m,l,n,k){return new j(this.r+m,this.g+l,this.b+n,this.a*k)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(m){"#"==m.charAt(0)&&(m=m.substr(1));var l,k,o;3===m.length?(l=parseInt(m.charAt(0),16),k=parseInt(m.charAt(1),16),o=parseInt(m.charAt(2),16),l=(l<<4)+l,k=(k<<4)+k,o=(o<<4)+o):(l=parseInt(m.substring(0,2),16),k=parseInt(m.substring(2,4),16),o=parseInt(m.substring(4,6),16));var n=new j(l,k,o);return j.preserveInputStrings&&(n.stringified="#"+m),n}},{key:"fromHSLA",value:function(n){function x(r){return r<0&&++r,r>1&&--r,6*r<1?o+(q-o)*r*6:2*r<1?q:3*r<2?o+(q-o)*(2/3-r)*6:o}if(n.$isFashionRGBA){return n.clone()}var l=n,m=l.h/360,v=l.s/100,p=l.l/100,t=l.a,q=p<=0.5?p*(v+1):p+v-p*v,o=2*p-q,w=e.constrainChannel(255*x(m+1/3)),u=e.constrainChannel(255*x(m)),k=e.constrainChannel(255*x(m-1/3));return new j(w,u,k,t)}}]),j}(e);c.apply(f,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),c.apply(f.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new f(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new f(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=f,function(m,i,q,k){var s,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],l=Object.keys(q);for(l.sort(),s=0;s<l.length;s++){var o=l[s],p=q[o],r=new m(p[0],p[1],p[2],p[3]),j=r.stringify();i[j]=o}n.forEach(function(t){var u=t+t;n.forEach(function(v){var w=v+v;n.forEach(function(y){var z=y+y,A="#"+t+v+y,B="#"+u+w+z;if(k[B]){var x=k[B];A=x.length>A.length?A:x}k[B]=A})})})}(f,f.stringifiedMap,e.map,f.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,e){var f=b("../Base.js"),c=b("./Type.js"),h=b("./Numeric.js"),g=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new h(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(c);f.apply(g.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,d,c){var g=b("../Base.js"),e=b("./Type.js"),h=b("./List.js"),f=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new h(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(e);g.apply(f.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),d.exports=f},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("top"),k.push("bottom"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(linear, "+k.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var l=this.items,k=l.length,m=[],j=0;j<k;j++){m.push(l[j].clone())}return new i(m,this.separator)}},{key:"clone",value:function(p,m){if(m&&this.matches(p)){return m.clone()}for(var k=this.items,o=k.length,l=[],n=0;n<o;n++){l.push(k[n].clone(p,m))}var j=new i(l,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(j){for(var k=[],l=0;l<this.items.length;l++){var m=this.items[l];m&&k.push(m.toPrefixedString(j))}return k.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(b,d,i){var e=b("../Base.js"),h=b("./Type.js"),f=b("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=h.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=h.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new f(l+1)}}},{key:"insert",value:function(l,n){var m=h.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(h);e.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);e.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),d.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(c,k,e){var i=c("../Base.js"),g=c("./List.js"),h=c("./Type.js"),d=c("./Literal.js"),f=d.Null,b=c("./Numeric.js"),j=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof b&&(n=h.unbox(n)),"number"==typeof n?new g([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||f)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(g);i.apply(j.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),k.exports=j},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(b,d,i){var e=b("../Base.js"),h=b("./Type.js"),f=b("./Bool.js"),g=b("./Literal.js"),c=function(k){function j(p,o,l,n){_classCallCheck(this,j);var m=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return m.value=p,m.unit=o,o&&!l?m.numeratorUnits=[o]:m.numeratorUnits=l||[],m.denominatorUnits=n||[],m}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(m,n){var l;this.unit||n.unit;return n.$isFashionRGBA||n.$isFashionHSLA?new g(this+m+n):n.$isFashionNumber?this.numericOperate(m,n):n.$isFashionLiteral&&(l=this.tryCoerce(n))?this.performOperation(m,l):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,m,n)}},{key:"tryNormalize",value:function(m){var l=m.value,n=m.unit;if(m.$isFashionNumber){switch(this.unit){case"mm":switch(n){case"in":return new j(25.4*l,"mm");case"cm":return new j(2.54*l,"mm")}break;case"cm":switch(n){case"in":return new j(2.54*l,"cm");case"mm":return new j(l/10,"cm")}break;case"in":switch(n){case"mm":return new j(l/25.4,"in");case"cm":return new j(l/2.54,"in")}break;case"ms":switch(n){case"s":return new j(1000*l,"ms")}break;case"s":switch(n){case"ms":return new j(l/1000,"s")}break;case"Hz":switch(n){case"kHz":return new j(1000*l,"Hz")}break;case"kHz":switch(n){case"Hz":return new j(l/1000,"kHz")}break;case"%":switch(n){default:return new j(l)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(m){var l=this.unit,n=m.unit;return !!m.$isFashionNumber&&(l===n||"mm"===l&&("in"===n||"cm"===n)||"cm"===l&&("in"===n||"mm"===n)||"in"===l&&("mm"===n||"cm"===n)||"ms"===l&&"s"===n||"s"===l&&"ms"===n||"Hz"===l&&"kHz"===n||"kHz"===l&&"Hz"===n)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=e.filter(l.num,function(m){return !!m}),l.den=e.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(t,p){this.normalizeUnits(),p.normalizeUnits();var q,o=this,n=p,s=j.OPERATIONS,r=j.NON_COERCE_OPERATIONS,u=s[t];if(u){try{o.unitless()?o=o.coerceUnits(n.numeratorUnits,n.denominatorUnits):n=n.coerceUnits(o.numeratorUnits,o.denominatorUnits)}catch(m){if("=="==t){return f.False}if("!="==t){return f.True}throw m}}else{u=r[t]}if(u&&(q=u(o.value,n.value)),"number"==typeof q){var l=this.computeUnits(o,n,t);return new j(q,l.num.length?l.num[0]:null,l.num,l.den)}return new f(q)}},{key:"computeUnits",value:function(n,m,l){switch(l){case"*":return{num:n.numeratorUnits.slice().concat(m.numeratorUnits),den:n.denominatorUnits.slice().concat(m.denominatorUnits)};case"/":return{num:n.numeratorUnits.slice().concat(m.denominatorUnits),den:n.denominatorUnits.slice().concat(m.numeratorUnits)};default:return{num:n.numeratorUnits,den:n.denominatorUnits}}}},{key:"coerceUnits",value:function(m,n){var l=this.value;return this.unitless()||(l=l*this.coercionFactor(this.numeratorUnits,m)/this.coercionFactor(this.denominatorUnits,n)),new j(l,m&&m[0],m,n)}},{key:"coercionFactor",value:function(n,s){var o=this.removeCommonUnits(n,s),q=o.num,u=o.den;q.length===u.length&&this.convertable(q||u)||e.raise("Incompatible units: "+q.join("*")+" and "+u.join("*"));for(var m=0;m<q.length;m++){for(var t=q[m],l=0;l<u.length;l++){var r=u[l],p=this.conversionFactor(t,r);if(null!==p){return p}}}return 1}},{key:"conversionFactor",value:function(p,o){var l=j.CONVERTABLE_UNITS,m=j.CONVERSION_TABLE,n=null;return l[p]&&l[o]&&(n=m[l[p]][l[o]]),null===n&&l[o]&&l[p]&&(n=1/m[l[o]][l[p]]),n}},{key:"convertable",value:function(m){if(m&&!Array.isArray(m)&&(m=[m]),m&&m.length){for(var l=j.CONVERTABLE_UNITS,n=0;n<m.length;n++){if(void 0===l[m[n]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(m,o){var r,l,l,p={},q=[],n=[];for(r=0;r<m.length;r++){l=m[r],p[l]=(p[l]||0)+1}for(r=0;r<o.length;r++){l=o[r],p[l]=(p[l]||0)-1}for(r=0;r<m.length;r++){l=m[r],p[l]>0&&(q.push(l),p[l]--)}for(r=0;r<o.length;r++){l=o[r],p[l]<0&&(n.push(l),p[l]++)}return{num:q,den:n}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(h);e.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),e.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),d.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(k,m,j){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=k,l.stops=j,l.shape=m,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("center 0%"),k.push("center 100%"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(radial, "+k.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,d,c){var f=b("../Base.js"),g=b("./TypeVisitor.js"),h=b("../Output.js"),e=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(q){for(var t,n=this.output,s=q.items,r=n.output.length,l=q.separator,k=l&&l.length,m=l&&l.indexOf(" ")>-1,o=n.output,p=0;p<s.length;p++){s[p]&&(this.visit(s[p]),t=n.output.length-r,!t&&k&&p>0&&(n.output=o),o=n.output,p<s.length-1&&k&&(n.add(l),m||n.space()),r=n.output.length)}}},{key:"map",value:function(k){var m,o,p=this.output,n=k.items;this.currDeclaration&&f.raise("("+k+") isn't a valid CSS value.");for(var l=0;l<n.length-1;l+=2){m=n[l],o=n[l+1],m&&o&&(l>0&&(p.add(","),p.space()),this.visit(m),p.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new h,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(g);f.apply(e.prototype,{output:null}),d.exports=e},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(j,l,n,h){l=l||"fashion",n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+j+"s*$"),h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+j+"\\s*$");var i=this.docs;if(i&&i.length){for(var m=0;m<this.docs.length;m++){var k=i[m];if(n.test(k)){return !0}if(h.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(j,l,n,h):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(e,d,f){return d in e?Object.defineProperty(e,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):e[d]=f,e}var _get=function get(i,l,g){null===i&&(i=Function.prototype);var k=Object.getOwnPropertyDescriptor(i,l);if(void 0===k){var h=Object.getPrototypeOf(i);return null===h?void 0:get(h,l,g)}if("value" in k){return k.value}var j=k.get;if(void 0!==j){return j.call(g)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,m,l){var n,k=a("./src/export/Base.js"),j=a("./src/export/css/CssVariableManager.js"),i=new j;k.apply(k,(n={css:i,CssExport:j,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(n,"Types",a("./src/export/type/Types.js")),_defineProperty(n,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(n,"Output",a("./src/export/Output.js")),_defineProperty(n,"Runtime",a("./src/export/Runtime.js")),n)),m.exports=k},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(P,T,Z){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function Q(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?Q(d,c):g[e]=c):g[e]=c}}return g}function X(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function V(c){return c&&"function"==typeof c}function L(d,c){console.log(X("[DBG] "+d,c))}function R(d,c){console.log(X("[LOG] "+d,c))}function G(d,c){console.log(X("[INF] "+d,c))}function H(d,c){console.log(X("[WRN] "+d,c))}function I(d,c){console.log(X("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function M(d,c){var e;c&&(d=X(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function N(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function O(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function W(c){return c.length&&c[c.length-1]}function Y(c){return c.length>2?c.slice(1):[]}function U(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function S(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;U(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function ab(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?ab(e,d-1,g):g.push(e)}return g}var K=P("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&Q(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return W(this.items)}},{key:"tail",value:function(){return Y(this.items)}}]),c}();C.prototype.items=null;var aa=Object.create||function(c){return D.prototype=c,new D};T.exports={EmptyArray:[],getJsName:K.getJsName,chain:aa,Base:a,BaseSet:C,apply:J,merge:Q,createMessage:X,isFunction:V,debug:L,log:R,info:G,warn:H,error:I,raise:F,raiseAt:M,filter:N,convert:O,first:E,last:W,tail:Y,mixin:S,flatten:ab}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(a,A,v){var t=a("./Base.js"),u=t.Base,E=a("./type/Type.js"),B=a("./type/List.js"),F=a("./type/Bool.js"),D=a("./type/Color.js"),x=a("./type/ColorRGBA.js"),w=a("./type/Text.js"),s=a("./type/Literal.js"),y=a("./type/Statics.js"),z=a("./type/TypeVisitor.js"),H=a("./type/Types.js"),C=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(C.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var G=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:y.boxType,unbox:y.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(m,i){for(var o,n={},k=0,l=0;l<m.length;l++){var j=m[l];if(void 0!==j){if(j===!0||j===!1){n[i[k]]=j,k++}else{if(void 0===j.type){for(o in j){n[o.replace(/^\$/,"")]=j[o]}}else{o=i[k],o instanceof Array?(o=o[0],n[o]=n[o]||new B,n[o].add(j)):(n[o]=j,k++)}}}}return n},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new F(f)}},{key:"color",value:function d(f){var g=D.map[f],h=new x(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new w(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(g){g=g||this.types;for(var i,f=Object.getOwnPropertyNames(g),j=[],h=0;h<f.length;h++){i=f[h],j.push(i+" = Types."+i),j.push("__"+i+" = "+i)}return 0===j.length?"":"var "+j.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(f){f=f||this.constructor.prototype;for(var g,i,j=[];f;){g=Object.getOwnPropertyNames(f);for(var h=0;h<g.length;h++){i=g[h],"function"==typeof f[i]&&j.push("__rt_"+i+" = __rt."+i+".bind(__rt)")}f=Object.getPrototypeOf(f)}return 0===j.length?"":"var "+j.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var i,g=Object.getOwnPropertyNames(this),f=[],h=0;h<g.length;h++){i=g[h],f.push("__rt_"+i+" = __rt."+i)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new z(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new C(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(h,f,g){var i=this._globalScope;return f&&f.$isFashionLiteral||(f=this.box(f)),f.ast=f.ast||this.getAstNode(g),i.map[h]=f,f}},{key:"setDynamic",value:function(h,k,g){var j,i=t.getJsName(h),f=this._globalScope;return k&&k.$isFashionLiteral||(k=this.box(k)),k.ast=k.ast||this.getAstNode(g),k.$referenceName||k.$constant?(j=k.clone(),j.$previousReference=k,k=j,k.ast=this.getAstNode(g)):k.$referenceName=h,f.map[i]=k,k}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new B(m,k)}},{key:"applySplatArgs",value:function(g){var l,i,h,j,f,k=[];for(i=0;i<g.length;i++){if(l=g[i],l&&l.splat&&l.$isFashionList){for(f=l.getItems(),j=0;j<f.length;j++){h=f[j],h&&(h.splatSeparator=l.separator),k.push(h)}}else{k.push(l)}l&&(l.splat=void 0)}return k}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(u);t.apply(G.prototype,{box:E.box,unbox:E.unbox,Scope:C,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:H,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),A.exports=G},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(j,o,m){var n=j("../Base.js"),a=j("../Runtime.js"),k=j("../parse/ValueParser.js"),p=j("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new a}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(g){var h,B,x,f,e,A,D,C=this,i=C.getRuntime(),y=new k,z=C.variableMap;B=new i.Scope;for(f in g){h=n.getJsName(f.replace(C.nameRe,"")),0!==h.indexOf("$")&&(h="$"+h),B.put(h,y.parse(g[f]))}i._globalScope=B,i._currentScope=B;for(var d=0;d<C.calcFns.length;d++){C.calcFns[d](i)}x=new p,g={};for(f in z){e=z[f];for(var d=0;d<e.length;d++){h=e[d],A="$"+n.getJsName(h),D=B.get(A),D&&(D.$isWrapper&&(D=D.value),g[h]=x.toSource(D))}}return g}},{key:"applyVariables",value:function(t){var i=this,g=i.variableMap;for(var f in g){var h=g[f],d=document.querySelectorAll(f);if(d){for(var u=0;u<d.length;u++){for(var v=0;v<h.length;v++){var e=h[v];d[u].style.setProperty("--"+e,t[e])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return n.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var i=this,g=i.variableMap,v={};for(var f in g){var h=g[f],d=document.querySelectorAll(f);if(d){for(var t=0;t<d.length;t++){for(var u=0;u<h.length;u++){var e=h[u];v[e]=d[t].style.getPropertyValue("--"+e)}}}}return v}}]),c}();n.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),o.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,B,u){var D=x("../Base.js"),C=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),A=v.Color,a=v.Text,y=v.Numeric,E=v.List,z=v.Bool,F=v.Literal,r=v.ColorRGBA,s=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var i,h=this,d="",e=h.str,j=e.length,k=!1,f=!1,g=0;h.index<j;){if(i=e[h.index],h.index++,i<=" "&&!k&&!g){if(d.length){break}}else{if(";"===i&&!k&&!f){break}if("("===i&&g++,")"===i&&g&&g--,","===i&&!k&&!f&&!g){if(d.length){h.index--;break}return i}"\\"===i&&k?(f=1,h.index++):('"'!==i&&"'"!==i||(k?k===i&&(k=!1):k=i),f=!1,d+=i)}}return d}},{key:"parseValue",value:function(f){var g,e,d={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===f[0]||"'"===f[0]){return e=f=f.substring(1,f.length-1),new a(e,f[0])}if("true"===f){return new z((!0))}if("false"===f){return new z((!1))}if("null"===f){return F.Null}if("none"===f){return F.None}if(D.Color.map[f]){var h=A.map[f],k=new r(h[0],h[1],h[2],h[3]);return k.stringified=f,k}if(g=d.number.exec(f)){return new y(parseFloat(g[1]),g[2])}if(g=d.shortHexColor.exec(f)){return r.fromHex(g[1])}if(g=d.longHexColor.exec(f)){return r.fromHex(g[1])}if(g=d.functionCall.exec(f)){var i=g[1],j=this.parse(g[2]).items;return"hsla"===i||"hsl"===i?new s(C.unbox(j[0]),C.unbox(j[1]),C.unbox(j[2]),C.unbox(j[3])||1):"rgba"===i||"rgb"===i?new r(C.unbox(j[0]),C.unbox(j[1]),C.unbox(j[2]),C.unbox(j[3])||1):new t(i,j)}return(g=d.parenList.exec(f))?new t(this.parse(g[1])):new D.Literal(f)}},{key:"parse",value:function(j){var f,e=this,d=[],h=[],i=null;for(e.str=j,e.index=0;f=e._advance();){d.push(f)}for(var g=0;g<d.length;g++){f=d[g].trim(),","===d[g+1]?(i=i||[],i.push(e.parseValue(f)),g++):i?(i.push(e.parseValue(f)),h.push(new E(i,", ")),i=null):h.push(e.parseValue(f))}return 1===h.length?h[0]:new E(h," ")}}]),c}();B.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(j,a,k){var o=j("../Base.js"),l=j("./Type.js"),m=j("./Bool.js"),n=j("./Numeric.js"),p=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return m.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(i,f){var e,g=c.units[f],h=c.types[f],r=c.comps[f];return e="hsla"==h?i.getHSLA():i.getRGBA(),new n(e[r],g)}},{key:"adjust",value:function(i,f,h){var e=i.getHSLA().copy(),g=c.comps[f],r=h.value;return e[g]+=r,e.h=c.constrainDegrees(e.h),e.s=c.constrainPercentage(e.s),e.l=c.constrainPercentage(e.l),e.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);o.apply(p,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),o.apply(p.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),a.exports=p},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,j){var n=a("../Base.js"),l=a("./Color.js"),k=a("./ColorRGBA.js"),i=function(c){function d(h,e,f,g){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=l.constrainDegrees(h),p.s=e,p.l=f,void 0!==g&&(p.a=g),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return k.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(h,e,f,g){return new d(l.constrainDegrees(this.h+h),l.constrainPercentage(this.s+e),l.constrainPercentage(this.l+f),l.constrainAlpha(this.a*g))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=l.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=l.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var s=g.r/255,z=g.g/255,B=g.b/255,h=g.a,A=Math.max(s,z,B),f=Math.min(s,z,B),y=A-f,e=0,x=0,r=0.5*(A+f);return f!=A&&(x=r<0.5?y/(A+f):y/(2-A-f),e=s==A?60*(z-B)/y:z==A?120+60*(B-s)/y:240+60*(s-z)/y,e<0&&(e+=360),e>=360&&(e-=360)),new d(l.constrainDegrees(e),l.constrainPercentage(100*x),l.constrainPercentage(100*r),h)}}]),d}(l);k.prototype.getHSLA=function(){return i.fromRGBA(this)},n.apply(i.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=i},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,j){function i(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var n=a("../Base.js"),l=a("./Color.js"),k=function(d){function c(e,f,h,g){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,e)),p.g=Math.min(255,Math.max(0,f)),p.b=Math.min(255,Math.max(0,h)),void 0!==g&&(p.a=Math.min(1,Math.max(0,g))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,s=h(e.r),f=h(e.g),r=h(e.b),t=e.a,g="";return g=1===t?"#"+i(s)+i(f)+i(r):"rgba("+s+", "+f+", "+r+", "+t+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var g=this,h=Math.round,q=h(g.r),e=h(g.g),f=h(g.b),r=h(255*g.a);return"#"+i(r)+i(q)+i(e)+i(f)}},{key:"add",value:function(e,f,h,g){return new c(this.r+e,this.g+f,this.b+h,this.a*g)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(e){"#"==e.charAt(0)&&(e=e.substr(1));var f,g,h;3===e.length?(f=parseInt(e.charAt(0),16),g=parseInt(e.charAt(1),16),h=parseInt(e.charAt(2),16),f=(f<<4)+f,g=(g<<4)+g,h=(h<<4)+h):(f=parseInt(e.substring(0,2),16),g=parseInt(e.substring(2,4),16),h=parseInt(e.substring(4,6),16));var p=new c(f,g,h);return c.preserveInputStrings&&(p.stringified="#"+e),p}},{key:"fromHSLA",value:function(h){function z(o){return o<0&&++o,o>1&&--o,6*o<1?g+(e-g)*o*6:2*o<1?e:3*o<2?g+(e-g)*(2/3-o)*6:g}if(h.$isFashionRGBA){return h.clone()}var s=h,r=s.h/360,B=s.s/100,f=s.l/100,D=s.a,e=f<=0.5?f*(B+1):f+B-f*B,g=2*f-e,A=l.constrainChannel(255*z(r+1/3)),C=l.constrainChannel(255*z(r)),y=l.constrainChannel(255*z(r-1/3));return new c(A,C,y,D)}}]),c}(l);n.apply(k,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),n.apply(k.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new k(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new k(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=k,function(h,w,d,u){var x,g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=Object.keys(d);for(t.sort(),x=0;x<t.length;x++){var f=t[x],e=d[f],c=new h(e[0],e[1],e[2],e[3]),v=c.stringify();w[v]=f}g.forEach(function(p){var o=p+p;g.forEach(function(r){var q=r+r;g.forEach(function(F){var D=F+F,C="#"+p+r+F,E="#"+o+q+D;if(u[E]){var s=u[E];C=s.length>C.length?C:s}u[E]=C})})})}(k,k.stringifiedMap,l.map,k.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,m,l){var k=a("../Base.js"),n=a("./Type.js"),i=a("./Numeric.js"),j=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new i(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(n);k.apply(j.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),m.exports=j},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,m,n){var j=a("../Base.js"),l=a("./Type.js"),i=a("./List.js"),k=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new i(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(l);j.apply(k.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),m.exports=k},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("top"),g.push("bottom"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(linear, "+g.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var f=this.items,g=f.length,e=[],n=0;n<g;n++){e.push(f[n].clone())}return new c(e,this.separator)}},{key:"clone",value:function(r,e){if(e&&this.matches(r)){return e.clone()}for(var g=this.items,s=g.length,f=[],t=0;t<s;t++){f.push(g[t].clone(r,e))}var q=new c(f,this.separator);return q.$referenceName=this.$referenceName,q.$referenceBase=this.$referenceBase,q.$previousReference=this.$previousReference,q}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(n){for(var g=[],f=0;f<this.items.length;f++){var e=this.items[f];e&&g.push(e.toPrefixedString(n))}return g.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(a,o,j){var n=a("../Base.js"),k=a("./Type.js"),m=a("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=k.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=k.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new m(f+1)}}},{key:"insert",value:function(f,h){var e=k.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(k);n.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var p=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);n.apply(p.prototype,{$isFashionNull:!0,$constant:!0}),p.prototype.$isFashionNull=!0,l.Null=new p(null),l.None=new l("none"),o.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(s,a,q){var m=s("../Base.js"),o=s("./List.js"),n=s("./Type.js"),r=s("./Literal.js"),p=r.Null,t=s("./Numeric.js"),l=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof t&&(e=n.unbox(e)),"number"==typeof e?new o([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||p)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(o);m.apply(l.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),a.exports=l},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(a,o,j){var n=a("../Base.js"),k=a("./Type.js"),m=a("./Bool.js"),l=a("./Literal.js"),p=function(c){function d(g,h,f,i){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.value=g,e.unit=h,h&&!f?e.numeratorUnits=[h]:e.numeratorUnits=f||[],e.denominatorUnits=i||[],e}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(e,g){var f;this.unit||g.unit;return g.$isFashionRGBA||g.$isFashionHSLA?new l(this+e+g):g.$isFashionNumber?this.numericOperate(e,g):g.$isFashionLiteral&&(f=this.tryCoerce(g))?this.performOperation(e,f):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,e,g)}},{key:"tryNormalize",value:function(e){var f=e.value,g=e.unit;if(e.$isFashionNumber){switch(this.unit){case"mm":switch(g){case"in":return new d(25.4*f,"mm");case"cm":return new d(2.54*f,"mm")}break;case"cm":switch(g){case"in":return new d(2.54*f,"cm");case"mm":return new d(f/10,"cm")}break;case"in":switch(g){case"mm":return new d(f/25.4,"in");case"cm":return new d(f/2.54,"in")}break;case"ms":switch(g){case"s":return new d(1000*f,"ms")}break;case"s":switch(g){case"ms":return new d(f/1000,"s")}break;case"Hz":switch(g){case"kHz":return new d(1000*f,"Hz")}break;case"kHz":switch(g){case"Hz":return new d(f/1000,"kHz")}break;case"%":switch(g){default:return new d(f)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(e){var f=this.unit,g=e.unit;return !!e.$isFashionNumber&&(f===g||"mm"===f&&("in"===g||"cm"===g)||"cm"===f&&("in"===g||"mm"===g)||"in"===f&&("mm"===g||"cm"===g)||"ms"===f&&"s"===g||"s"===f&&"ms"===g||"Hz"===f&&"kHz"===g||"kHz"===f&&"Hz"===g)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=n.filter(e.num,function(f){return !!f}),e.den=n.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(y,g){this.normalizeUnits(),g.normalizeUnits();var f,h=this,i=g,z=d.OPERATIONS,e=d.NON_COERCE_OPERATIONS,x=z[y];if(x){try{h.unitless()?h=h.coerceUnits(i.numeratorUnits,i.denominatorUnits):i=i.coerceUnits(h.numeratorUnits,h.denominatorUnits)}catch(v){if("=="==y){return m.False}if("!="==y){return m.True}throw v}}else{x=e[y]}if(x&&(f=x(h.value,i.value)),"number"==typeof f){var w=this.computeUnits(h,i,y);return new d(f,w.num.length?w.num[0]:null,w.num,w.den)}return new m(f)}},{key:"computeUnits",value:function(g,e,f){switch(f){case"*":return{num:g.numeratorUnits.slice().concat(e.numeratorUnits),den:g.denominatorUnits.slice().concat(e.denominatorUnits)};case"/":return{num:g.numeratorUnits.slice().concat(e.denominatorUnits),den:g.denominatorUnits.slice().concat(e.numeratorUnits)};default:return{num:g.numeratorUnits,den:g.denominatorUnits}}}},{key:"coerceUnits",value:function(e,g){var f=this.value;return this.unitless()||(f=f*this.coercionFactor(this.numeratorUnits,e)/this.coercionFactor(this.denominatorUnits,g)),new d(f,e&&e[0],e,g)}},{key:"coercionFactor",value:function(i,z){var h=this.removeCommonUnits(i,z),f=h.num,x=h.den;f.length===x.length&&this.convertable(f||x)||n.raise("Incompatible units: "+f.join("*")+" and "+x.join("*"));for(var v=0;v<f.length;v++){for(var y=f[v],w=0;w<x.length;w++){var e=x[w],g=this.conversionFactor(y,e);if(null!==g){return g}}}return 1}},{key:"conversionFactor",value:function(g,h){var f=d.CONVERTABLE_UNITS,e=d.CONVERSION_TABLE,i=null;return f[g]&&f[h]&&(i=e[f[g]][f[h]]),null===i&&f[h]&&f[g]&&(i=1/e[f[h]][f[g]]),i}},{key:"convertable",value:function(e){if(e&&!Array.isArray(e)&&(e=[e]),e&&e.length){for(var f=d.CONVERTABLE_UNITS,g=0;g<e.length;g++){if(void 0===f[e[g]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(e,s){var g,f,f,i={},h=[],t=[];for(g=0;g<e.length;g++){f=e[g],i[f]=(i[f]||0)+1}for(g=0;g<s.length;g++){f=s[g],i[f]=(i[f]||0)-1}for(g=0;g<e.length;g++){f=e[g],i[f]>0&&(h.push(f),i[f]--)}for(g=0;g<s.length;g++){f=s[g],i[f]<0&&(t.push(f),i[f]++)}return{num:h,den:t}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(k);n.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),n.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),o.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(g,e,n){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.position=g,f.stops=n,f.shape=e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("center 0%"),g.push("center 100%"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(radial, "+g.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,m,n){var k=a("../Base.js"),j=a("./TypeVisitor.js"),i=a("../Output.js"),l=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(f){for(var y,u=this.output,z=f.items,e=u.output.length,w=f.separator,x=w&&w.length,v=w&&w.indexOf(" ")>-1,h=u.output,g=0;g<z.length;g++){z[g]&&(this.visit(z[g]),y=u.output.length-e,!y&&x&&g>0&&(u.output=h),h=u.output,g<z.length-1&&x&&(u.add(w),v||u.space()),e=u.output.length)}}},{key:"map",value:function(g){var e,q,h=this.output,r=g.items;this.currDeclaration&&k.raise("("+g+") isn't a valid CSS value.");for(var f=0;f<r.length-1;f+=2){e=r[f],q=r[f+1],e&&q&&(f>0&&(h.add(","),h.space()),this.visit(e),h.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new i,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(j);k.apply(l.prototype,{output:null}),m.exports=l},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(o,e,r,q){e=e||"fashion",r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+o+"s*$"),q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+o+"\\s*$");var p=this.docs;if(p&&p.length){for(var d=0;d<this.docs.length;d++){var f=p[d];if(r.test(f)){return !0}if(q.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(o,e,r,q):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(b,c,a){return c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a,b}var _get=function get(d,a,f){null===d&&(d=Function.prototype);var b=Object.getOwnPropertyDescriptor(d,a);if(void 0===b){var e=Object.getPrototypeOf(d);return null===e?void 0:get(e,a,f)}if("value" in b){return b.value}var c=b.get;if(void 0!==c){return c.call(f)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,b,c){var h,e=d("./src/export/Base.js"),f=d("./src/export/css/CssVariableManager.js"),g=new f;e.apply(e,(h={css:g,CssExport:f,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(h,"Types",d("./src/export/type/Types.js")),_defineProperty(h,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(h,"Output",d("./src/export/Output.js")),_defineProperty(h,"Runtime",d("./src/export/Runtime.js")),h)),b.exports=e},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(l,h,b){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function k(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?k(F,G):C[E]=G):C[E]=G}}return C}function d(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function f(C){return C&&"function"==typeof C}function p(C,D){console.log(d("[DBG] "+C,D))}function j(C,D){console.log(d("[LOG] "+C,D))}function u(C,D){console.log(d("[INF] "+C,D))}function t(C,D){console.log(d("[WRN] "+C,D))}function s(C,D){console.log(d("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function o(D,E){var C;E&&(D=d(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function n(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function m(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function e(C){return C.length&&C[C.length-1]}function c(C){return C.length>2?C.slice(1):[]}function g(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function i(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;g(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function A(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?A(E,F-1,C):C.push(E)}return C}var q=l("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&k(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return e(this.items)}},{key:"tail",value:function(){return c(this.items)}}]),C}();y.prototype.items=null;var B=Object.create||function(C){return x.prototype=C,new x};h.exports={EmptyArray:[],getJsName:q.getJsName,chain:B,Base:z,BaseSet:y,apply:r,merge:k,createMessage:d,isFunction:f,debug:p,log:j,info:u,warn:t,error:s,raise:v,raiseAt:o,filter:n,convert:m,first:w,last:e,tail:c,mixin:i,flatten:A}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(i,e,l){var p=i("./Base.js"),n=p.Base,r=i("./type/Type.js"),d=i("./type/List.js"),o=i("./type/Bool.js"),b=i("./type/Color.js"),h=i("./type/ColorRGBA.js"),j=i("./type/Text.js"),q=i("./type/Literal.js"),g=i("./type/Statics.js"),f=i("./type/TypeVisitor.js"),k=i("./type/Types.js"),c=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(c.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var m=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:g.boxType,unbox:g.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(y,C){for(var D,E={},A=0,z=0;z<y.length;z++){var B=y[z];if(void 0!==B){if(B===!0||B===!1){E[C[A]]=B,A++}else{if(void 0===B.type){for(D in B){E[D.replace(/^\$/,"")]=B[D]}}else{D=C[A],D instanceof Array?(D=D[0],E[D]=E[D]||new d,E[D].add(B)):(E[D]=B,A++)}}}}return E},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new o(v)}},{key:"color",value:function t(x){var w=b.map[x],v=new h(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new j(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(y){y=y||this.types;for(var w,z=Object.getOwnPropertyNames(y),v=[],x=0;x<z.length;x++){w=z[x],v.push(w+" = Types."+w),v.push("__"+w+" = "+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(z){z=z||this.constructor.prototype;for(var y,w,v=[];z;){y=Object.getOwnPropertyNames(z);for(var x=0;x<y.length;x++){w=y[x],"function"==typeof z[w]&&v.push("__rt_"+w+" = __rt."+w+".bind(__rt)")}z=Object.getPrototypeOf(z)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var v,x=Object.getOwnPropertyNames(this),y=[],w=0;w<x.length;w++){v=x[w],y.push("__rt_"+v+" = __rt."+v)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new f(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new c(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(w,y,x){var v=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),v.map[w]=y,y}},{key:"setDynamic",value:function(y,v,z){var w,x=p.getJsName(y),A=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(z),v.$referenceName||v.$constant?(w=v.clone(),w.$previousReference=v,v=w,v.ast=this.getAstNode(z)):v.$referenceName=y,A.map[x]=v,v}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new d(w,y)}},{key:"applySplatArgs",value:function(A){var v,y,z,x,B,w=[];for(y=0;y<A.length;y++){if(v=A[y],v&&v.splat&&v.$isFashionList){for(B=v.getItems(),x=0;x<B.length;x++){z=B[x],z&&(z.splatSeparator=v.separator),w.push(z)}}else{w.push(v)}v&&(v.splat=void 0)}return w}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(n);p.apply(m.prototype,{box:r.box,unbox:r.unbox,Scope:c,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:k,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),e.exports=m},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(f,h,b){var i=f("../Base.js"),d=f("../Runtime.js"),e=f("../parse/ValueParser.js"),g=f("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new d}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(q){var p,m,w,r,s,n,k,l=this,o=l.getRuntime(),v=new e,u=l.variableMap;m=new o.Scope;for(r in q){p=i.getJsName(r.replace(l.nameRe,"")),0!==p.indexOf("$")&&(p="$"+p),m.put(p,v.parse(q[r]))}o._globalScope=m,o._currentScope=m;for(var t=0;t<l.calcFns.length;t++){l.calcFns[t](o)}w=new g,q={};for(r in u){s=u[r];for(var t=0;t<s.length;t++){p=s[t],n="$"+i.getJsName(p),k=m.get(n),k&&(k.$isWrapper&&(k=k.value),q[p]=w.toSource(k))}}return q}},{key:"applyVariables",value:function(s){var k=this,m=k.variableMap;for(var n in m){var l=m[n],p=document.querySelectorAll(n);if(p){for(var r=0;r<p.length;r++){for(var q=0;q<l.length;q++){var o=l[q];p[r].style.setProperty("--"+o,s[o])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return i.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var k=this,m=k.variableMap,q={};for(var n in m){var l=m[n],p=document.querySelectorAll(n);if(p){for(var s=0;s<p.length;s++){for(var r=0;r<l.length;r++){var o=l[r];q[o]=p[s].style.getPropertyValue("--"+o)}}}}return q}}]),j}();i.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),h.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,e,m){var c=j("../Base.js"),d=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),f=l.Color,i=l.Text,h=l.Numeric,q=l.List,g=l.Bool,o=l.Literal,b=l.ColorRGBA,p=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var u,v=this,z="",y=v.str,t=y.length,s=!1,x=!1,w=0;v.index<t;){if(u=y[v.index],v.index++,u<=" "&&!s&&!w){if(z.length){break}}else{if(";"===u&&!s&&!x){break}if("("===u&&w++,")"===u&&w&&w--,","===u&&!s&&!x&&!w){if(z.length){v.index--;break}return u}"\\"===u&&s?(x=1,v.index++):('"'!==u&&"'"!==u||(s?s===u&&(s=!1):s=u),x=!1,z+=u)}}return z}},{key:"parseValue",value:function(x){var w,y,z={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===x[0]||"'"===x[0]){return y=x=x.substring(1,x.length-1),new i(y,x[0])}if("true"===x){return new g((!0))}if("false"===x){return new g((!1))}if("null"===x){return o.Null}if("none"===x){return o.None}if(c.Color.map[x]){var v=f.map[x],s=new b(v[0],v[1],v[2],v[3]);return s.stringified=x,s}if(w=z.number.exec(x)){return new h(parseFloat(w[1]),w[2])}if(w=z.shortHexColor.exec(x)){return b.fromHex(w[1])}if(w=z.longHexColor.exec(x)){return b.fromHex(w[1])}if(w=z.functionCall.exec(x)){var u=w[1],t=this.parse(w[2]).items;return"hsla"===u||"hsl"===u?new p(d.unbox(t[0]),d.unbox(t[1]),d.unbox(t[2]),d.unbox(t[3])||1):"rgba"===u||"rgb"===u?new b(d.unbox(t[0]),d.unbox(t[1]),d.unbox(t[2]),d.unbox(t[3])||1):new n(u,t)}return(w=z.parenList.exec(x))?new n(this.parse(w[1])):new c.Literal(x)}},{key:"parse",value:function(s){var w,x=this,y=[],u=[],t=null;for(x.str=s,x.index=0;w=x._advance();){y.push(w)}for(var v=0;v<y.length;v++){w=y[v].trim(),","===y[v+1]?(t=t||[],t.push(x.parseValue(w)),v++):t?(t.push(x.parseValue(w)),u.push(new q(t,", ")),t=null):u.push(x.parseValue(w))}return 1===u.length?u[0]:new q(u," ")}}]),r}();e.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(f,d,e){var h=f("../Base.js"),c=f("./Type.js"),b=f("./Bool.js"),i=f("./Numeric.js"),g=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return b.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(l,p){var q,o=k.units[p],m=k.types[p],n=k.comps[p];return q="hsla"==m?l.getHSLA():l.getRGBA(),new i(q[n],o)}},{key:"adjust",value:function(l,p,m){var q=l.getHSLA().copy(),o=k.comps[p],n=m.value;return q[o]+=n,q.h=k.constrainDegrees(q.h),q.s=k.constrainPercentage(q.s),q.l=k.constrainPercentage(q.l),q.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);h.apply(g,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),h.apply(g.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),d.exports=g},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,f){var h=d("../Base.js"),c=d("./Color.js"),e=d("./ColorRGBA.js"),g=function(j){function i(k,o,m,l){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=c.constrainDegrees(k),n.s=o,n.l=m,void 0!==l&&(n.a=l),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return e.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(k,n,m,l){return new i(c.constrainDegrees(this.h+k),c.constrainPercentage(this.s+n),c.constrainPercentage(this.l+m),c.constrainAlpha(this.a*l))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=c.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=c.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var w=o.r/255,t=o.g/255,l=o.b/255,n=o.a,m=Math.max(w,t,l),p=Math.min(w,t,l),u=m-p,q=0,v=0,k=0.5*(m+p);return p!=m&&(v=k<0.5?u/(m+p):u/(2-m-p),q=w==m?60*(t-l)/u:t==m?120+60*(l-w)/u:240+60*(w-t)/u,q<0&&(q+=360),q>=360&&(q-=360)),new i(c.constrainDegrees(q),c.constrainPercentage(100*v),c.constrainPercentage(100*k),n)}}]),i}(c);e.prototype.getHSLA=function(){return g.fromRGBA(this)},h.apply(g.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=g},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,f){function g(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var h=d("../Base.js"),c=d("./Color.js"),e=function(i){function j(o,m,k,l){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,o)),n.g=Math.min(255,Math.max(0,m)),n.b=Math.min(255,Math.max(0,k)),void 0!==l&&(n.a=Math.min(1,Math.max(0,l))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,l=m(q.r),p=m(q.g),o=m(q.b),k=q.a,n="";return n=1===k?"#"+g(l)+g(p)+g(o):"rgba("+l+", "+p+", "+o+", "+k+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var m=this,k=Math.round,o=k(m.r),p=k(m.g),n=k(m.b),l=k(255*m.a);return"#"+g(l)+g(o)+g(p)+g(n)}},{key:"add",value:function(n,m,k,l){return new j(this.r+n,this.g+m,this.b+k,this.a*l)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(o){"#"==o.charAt(0)&&(o=o.substr(1));var m,l,k;3===o.length?(m=parseInt(o.charAt(0),16),l=parseInt(o.charAt(1),16),k=parseInt(o.charAt(2),16),m=(m<<4)+m,l=(l<<4)+l,k=(k<<4)+k):(m=parseInt(o.substring(0,2),16),l=parseInt(o.substring(2,4),16),k=parseInt(o.substring(4,6),16));var n=new j(m,l,k);return j.preserveInputStrings&&(n.stringified="#"+o),n}},{key:"fromHSLA",value:function(p){function v(r){return r<0&&++r,r>1&&--r,6*r<1?q+(u-q)*r*6:2*r<1?u:3*r<2?q+(u-q)*(2/3-r)*6:q}if(p.$isFashionRGBA){return p.clone()}var x=p,l=x.h/360,n=x.s/100,t=x.l/100,k=x.a,u=t<=0.5?t*(n+1):t+n-t*n,q=2*t-u,o=c.constrainChannel(255*v(l+1/3)),m=c.constrainChannel(255*v(l)),w=c.constrainChannel(255*v(l-1/3));return new j(o,m,w,k)}}]),j}(c);h.apply(e,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),h.apply(e.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new e(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new e(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=e,function(i,p,m,r){var o,j=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=Object.keys(m);for(s.sort(),o=0;o<s.length;o++){var k=s[o],l=m[k],n=new i(l[0],l[1],l[2],l[3]),q=n.stringify();p[q]=k}j.forEach(function(t){var u=t+t;j.forEach(function(v){var w=v+v;j.forEach(function(y){var A=y+y,B="#"+t+v+y,z="#"+u+w+A;if(r[z]){var x=r[z];B=x.length>B.length?B:x}r[z]=B})})})}(e,e.stringifiedMap,c.map,e.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,b,c){var e=d("../Base.js"),h=d("./Type.js"),g=d("./Numeric.js"),f=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new g(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(h);e.apply(f.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),b.exports=f},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,b,h){var f=d("../Base.js"),c=d("./Type.js"),g=d("./List.js"),e=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new g(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(c);f.apply(e.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),b.exports=e},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("top"),j.push("bottom"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(linear, "+j.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var k=this.items,j=k.length,l=[],m=0;m<j;m++){l.push(k[m].clone())}return new i(l,this.separator)}},{key:"clone",value:function(m,p){if(p&&this.matches(m)){return p.clone()}for(var l=this.items,k=l.length,o=[],j=0;j<k;j++){o.push(l[j].clone(m,p))}var n=new i(o,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(m){for(var j=[],k=0;k<this.items.length;k++){var l=this.items[k];l&&j.push(l.toPrefixedString(m))}return j.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(d,h,f){var i=d("../Base.js"),e=d("./Type.js"),b=d("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=e.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=e.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new b(l+1)}}},{key:"insert",value:function(n,l){var o=e.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(e);i.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var g=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);i.apply(g.prototype,{$isFashionNull:!0,$constant:!0}),g.prototype.$isFashionNull=!0,c.Null=new g(null),c.None=new c("none"),h.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(k,i,c){var g=k("../Base.js"),e=k("./List.js"),f=k("./Type.js"),b=k("./Literal.js"),d=b.Null,j=k("./Numeric.js"),h=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof j&&(n=f.unbox(n)),"number"==typeof n?new e([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||d)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(e);g.apply(h.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),i.exports=h},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(d,h,f){var i=d("../Base.js"),e=d("./Type.js"),b=d("./Bool.js"),c=d("./Literal.js"),g=function(k){function j(n,m,o,l){_classCallCheck(this,j);var p=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return p.value=n,p.unit=m,m&&!o?p.numeratorUnits=[m]:p.numeratorUnits=o||[],p.denominatorUnits=l||[],p}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(n,l){var m;this.unit||l.unit;return l.$isFashionRGBA||l.$isFashionHSLA?new c(this+n+l):l.$isFashionNumber?this.numericOperate(n,l):l.$isFashionLiteral&&(m=this.tryCoerce(l))?this.performOperation(n,m):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,n,l)}},{key:"tryNormalize",value:function(n){var m=n.value,l=n.unit;if(n.$isFashionNumber){switch(this.unit){case"mm":switch(l){case"in":return new j(25.4*m,"mm");case"cm":return new j(2.54*m,"mm")}break;case"cm":switch(l){case"in":return new j(2.54*m,"cm");case"mm":return new j(m/10,"cm")}break;case"in":switch(l){case"mm":return new j(m/25.4,"in");case"cm":return new j(m/2.54,"in")}break;case"ms":switch(l){case"s":return new j(1000*m,"ms")}break;case"s":switch(l){case"ms":return new j(m/1000,"s")}break;case"Hz":switch(l){case"kHz":return new j(1000*m,"Hz")}break;case"kHz":switch(l){case"Hz":return new j(m/1000,"kHz")}break;case"%":switch(l){default:return new j(m)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(n){var m=this.unit,l=n.unit;return !!n.$isFashionNumber&&(m===l||"mm"===m&&("in"===l||"cm"===l)||"cm"===m&&("in"===l||"mm"===l)||"in"===m&&("mm"===l||"cm"===l)||"ms"===m&&"s"===l||"s"===m&&"ms"===l||"Hz"===m&&"kHz"===l||"kHz"===m&&"Hz"===l)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=i.filter(l.num,function(m){return !!m}),l.den=i.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(r,n){this.normalizeUnits(),n.normalizeUnits();var o,m=this,l=n,q=j.OPERATIONS,p=j.NON_COERCE_OPERATIONS,s=q[r];if(s){try{m.unitless()?m=m.coerceUnits(l.numeratorUnits,l.denominatorUnits):l=l.coerceUnits(m.numeratorUnits,m.denominatorUnits)}catch(u){if("=="==r){return b.False}if("!="==r){return b.True}throw u}}else{s=p[r]}if(s&&(o=s(m.value,l.value)),"number"==typeof o){var t=this.computeUnits(m,l,r);return new j(o,t.num.length?t.num[0]:null,t.num,t.den)}return new b(o)}},{key:"computeUnits",value:function(l,n,m){switch(m){case"*":return{num:l.numeratorUnits.slice().concat(n.numeratorUnits),den:l.denominatorUnits.slice().concat(n.denominatorUnits)};case"/":return{num:l.numeratorUnits.slice().concat(n.denominatorUnits),den:l.denominatorUnits.slice().concat(n.numeratorUnits)};default:return{num:l.numeratorUnits,den:l.denominatorUnits}}}},{key:"coerceUnits",value:function(n,l){var m=this.value;return this.unitless()||(m=m*this.coercionFactor(this.numeratorUnits,n)/this.coercionFactor(this.denominatorUnits,l)),new j(m,n&&n[0],n,l)}},{key:"coercionFactor",value:function(l,q){var m=this.removeCommonUnits(l,q),o=m.num,s=m.den;o.length===s.length&&this.convertable(o||s)||i.raise("Incompatible units: "+o.join("*")+" and "+s.join("*"));for(var u=0;u<o.length;u++){for(var r=o[u],t=0;t<s.length;t++){var p=s[t],n=this.conversionFactor(r,p);if(null!==n){return n}}}return 1}},{key:"conversionFactor",value:function(n,m){var o=j.CONVERTABLE_UNITS,p=j.CONVERSION_TABLE,l=null;return o[n]&&o[m]&&(l=p[o[n]][o[m]]),null===l&&o[m]&&o[n]&&(l=1/p[o[m]][o[n]]),l}},{key:"convertable",value:function(n){if(n&&!Array.isArray(n)&&(n=[n]),n&&n.length){for(var m=j.CONVERTABLE_UNITS,l=0;l<n.length;l++){if(void 0===m[n[l]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(r,o){var p,q,q,m={},n=[],l=[];for(p=0;p<r.length;p++){q=r[p],m[q]=(m[q]||0)+1}for(p=0;p<o.length;p++){q=o[p],m[q]=(m[q]||0)-1}for(p=0;p<r.length;p++){q=r[p],m[q]>0&&(n.push(q),m[q]--)}for(p=0;p<o.length;p++){q=o[p],m[q]<0&&(l.push(q),m[q]++)}return{num:n,den:l}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(e);i.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),i.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),h.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(j,l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.position=j,k.stops=m,k.shape=l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("center 0%"),j.push("center 100%"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(radial, "+j.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,b,h){var e=d("../Base.js"),f=d("./TypeVisitor.js"),g=d("../Output.js"),c=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(m){for(var p,t=this.output,o=m.items,n=t.output.length,r=m.separator,q=r&&r.length,s=r&&r.indexOf(" ")>-1,k=t.output,l=0;l<o.length;l++){o[l]&&(this.visit(o[l]),p=t.output.length-n,!p&&q&&l>0&&(t.output=k),k=t.output,l<o.length-1&&q&&(t.add(r),s||t.space()),n=t.output.length)}}},{key:"map",value:function(m){var p,o,k=this.output,l=m.items;this.currDeclaration&&e.raise("("+m+") isn't a valid CSS value.");for(var n=0;n<l.length-1;n+=2){p=l[n],o=l[n+1],p&&o&&(n>0&&(k.add(","),k.space()),this.visit(p),k.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new g,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(f);e.apply(c.prototype,{output:null}),b.exports=c},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(n,l,h,j){l=l||"fashion",h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+n+"s*$"),j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+n+"\\s*$");var k=this.docs;if(k&&k.length){for(var m=0;m<this.docs.length;m++){var i=k[m];if(h.test(i)){return !0}if(j.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(n,l,h,j):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(d,f,e){return f in d?Object.defineProperty(d,f,{value:e,enumerable:!0,configurable:!0,writable:!0}):d[f]=e,d}var _get=function get(k,h,i){null===k&&(k=Function.prototype);var g=Object.getOwnPropertyDescriptor(k,h);if(void 0===g){var j=Object.getPrototypeOf(k);return null===j?void 0:get(j,h,i)}if("value" in g){return g.value}var l=g.get;if(void 0!==l){return l.call(i)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,a,n){var i,l=m("./src/export/Base.js"),k=m("./src/export/css/CssVariableManager.js"),j=new k;l.apply(l,(i={css:j,CssExport:k,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(i,"Types",m("./src/export/type/Types.js")),_defineProperty(i,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(i,"Output",m("./src/export/Output.js")),_defineProperty(i,"Runtime",m("./src/export/Runtime.js")),i)),a.exports=l},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(R,V,ab){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function S(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?S(d,c):g[e]=c):g[e]=c}}return g}function Z(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function X(c){return c&&"function"==typeof c}function N(d,c){console.log(Z("[DBG] "+d,c))}function T(d,c){console.log(Z("[LOG] "+d,c))}function G(d,c){console.log(Z("[INF] "+d,c))}function H(d,c){console.log(Z("[WRN] "+d,c))}function I(d,c){console.log(Z("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function O(d,c){var e;c&&(d=Z(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function P(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function Q(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function Y(c){return c.length&&c[c.length-1]}function aa(c){return c.length>2?c.slice(1):[]}function W(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function U(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;W(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function M(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?M(e,d-1,g):g.push(e)}return g}var L=R("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&S(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return Y(this.items)}},{key:"tail",value:function(){return aa(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};V.exports={EmptyArray:[],getJsName:L.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:S,createMessage:Z,isFunction:X,debug:N,log:T,info:G,warn:H,error:I,raise:F,raiseAt:O,filter:P,convert:Q,first:E,last:Y,tail:aa,mixin:U,flatten:M}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(A,E,x){var t=A("./Base.js"),v=t.Base,a=A("./type/Type.js"),F=A("./type/List.js"),u=A("./type/Bool.js"),H=A("./type/Color.js"),B=A("./type/ColorRGBA.js"),z=A("./type/Text.js"),s=A("./type/Literal.js"),C=A("./type/Statics.js"),D=A("./type/TypeVisitor.js"),y=A("./type/Types.js"),G=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(G.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var w=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:C.boxType,unbox:C.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(o,m){for(var k,j={},i=0,l=0;l<o.length;l++){var n=o[l];if(void 0!==n){if(n===!0||n===!1){j[m[i]]=n,i++}else{if(void 0===n.type){for(k in n){j[k.replace(/^\$/,"")]=n[k]}}else{k=m[i],k instanceof Array?(k=k[0],j[k]=j[k]||new F,j[k].add(n)):(j[k]=n,i++)}}}}return j},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new u(f)}},{key:"color",value:function d(f){var g=H.map[f],h=new B(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new z(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(j){j=j||this.types;for(var g,i=Object.getOwnPropertyNames(j),h=[],f=0;f<i.length;f++){g=i[f],h.push(g+" = Types."+g),h.push("__"+g+" = "+g)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(i){i=i||this.constructor.prototype;for(var j,g,h=[];i;){j=Object.getOwnPropertyNames(i);for(var f=0;f<j.length;f++){g=j[f],"function"==typeof i[g]&&h.push("__rt_"+g+" = __rt."+g+".bind(__rt)")}i=Object.getPrototypeOf(i)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var h,f=Object.getOwnPropertyNames(this),i=[],g=0;g<f.length;g++){h=f[g],i.push("__rt_"+h+" = __rt."+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new D(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new G(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(g,i,f){var h=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(f),h.map[g]=i,i}},{key:"setDynamic",value:function(k,i,j){var h,g=t.getJsName(k),f=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(j),i.$referenceName||i.$constant?(h=i.clone(),h.$previousReference=i,i=h,i.ast=this.getAstNode(j)):i.$referenceName=k,f.map[g]=i,i}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new F(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,j,f,k,h=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(k=i.getItems(),f=0;f<k.length;f++){j=k[f],j&&(j.splatSeparator=i.separator),h.push(j)}}else{h.push(i)}i&&(i.splat=void 0)}return h}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(v);t.apply(w.prototype,{box:a.box,unbox:a.unbox,Scope:G,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:y,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),E.exports=w},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(m,k,a){var j=m("../Base.js"),o=m("../Runtime.js"),n=m("../parse/ValueParser.js"),l=m("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new o}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(e){var f,i,z,d,D,h,y,x=this,g=x.getRuntime(),A=new n,B=x.variableMap;i=new g.Scope;for(d in e){f=j.getJsName(d.replace(x.nameRe,"")),0!==f.indexOf("$")&&(f="$"+f),i.put(f,A.parse(e[d]))}g._globalScope=i,g._currentScope=i;for(var C=0;C<x.calcFns.length;C++){x.calcFns[C](g)}z=new l,e={};for(d in B){D=B[d];for(var C=0;C<D.length;C++){f=D[C],h="$"+j.getJsName(f),y=i.get(h),y&&(y.$isWrapper&&(y=y.value),e[f]=z.toSource(y))}}return e}},{key:"applyVariables",value:function(v){var u=this,i=u.variableMap;for(var h in i){var t=i[h],f=document.querySelectorAll(h);if(f){for(var d=0;d<f.length;d++){for(var e=0;e<t.length;e++){var g=t[e];f[d].style.setProperty("--"+g,v[g])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return j.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var u=this,i=u.variableMap,e={};for(var h in i){var t=i[h],f=document.querySelectorAll(h);if(f){for(var v=0;v<f.length;v++){for(var d=0;d<t.length;d++){var g=t[d];e[g]=f[v].style.getPropertyValue("--"+g)}}}}return e}}]),c}();j.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),k.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,C,u){var E=x("../Base.js"),D=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),B=v.Color,y=v.Text,z=v.Numeric,a=v.List,A=v.Bool,s=v.Literal,F=v.ColorRGBA,r=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var g,f=this,j="",k=f.str,h=k.length,i=!1,d=!1,e=0;f.index<h;){if(g=k[f.index],f.index++,g<=" "&&!i&&!e){if(j.length){break}}else{if(";"===g&&!i&&!d){break}if("("===g&&e++,")"===g&&e&&e--,","===g&&!i&&!d&&!e){if(j.length){f.index--;break}return g}"\\"===g&&i?(d=1,f.index++):('"'!==g&&"'"!==g||(i?i===g&&(i=!1):i=g),d=!1,j+=g)}}return j}},{key:"parseValue",value:function(d){var e,k,j={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===d[0]||"'"===d[0]){return k=d=d.substring(1,d.length-1),new y(k,d[0])}if("true"===d){return new A((!0))}if("false"===d){return new A((!1))}if("null"===d){return s.Null}if("none"===d){return s.None}if(E.Color.map[d]){var f=B.map[d],i=new F(f[0],f[1],f[2],f[3]);return i.stringified=d,i}if(e=j.number.exec(d)){return new z(parseFloat(e[1]),e[2])}if(e=j.shortHexColor.exec(d)){return F.fromHex(e[1])}if(e=j.longHexColor.exec(d)){return F.fromHex(e[1])}if(e=j.functionCall.exec(d)){var g=e[1],h=this.parse(e[2]).items;return"hsla"===g||"hsl"===g?new r(D.unbox(h[0]),D.unbox(h[1]),D.unbox(h[2]),D.unbox(h[3])||1):"rgba"===g||"rgb"===g?new F(D.unbox(h[0]),D.unbox(h[1]),D.unbox(h[2]),D.unbox(h[3])||1):new t(g,h)}return(e=j.parenList.exec(d))?new t(this.parse(e[1])):new E.Literal(d)}},{key:"parse",value:function(i){var e,d=this,j=[],g=[],h=null;for(d.str=i,d.index=0;e=d._advance();){j.push(e)}for(var f=0;f<j.length;f++){e=j[f].trim(),","===j[f+1]?(h=h||[],h.push(d.parseValue(e)),f++):h?(h.push(d.parseValue(e)),g.push(new a(h,", ")),h=null):g.push(d.parseValue(e))}return 1===g.length?g[0]:new a(g," ")}}]),c}();C.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(m,o,n){var k=m("../Base.js"),p=m("./Type.js"),a=m("./Bool.js"),j=m("./Numeric.js"),l=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return a.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(f,h){var g,i=c.units[h],e=c.types[h],r=c.comps[h];return g="hsla"==e?f.getHSLA():f.getRGBA(),new j(g[r],i)}},{key:"adjust",value:function(f,h,e){var g=f.getHSLA().copy(),i=c.comps[h],r=e.value;return g[i]+=r,g.h=c.constrainDegrees(g.h),g.s=c.constrainPercentage(g.s),g.l=c.constrainPercentage(g.l),g.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);k.apply(l,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),k.apply(l.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),o.exports=l},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,k){var i=m("../Base.js"),n=m("./Color.js"),l=m("./ColorRGBA.js"),j=function(c){function d(g,h,e,f){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=n.constrainDegrees(g),p.s=h,p.l=e,void 0!==f&&(p.a=f),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return l.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(g,h,e,f){return new d(n.constrainDegrees(this.h+g),n.constrainPercentage(this.s+h),n.constrainPercentage(this.l+e),n.constrainAlpha(this.a*f))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=n.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=n.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var y=g.r/255,B=g.g/255,s=g.b/255,h=g.a,r=Math.max(y,B,s),f=Math.min(y,B,s),A=r-f,e=0,z=0,x=0.5*(r+f);return f!=r&&(z=x<0.5?A/(r+f):A/(2-r-f),e=y==r?60*(B-s)/A:B==r?120+60*(s-y)/A:240+60*(y-B)/A,e<0&&(e+=360),e>=360&&(e-=360)),new d(n.constrainDegrees(e),n.constrainPercentage(100*z),n.constrainPercentage(100*x),h)}}]),d}(n);l.prototype.getHSLA=function(){return j.fromRGBA(this)},i.apply(j.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=j},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,k){function j(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var i=m("../Base.js"),n=m("./Color.js"),l=function(d){function c(h,e,g,f){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,h)),p.g=Math.min(255,Math.max(0,e)),p.b=Math.min(255,Math.max(0,g)),void 0!==f&&(p.a=Math.min(1,Math.max(0,f))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,f=e(h.r),r=e(h.g),s=e(h.b),g=h.a,t="";return t=1===g?"#"+j(f)+j(r)+j(s):"rgba("+f+", "+r+", "+s+", "+g+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var e=this,g=Math.round,q=g(e.r),h=g(e.g),r=g(e.b),f=g(255*e.a);return"#"+j(f)+j(q)+j(h)+j(r)}},{key:"add",value:function(h,e,g,f){return new c(this.r+h,this.g+e,this.b+g,this.a*f)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(h){"#"==h.charAt(0)&&(h=h.substr(1));var e,f,g;3===h.length?(e=parseInt(h.charAt(0),16),f=parseInt(h.charAt(1),16),g=parseInt(h.charAt(2),16),e=(e<<4)+e,f=(f<<4)+f,g=(g<<4)+g):(e=parseInt(h.substring(0,2),16),f=parseInt(h.substring(2,4),16),g=parseInt(h.substring(4,6),16));var p=new c(e,f,g);return c.preserveInputStrings&&(p.stringified="#"+h),p}},{key:"fromHSLA",value:function(f){function B(o){return o<0&&++o,o>1&&--o,6*o<1?e+(C-e)*o*6:2*o<1?C:3*o<2?e+(C-e)*(2/3-o)*6:e}if(f.$isFashionRGBA){return f.clone()}var z=f,s=z.h/360,h=z.s/100,D=z.l/100,y=z.a,C=D<=0.5?D*(h+1):D+h-D*h,e=2*D-C,g=n.constrainChannel(255*B(s+1/3)),r=n.constrainChannel(255*B(s)),A=n.constrainChannel(255*B(s-1/3));return new c(g,r,A,y)}}]),c}(n);i.apply(l,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),i.apply(l.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new l(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new l(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=l,function(w,e,h,c){var f,v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],x=Object.keys(h);for(x.sort(),f=0;f<x.length;f++){var u=x[f],t=h[u],g=new w(t[0],t[1],t[2],t[3]),d=g.stringify();e[d]=u}v.forEach(function(p){var o=p+p;v.forEach(function(r){var q=r+r;v.forEach(function(F){var C=F+F,E="#"+p+r+F,D="#"+o+q+C;if(c[D]){var s=c[D];E=s.length>E.length?E:s}c[D]=E})})})}(l,l.stringifiedMap,n.map,l.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,a,n){var l=m("../Base.js"),i=m("./Type.js"),j=m("./Numeric.js"),k=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new j(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(i);l.apply(k.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),a.exports=k},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,a,i){var k=m("../Base.js"),n=m("./Type.js"),j=m("./List.js"),l=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new j(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(n);k.apply(l.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),a.exports=l},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("top"),n.push("bottom"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(linear, "+n.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var g=this.items,n=g.length,f=[],e=0;e<n;e++){f.push(g[e].clone())}return new c(f,this.separator)}},{key:"clone",value:function(e,r){if(r&&this.matches(e)){return r.clone()}for(var f=this.items,g=f.length,s=[],q=0;q<g;q++){s.push(f[q].clone(e,r))}var t=new c(s,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(e){for(var n=[],g=0;g<this.items.length;g++){var f=this.items[g];f&&n.push(f.toPrefixedString(e))}return n.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(o,k,m){var j=o("../Base.js"),n=o("./Type.js"),a=o("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=n.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=n.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new a(f+1)}}},{key:"insert",value:function(h,f){var g=n.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(n);j.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var l=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);j.apply(l.prototype,{$isFashionNull:!0,$constant:!0}),l.prototype.$isFashionNull=!0,p.Null=new l(null),p.None=new p("none"),k.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(a,m,s){var o=a("../Base.js"),q=a("./List.js"),p=a("./Type.js"),t=a("./Literal.js"),r=t.Null,l=a("./Numeric.js"),n=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof l&&(e=p.unbox(e)),"number"==typeof e?new q([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||r)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(q);o.apply(n.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),m.exports=n},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(o,k,m){var j=o("../Base.js"),n=o("./Type.js"),a=o("./Bool.js"),p=o("./Literal.js"),l=function(c){function d(i,e,h,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.value=i,g.unit=e,e&&!h?g.numeratorUnits=[e]:g.numeratorUnits=h||[],g.denominatorUnits=f||[],g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(g,f){var e;this.unit||f.unit;return f.$isFashionRGBA||f.$isFashionHSLA?new p(this+g+f):f.$isFashionNumber?this.numericOperate(g,f):f.$isFashionLiteral&&(e=this.tryCoerce(f))?this.performOperation(g,e):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,g,f)}},{key:"tryNormalize",value:function(g){var e=g.value,f=g.unit;if(g.$isFashionNumber){switch(this.unit){case"mm":switch(f){case"in":return new d(25.4*e,"mm");case"cm":return new d(2.54*e,"mm")}break;case"cm":switch(f){case"in":return new d(2.54*e,"cm");case"mm":return new d(e/10,"cm")}break;case"in":switch(f){case"mm":return new d(e/25.4,"in");case"cm":return new d(e/2.54,"in")}break;case"ms":switch(f){case"s":return new d(1000*e,"ms")}break;case"s":switch(f){case"ms":return new d(e/1000,"s")}break;case"Hz":switch(f){case"kHz":return new d(1000*e,"Hz")}break;case"kHz":switch(f){case"Hz":return new d(e/1000,"kHz")}break;case"%":switch(f){default:return new d(e)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(g){var e=this.unit,f=g.unit;return !!g.$isFashionNumber&&(e===f||"mm"===e&&("in"===f||"cm"===f)||"cm"===e&&("in"===f||"mm"===f)||"in"===e&&("mm"===f||"cm"===f)||"ms"===e&&"s"===f||"s"===e&&"ms"===f||"Hz"===e&&"kHz"===f||"kHz"===e&&"Hz"===f)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=j.filter(e.num,function(f){return !!f}),e.den=j.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(e,i){this.normalizeUnits(),i.normalizeUnits();var h,v=this,w=i,f=d.OPERATIONS,g=d.NON_COERCE_OPERATIONS,z=f[e];if(z){try{v.unitless()?v=v.coerceUnits(w.numeratorUnits,w.denominatorUnits):w=w.coerceUnits(v.numeratorUnits,v.denominatorUnits)}catch(x){if("=="==e){return a.False}if("!="==e){return a.True}throw x}}else{z=g[e]}if(z&&(h=z(v.value,w.value)),"number"==typeof h){var y=this.computeUnits(v,w,e);return new d(h,y.num.length?y.num[0]:null,y.num,y.den)}return new a(h)}},{key:"computeUnits",value:function(f,g,e){switch(e){case"*":return{num:f.numeratorUnits.slice().concat(g.numeratorUnits),den:f.denominatorUnits.slice().concat(g.denominatorUnits)};case"/":return{num:f.numeratorUnits.slice().concat(g.denominatorUnits),den:f.denominatorUnits.slice().concat(g.numeratorUnits)};default:return{num:f.numeratorUnits,den:f.denominatorUnits}}}},{key:"coerceUnits",value:function(g,f){var e=this.value;return this.unitless()||(e=e*this.coercionFactor(this.numeratorUnits,g)/this.coercionFactor(this.denominatorUnits,f)),new d(e,g&&g[0],g,f)}},{key:"coercionFactor",value:function(w,f){var v=this.removeCommonUnits(w,f),h=v.num,z=v.den;h.length===z.length&&this.convertable(h||z)||j.raise("Incompatible units: "+h.join("*")+" and "+z.join("*"));for(var x=0;x<h.length;x++){for(var e=h[x],y=0;y<z.length;y++){var g=z[y],i=this.conversionFactor(e,g);if(null!==i){return i}}}return 1}},{key:"conversionFactor",value:function(i,e){var h=d.CONVERTABLE_UNITS,g=d.CONVERSION_TABLE,f=null;return h[i]&&h[e]&&(f=g[h[i]][h[e]]),null===f&&h[e]&&h[i]&&(f=1/g[h[e]][h[i]]),f}},{key:"convertable",value:function(g){if(g&&!Array.isArray(g)&&(g=[g]),g&&g.length){for(var e=d.CONVERTABLE_UNITS,f=0;f<g.length;f++){if(void 0===e[g[f]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(g,s){var i,h,h,e={},t=[],f=[];for(i=0;i<g.length;i++){h=g[i],e[h]=(e[h]||0)+1}for(i=0;i<s.length;i++){h=s[i],e[h]=(e[h]||0)-1}for(i=0;i<g.length;i++){h=g[i],e[h]>0&&(t.push(h),e[h]--)}for(i=0;i<s.length;i++){h=s[i],e[h]<0&&(f.push(h),e[h]++)}return{num:t,den:f}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(n);j.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),j.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),k.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(n,f,e){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.position=n,g.stops=e,g.shape=f,g}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("center 0%"),n.push("center 100%"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(radial, "+n.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,a,i){var l=m("../Base.js"),k=m("./TypeVisitor.js"),j=m("../Output.js"),n=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(v){for(var g,y=this.output,h=v.items,u=y.output.length,e=v.separator,f=e&&e.length,z=e&&e.indexOf(" ")>-1,x=y.output,w=0;w<h.length;w++){h[w]&&(this.visit(h[w]),g=y.output.length-u,!g&&f&&w>0&&(y.output=x),x=y.output,w<h.length-1&&f&&(y.add(e),z||y.space()),u=y.output.length)}}},{key:"map",value:function(e){var h,q,g=this.output,f=e.items;this.currDeclaration&&l.raise("("+e+") isn't a valid CSS value.");for(var r=0;r<f.length-1;r+=2){h=f[r],q=f[r+1],h&&q&&(r>0&&(g.add(","),g.space()),this.visit(h),g.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new j,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(k);l.apply(n.prototype,{output:null}),a.exports=n},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(r,e,q,o){e=e||"fashion",q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+r+"s*$"),o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+r+"\\s*$");var f=this.docs;if(f&&f.length){for(var d=0;d<this.docs.length;d++){var p=f[d];if(q.test(p)){return !0}if(o.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(r,e,q,o):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(c,a,b){return a in c?Object.defineProperty(c,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[a]=b,c}var _get=function get(b,e,d){null===b&&(b=Function.prototype);var f=Object.getOwnPropertyDescriptor(b,e);if(void 0===f){var c=Object.getPrototypeOf(b);return null===c?void 0:get(c,e,d)}if("value" in f){return f.value}var a=f.get;if(void 0!==a){return a.call(d)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,h){var g,c=b("./src/export/Base.js"),e=b("./src/export/css/CssVariableManager.js"),f=new e;c.apply(c,(g={css:f,CssExport:e,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(g,"Types",b("./src/export/type/Types.js")),_defineProperty(g,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(g,"Output",b("./src/export/Output.js")),_defineProperty(g,"Runtime",b("./src/export/Runtime.js")),g)),d.exports=c},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(j,f,A){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function i(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?i(F,G):C[E]=G):C[E]=G}}return C}function b(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function d(C){return C&&"function"==typeof C}function n(C,D){console.log(b("[DBG] "+C,D))}function h(C,D){console.log(b("[LOG] "+C,D))}function u(C,D){console.log(b("[INF] "+C,D))}function t(C,D){console.log(b("[WRN] "+C,D))}function s(C,D){console.log(b("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function m(D,E){var C;E&&(D=b(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function l(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function k(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function c(C){return C.length&&C[C.length-1]}function B(C){return C.length>2?C.slice(1):[]}function e(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function g(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;e(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function o(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?o(E,F-1,C):C.push(E)}return C}var p=j("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&i(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return c(this.items)}},{key:"tail",value:function(){return B(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};f.exports={EmptyArray:[],getJsName:p.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:i,createMessage:b,isFunction:d,debug:n,log:h,info:u,warn:t,error:s,raise:v,raiseAt:m,filter:l,convert:k,first:w,last:c,tail:B,mixin:g,flatten:o}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(e,r,i){var p=e("./Base.js"),l=p.Base,h=e("./type/Type.js"),o=e("./type/List.js"),n=e("./type/Bool.js"),k=e("./type/Color.js"),d=e("./type/ColorRGBA.js"),f=e("./type/Text.js"),q=e("./type/Literal.js"),c=e("./type/Statics.js"),b=e("./type/TypeVisitor.js"),g=e("./type/Types.js"),m=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(m.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var j=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:c.boxType,unbox:c.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(D,y){for(var A,B={},C=0,z=0;z<D.length;z++){var E=D[z];if(void 0!==E){if(E===!0||E===!1){B[y[C]]=E,C++}else{if(void 0===E.type){for(A in E){B[A.replace(/^\$/,"")]=E[A]}}else{A=y[C],A instanceof Array?(A=A[0],B[A]=B[A]||new o,B[A].add(E)):(B[A]=E,C++)}}}}return B},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new n(v)}},{key:"color",value:function t(x){var w=k.map[x],v=new d(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new f(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(v){v=v||this.types;for(var y,w=Object.getOwnPropertyNames(v),x=[],z=0;z<w.length;z++){y=w[z],x.push(y+" = Types."+y),x.push("__"+y+" = "+y)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(w){w=w||this.constructor.prototype;for(var v,y,x=[];w;){v=Object.getOwnPropertyNames(w);for(var z=0;z<v.length;z++){y=v[z],"function"==typeof w[y]&&x.push("__rt_"+y+" = __rt."+y+".bind(__rt)")}w=Object.getPrototypeOf(w)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var w,y=Object.getOwnPropertyNames(this),v=[],x=0;x<y.length;x++){w=y[x],v.push("__rt_"+w+" = __rt."+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new b(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new m(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(x,v,y){var w=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(y),w.map[x]=v,v}},{key:"setDynamic",value:function(v,x,w){var y,z=p.getJsName(v),A=this._globalScope;return x&&x.$isFashionLiteral||(x=this.box(x)),x.ast=x.ast||this.getAstNode(w),x.$referenceName||x.$constant?(y=x.clone(),y.$previousReference=x,x=y,x.ast=this.getAstNode(w)):x.$referenceName=v,A.map[z]=x,x}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new o(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,x,B,w,z=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(w=y.getItems(),B=0;B<w.length;B++){x=w[B],x&&(x.splatSeparator=y.separator),z.push(x)}}else{z.push(y)}y&&(y.splat=void 0)}return z}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(l);p.apply(j.prototype,{box:h.box,unbox:h.unbox,Scope:m,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:g,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),r.exports=j},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(b,e,d){var f=b("../Base.js"),h=b("../Runtime.js"),i=b("../parse/ValueParser.js"),c=b("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new h}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(s){var r,o,u,t,k,p,v,w=this,q=w.getRuntime(),n=new i,m=w.variableMap;o=new q.Scope;for(t in s){r=f.getJsName(t.replace(w.nameRe,"")),0!==r.indexOf("$")&&(r="$"+r),o.put(r,n.parse(s[t]))}q._globalScope=o,q._currentScope=o;for(var l=0;l<w.calcFns.length;l++){w.calcFns[l](q)}u=new c,s={};for(t in m){k=m[t];for(var l=0;l<k.length;l++){r=k[l],p="$"+f.getJsName(r),v=o.get(p),v&&(v.$isWrapper&&(v=v.value),s[r]=u.toSource(v))}}return s}},{key:"applyVariables",value:function(q){var r=this,k=r.variableMap;for(var l in k){var s=k[l],n=document.querySelectorAll(l);if(n){for(var p=0;p<n.length;p++){for(var o=0;o<s.length;o++){var m=s[o];n[p].style.setProperty("--"+m,q[m])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return f.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var r=this,k=r.variableMap,o={};for(var l in k){var s=k[l],n=document.querySelectorAll(l);if(n){for(var q=0;q<n.length;q++){for(var p=0;p<s.length;p++){var m=s[p];o[m]=n[q].style.getPropertyValue("--"+m)}}}}return o}}]),j}();f.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),e.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,d,m){var q=j("../Base.js"),c=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),e=l.Color,h=l.Text,g=l.Numeric,i=l.List,f=l.Bool,p=l.Literal,o=l.ColorRGBA,b=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var w,x=this,t="",s=x.str,v=s.length,u=!1,z=!1,y=0;x.index<v;){if(w=s[x.index],x.index++,w<=" "&&!u&&!y){if(t.length){break}}else{if(";"===w&&!u&&!z){break}if("("===w&&y++,")"===w&&y&&y--,","===w&&!u&&!z&&!y){if(t.length){x.index--;break}return w}"\\"===w&&u?(z=1,x.index++):('"'!==w&&"'"!==w||(u?u===w&&(u=!1):u=w),z=!1,t+=w)}}return t}},{key:"parseValue",value:function(z){var y,s,t={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===z[0]||"'"===z[0]){return s=z=z.substring(1,z.length-1),new h(s,z[0])}if("true"===z){return new f((!0))}if("false"===z){return new f((!1))}if("null"===z){return p.Null}if("none"===z){return p.None}if(q.Color.map[z]){var x=e.map[z],u=new o(x[0],x[1],x[2],x[3]);return u.stringified=z,u}if(y=t.number.exec(z)){return new g(parseFloat(y[1]),y[2])}if(y=t.shortHexColor.exec(z)){return o.fromHex(y[1])}if(y=t.longHexColor.exec(z)){return o.fromHex(y[1])}if(y=t.functionCall.exec(z)){var w=y[1],v=this.parse(y[2]).items;return"hsla"===w||"hsl"===w?new b(c.unbox(v[0]),c.unbox(v[1]),c.unbox(v[2]),c.unbox(v[3])||1):"rgba"===w||"rgb"===w?new o(c.unbox(v[0]),c.unbox(v[1]),c.unbox(v[2]),c.unbox(v[3])||1):new n(w,v)}return(y=t.parenList.exec(z))?new n(this.parse(y[1])):new q.Literal(z)}},{key:"parse",value:function(t){var x,y=this,s=[],v=[],u=null;for(y.str=t,y.index=0;x=y._advance();){s.push(x)}for(var w=0;w<s.length;w++){x=s[w].trim(),","===s[w+1]?(u=u||[],u.push(y.parseValue(x)),w++):u?(u.push(y.parseValue(x)),v.push(new i(u,", ")),u=null):v.push(y.parseValue(x))}return 1===v.length?v[0]:new i(v," ")}}]),r}();d.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(b,h,i){var e=b("../Base.js"),g=b("./Type.js"),d=b("./Bool.js"),f=b("./Numeric.js"),c=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return d.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(p,m){var o,l=k.units[m],q=k.types[m],n=k.comps[m];return o="hsla"==q?p.getHSLA():p.getRGBA(),new f(o[n],l)}},{key:"adjust",value:function(p,m,q){var o=p.getHSLA().copy(),l=k.comps[m],n=q.value;return o[l]+=n,o.h=k.constrainDegrees(o.h),o.s=k.constrainPercentage(o.s),o.l=k.constrainPercentage(o.l),o.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);e.apply(c,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),e.apply(c.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),h.exports=c},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,e){var g=b("../Base.js"),h=b("./Color.js"),c=b("./ColorRGBA.js"),f=function(j){function i(l,k,o,m){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=h.constrainDegrees(l),n.s=k,n.l=o,void 0!==m&&(n.a=m),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return c.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(l,k,n,m){return new i(h.constrainDegrees(this.h+l),h.constrainPercentage(this.s+k),h.constrainPercentage(this.l+n),h.constrainAlpha(this.a*m))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=h.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=h.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var u=o.r/255,l=o.g/255,w=o.b/255,n=o.a,k=Math.max(u,l,w),p=Math.min(u,l,w),m=k-p,q=0,t=0,v=0.5*(k+p);return p!=k&&(t=v<0.5?m/(k+p):m/(2-k-p),q=u==k?60*(l-w)/m:l==k?120+60*(w-u)/m:240+60*(u-l)/m,q<0&&(q+=360),q>=360&&(q-=360)),new i(h.constrainDegrees(q),h.constrainPercentage(100*t),h.constrainPercentage(100*v),n)}}]),i}(h);c.prototype.getHSLA=function(){return f.fromRGBA(this)},g.apply(f.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=f},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,e){function f(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var g=b("../Base.js"),h=b("./Color.js"),c=function(i){function j(k,o,l,m){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,k)),n.g=Math.min(255,Math.max(0,o)),n.b=Math.min(255,Math.max(0,l)),void 0!==m&&(n.a=Math.min(1,Math.max(0,m))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,p=q(m.r),o=q(m.g),l=q(m.b),n=m.a,k="";return k=1===n?"#"+f(p)+f(o)+f(l):"rgba("+p+", "+o+", "+l+", "+n+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var p=this,m=Math.round,o=m(p.r),k=m(p.g),l=m(p.b),n=m(255*p.a);return"#"+f(n)+f(o)+f(k)+f(l)}},{key:"add",value:function(k,n,l,m){return new j(this.r+k,this.g+n,this.b+l,this.a*m)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(k){"#"==k.charAt(0)&&(k=k.substr(1));var o,m,l;3===k.length?(o=parseInt(k.charAt(0),16),m=parseInt(k.charAt(1),16),l=parseInt(k.charAt(2),16),o=(o<<4)+o,m=(m<<4)+m,l=(l<<4)+l):(o=parseInt(k.substring(0,2),16),m=parseInt(k.substring(2,4),16),l=parseInt(k.substring(4,6),16));var n=new j(o,m,l);return j.preserveInputStrings&&(n.stringified="#"+k),n}},{key:"fromHSLA",value:function(t){function n(r){return r<0&&++r,r>1&&--r,6*r<1?u+(m-u)*r*6:2*r<1?m:3*r<2?u+(m-u)*(2/3-r)*6:u}if(t.$isFashionRGBA){return t.clone()}var v=t,x=v.h/360,p=v.s/100,l=v.l/100,w=v.a,m=l<=0.5?l*(p+1):l+p-l*p,u=2*l-m,q=h.constrainChannel(255*n(x+1/3)),k=h.constrainChannel(255*n(x)),o=h.constrainChannel(255*n(x-1/3));return new j(q,k,o,w)}}]),j}(h);g.apply(c,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),g.apply(c.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new c(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new c(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=c,function(p,l,i,n){var k,q=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],o=Object.keys(i);for(o.sort(),k=0;k<o.length;k++){var r=o[k],s=i[r],j=new p(s[0],s[1],s[2],s[3]),m=j.stringify();l[m]=r}q.forEach(function(t){var u=t+t;q.forEach(function(v){var w=v+v;q.forEach(function(y){var B=y+y,z="#"+t+v+y,A="#"+u+w+B;if(n[A]){var x=n[A];z=x.length>z.length?z:x}n[A]=z})})})}(c,c.stringifiedMap,h.map,c.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,h){var c=b("../Base.js"),g=b("./Type.js"),f=b("./Numeric.js"),e=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new f(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(g);c.apply(e.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=e},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,d,g){var e=b("../Base.js"),h=b("./Type.js"),f=b("./List.js"),c=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new f(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(h);e.apply(c.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),d.exports=c},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("top"),m.push("bottom"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(linear, "+m.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var j=this.items,m=j.length,k=[],l=0;l<m;l++){k.push(j[l].clone())}return new i(k,this.separator)}},{key:"clone",value:function(p,m){if(m&&this.matches(p)){return m.clone()}for(var o=this.items,l=o.length,k=[],n=0;n<l;n++){k.push(o[n].clone(p,m))}var j=new i(k,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(l){for(var m=[],j=0;j<this.items.length;j++){var k=this.items[j];k&&m.push(k.toPrefixedString(l))}return m.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(h,e,b){var f=h("../Base.js"),i=h("./Type.js"),d=h("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=i.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=i.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new d(l+1)}}},{key:"insert",value:function(l,n){var m=i.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(i);f.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);f.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),e.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(i,g,k){var e=i("../Base.js"),c=i("./List.js"),d=i("./Type.js"),j=i("./Literal.js"),b=j.Null,h=i("./Numeric.js"),f=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof h&&(n=d.unbox(n)),"number"==typeof n?new c([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||b)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(c);e.apply(f.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),g.exports=f},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(h,e,b){var f=h("../Base.js"),i=h("./Type.js"),d=h("./Bool.js"),g=h("./Literal.js"),c=function(k){function j(l,p,m,o){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.value=l,n.unit=p,p&&!m?n.numeratorUnits=[p]:n.numeratorUnits=m||[],n.denominatorUnits=o||[],n}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(l,m){var n;this.unit||m.unit;return m.$isFashionRGBA||m.$isFashionHSLA?new g(this+l+m):m.$isFashionNumber?this.numericOperate(l,m):m.$isFashionLiteral&&(n=this.tryCoerce(m))?this.performOperation(l,n):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,l,m)}},{key:"tryNormalize",value:function(l){var n=l.value,m=l.unit;if(l.$isFashionNumber){switch(this.unit){case"mm":switch(m){case"in":return new j(25.4*n,"mm");case"cm":return new j(2.54*n,"mm")}break;case"cm":switch(m){case"in":return new j(2.54*n,"cm");case"mm":return new j(n/10,"cm")}break;case"in":switch(m){case"mm":return new j(n/25.4,"in");case"cm":return new j(n/2.54,"in")}break;case"ms":switch(m){case"s":return new j(1000*n,"ms")}break;case"s":switch(m){case"ms":return new j(n/1000,"s")}break;case"Hz":switch(m){case"kHz":return new j(1000*n,"Hz")}break;case"kHz":switch(m){case"Hz":return new j(n/1000,"kHz")}break;case"%":switch(m){default:return new j(n)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(l){var n=this.unit,m=l.unit;return !!l.$isFashionNumber&&(n===m||"mm"===n&&("in"===m||"cm"===m)||"cm"===n&&("in"===m||"mm"===m)||"in"===n&&("mm"===m||"cm"===m)||"ms"===n&&"s"===m||"s"===n&&"ms"===m||"Hz"===n&&"kHz"===m||"kHz"===n&&"Hz"===m)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=f.filter(l.num,function(m){return !!m}),l.den=f.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(p,l){this.normalizeUnits(),l.normalizeUnits();var m,u=this,t=l,o=j.OPERATIONS,n=j.NON_COERCE_OPERATIONS,q=o[p];if(q){try{u.unitless()?u=u.coerceUnits(t.numeratorUnits,t.denominatorUnits):t=t.coerceUnits(u.numeratorUnits,u.denominatorUnits)}catch(s){if("=="==p){return d.False}if("!="==p){return d.True}throw s}}else{q=n[p]}if(q&&(m=q(u.value,t.value)),"number"==typeof m){var r=this.computeUnits(u,t,p);return new j(m,r.num.length?r.num[0]:null,r.num,r.den)}return new d(m)}},{key:"computeUnits",value:function(m,l,n){switch(n){case"*":return{num:m.numeratorUnits.slice().concat(l.numeratorUnits),den:m.denominatorUnits.slice().concat(l.denominatorUnits)};case"/":return{num:m.numeratorUnits.slice().concat(l.denominatorUnits),den:m.denominatorUnits.slice().concat(l.numeratorUnits)};default:return{num:m.numeratorUnits,den:m.denominatorUnits}}}},{key:"coerceUnits",value:function(l,m){var n=this.value;return this.unitless()||(n=n*this.coercionFactor(this.numeratorUnits,l)/this.coercionFactor(this.denominatorUnits,m)),new j(n,l&&l[0],l,m)}},{key:"coercionFactor",value:function(t,o){var u=this.removeCommonUnits(t,o),m=u.num,q=u.den;m.length===q.length&&this.convertable(m||q)||f.raise("Incompatible units: "+m.join("*")+" and "+q.join("*"));for(var s=0;s<m.length;s++){for(var p=m[s],r=0;r<q.length;r++){var n=q[r],l=this.conversionFactor(p,n);if(null!==l){return l}}}return 1}},{key:"conversionFactor",value:function(l,p){var m=j.CONVERTABLE_UNITS,n=j.CONVERSION_TABLE,o=null;return m[l]&&m[p]&&(o=n[m[l]][m[p]]),null===o&&m[p]&&m[l]&&(o=1/n[m[p]][m[l]]),o}},{key:"convertable",value:function(l){if(l&&!Array.isArray(l)&&(l=[l]),l&&l.length){for(var n=j.CONVERTABLE_UNITS,m=0;m<l.length;m++){if(void 0===n[l[m]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(p,o){var m,n,n,r={},l=[],q=[];for(m=0;m<p.length;m++){n=p[m],r[n]=(r[n]||0)+1}for(m=0;m<o.length;m++){n=o[m],r[n]=(r[n]||0)-1}for(m=0;m<p.length;m++){n=p[m],r[n]>0&&(l.push(n),r[n]--)}for(m=0;m<o.length;m++){n=o[m],r[n]<0&&(q.push(n),r[n]++)}return{num:l,den:q}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(i);f.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),f.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),e.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(m,k,l){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.position=m,j.stops=l,j.shape=k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("center 0%"),m.push("center 100%"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(radial, "+m.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,d,g){var c=b("../Base.js"),e=b("./TypeVisitor.js"),f=b("../Output.js"),h=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(s){for(var l,p=this.output,k=s.items,t=p.output.length,n=s.separator,m=n&&n.length,o=n&&n.indexOf(" ")>-1,q=p.output,r=0;r<k.length;r++){k[r]&&(this.visit(k[r]),l=p.output.length-t,!l&&m&&r>0&&(p.output=q),q=p.output,r<k.length-1&&m&&(p.add(n),o||p.space()),t=p.output.length)}}},{key:"map",value:function(p){var k,o,m=this.output,n=p.items;this.currDeclaration&&c.raise("("+p+") isn't a valid CSS value.");for(var l=0;l<n.length-1;l+=2){k=n[l],o=n[l+1],k&&o&&(l>0&&(m.add(","),m.space()),this.visit(k),m.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new f,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(e);c.apply(h.prototype,{output:null}),d.exports=h},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(h,l,j,n){l=l||"fashion",j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+h+"s*$"),n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+h+"\\s*$");var i=this.docs;if(i&&i.length){for(var m=0;m<this.docs.length;m++){var k=i[m];if(j.test(k)){return !0}if(n.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(h,l,j,n):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(f,e,d){return e in f?Object.defineProperty(f,e,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[e]=d,f}var _get=function get(g,j,k){null===g&&(g=Function.prototype);var i=Object.getOwnPropertyDescriptor(g,j);if(void 0===i){var l=Object.getPrototypeOf(g);return null===l?void 0:get(l,j,k)}if("value" in i){return i.value}var h=i.get;if(void 0!==h){return h.call(k)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,m,i){var j,n=a("./src/export/Base.js"),l=a("./src/export/css/CssVariableManager.js"),k=new l;n.apply(n,(j={css:k,CssExport:l,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(j,"Types",a("./src/export/type/Types.js")),_defineProperty(j,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(j,"Output",a("./src/export/Output.js")),_defineProperty(j,"Runtime",a("./src/export/Runtime.js")),j)),m.exports=n},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(T,X,N){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function U(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?U(d,c):g[e]=c):g[e]=c}}return g}function ab(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function Z(c){return c&&"function"==typeof c}function P(d,c){console.log(ab("[DBG] "+d,c))}function V(d,c){console.log(ab("[LOG] "+d,c))}function G(d,c){console.log(ab("[INF] "+d,c))}function H(d,c){console.log(ab("[WRN] "+d,c))}function I(d,c){console.log(ab("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function Q(d,c){var e;c&&(d=ab(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function R(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function S(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function aa(c){return c.length&&c[c.length-1]}function L(c){return c.length>2?c.slice(1):[]}function Y(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function W(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;Y(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function O(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?O(e,d-1,g):g.push(e)}return g}var M=T("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&U(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return aa(this.items)}},{key:"tail",value:function(){return L(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};X.exports={EmptyArray:[],getJsName:M.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:U,createMessage:ab,isFunction:Z,debug:P,log:V,info:G,warn:H,error:I,raise:F,raiseAt:Q,filter:R,convert:S,first:E,last:aa,tail:L,mixin:W,flatten:O}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(E,a,A){var t=E("./Base.js"),x=t.Base,B=E("./type/Type.js"),u=E("./type/List.js"),v=E("./type/Bool.js"),y=E("./type/Color.js"),F=E("./type/ColorRGBA.js"),D=E("./type/Text.js"),s=E("./type/Literal.js"),G=E("./type/Statics.js"),H=E("./type/TypeVisitor.js"),C=E("./type/Types.js"),w=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(w.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var z=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:G.boxType,unbox:G.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(k,o){for(var i,n={},m=0,l=0;l<k.length;l++){var j=k[l];if(void 0!==j){if(j===!0||j===!1){n[o[m]]=j,m++}else{if(void 0===j.type){for(i in j){n[i.replace(/^\$/,"")]=j[i]}}else{i=o[m],i instanceof Array?(i=i[0],n[i]=n[i]||new u,n[i].add(j)):(n[i]=j,m++)}}}}return n},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new v(f)}},{key:"color",value:function d(f){var g=y.map[f],h=new F(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new D(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(h){h=h||this.types;for(var j,g=Object.getOwnPropertyNames(h),f=[],i=0;i<g.length;i++){j=g[i],f.push(j+" = Types."+j),f.push("__"+j+" = "+j)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(g){g=g||this.constructor.prototype;for(var h,j,f=[];g;){h=Object.getOwnPropertyNames(g);for(var i=0;i<h.length;i++){j=h[i],"function"==typeof g[j]&&f.push("__rt_"+j+" = __rt."+j+".bind(__rt)")}g=Object.getPrototypeOf(g)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var g,i=Object.getOwnPropertyNames(this),h=[],f=0;f<i.length;f++){g=i[f],h.push("__rt_"+g+" = __rt."+g)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new H(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new w(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(f,h,i){var g=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),g.map[f]=h,h}},{key:"setDynamic",value:function(i,g,h){var k,j=t.getJsName(i),f=this._globalScope;return g&&g.$isFashionLiteral||(g=this.box(g)),g.ast=g.ast||this.getAstNode(h),g.$referenceName||g.$constant?(k=g.clone(),k.$previousReference=g,g=k,g.ast=this.getAstNode(h)):g.$referenceName=i,f.map[j]=g,g}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new u(m,k)}},{key:"applySplatArgs",value:function(g){var l,i,f,k,h,j=[];for(i=0;i<g.length;i++){if(l=g[i],l&&l.splat&&l.$isFashionList){for(h=l.getItems(),k=0;k<h.length;k++){f=h[k],f&&(f.splatSeparator=l.separator),j.push(f)}}else{j.push(l)}l&&(l.splat=void 0)}return j}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(x);t.apply(z.prototype,{box:B.box,unbox:B.unbox,Scope:w,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:C,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),a.exports=z},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(a,n,o){var m=a("../Base.js"),k=a("../Runtime.js"),j=a("../parse/ValueParser.js"),p=a("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new k}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(D){var d,g,B,C,y,f,A,z=this,e=z.getRuntime(),h=new j,i=z.variableMap;g=new e.Scope;for(C in D){d=m.getJsName(C.replace(z.nameRe,"")),0!==d.indexOf("$")&&(d="$"+d),g.put(d,h.parse(D[C]))}e._globalScope=g,e._currentScope=g;for(var x=0;x<z.calcFns.length;x++){z.calcFns[x](e)}B=new p,D={};for(C in i){y=i[C];for(var x=0;x<y.length;x++){d=y[x],f="$"+m.getJsName(d),A=g.get(f),A&&(A.$isWrapper&&(A=A.value),D[d]=B.toSource(A))}}return D}},{key:"applyVariables",value:function(e){var d=this,u=d.variableMap;for(var t in u){var v=u[t],h=document.querySelectorAll(t);if(h){for(var f=0;f<h.length;f++){for(var g=0;g<v.length;g++){var i=v[g];h[f].style.setProperty("--"+i,e[i])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return m.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var d=this,u=d.variableMap,g={};for(var t in u){var v=u[t],h=document.querySelectorAll(t);if(h){for(var e=0;e<h.length;e++){for(var f=0;f<v.length;f++){var i=v[f];g[i]=h[e].style.getPropertyValue("--"+i)}}}}return g}}]),c}();m.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),n.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,D,u){var a=x("../Base.js"),E=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),C=v.Color,z=v.Text,A=v.Numeric,y=v.List,B=v.Bool,r=v.Literal,s=v.ColorRGBA,F=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var e,d=this,h="",i=d.str,f=i.length,g=!1,j=!1,k=0;d.index<f;){if(e=i[d.index],d.index++,e<=" "&&!g&&!k){if(h.length){break}}else{if(";"===e&&!g&&!j){break}if("("===e&&k++,")"===e&&k&&k--,","===e&&!g&&!j&&!k){if(h.length){d.index--;break}return e}"\\"===e&&g?(j=1,d.index++):('"'!==e&&"'"!==e||(g?g===e&&(g=!1):g=e),j=!1,h+=e)}}return h}},{key:"parseValue",value:function(j){var k,i,h={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===j[0]||"'"===j[0]){return i=j=j.substring(1,j.length-1),new z(i,j[0])}if("true"===j){return new B((!0))}if("false"===j){return new B((!1))}if("null"===j){return r.Null}if("none"===j){return r.None}if(a.Color.map[j]){var d=C.map[j],g=new s(d[0],d[1],d[2],d[3]);return g.stringified=j,g}if(k=h.number.exec(j)){return new A(parseFloat(k[1]),k[2])}if(k=h.shortHexColor.exec(j)){return s.fromHex(k[1])}if(k=h.longHexColor.exec(j)){return s.fromHex(k[1])}if(k=h.functionCall.exec(j)){var e=k[1],f=this.parse(k[2]).items;return"hsla"===e||"hsl"===e?new F(E.unbox(f[0]),E.unbox(f[1]),E.unbox(f[2]),E.unbox(f[3])||1):"rgba"===e||"rgb"===e?new s(E.unbox(f[0]),E.unbox(f[1]),E.unbox(f[2]),E.unbox(f[3])||1):new t(e,f)}return(k=h.parenList.exec(j))?new t(this.parse(k[1])):new a.Literal(j)}},{key:"parse",value:function(h){var d,j=this,i=[],f=[],g=null;for(j.str=h,j.index=0;d=j._advance();){i.push(d)}for(var e=0;e<i.length;e++){d=i[e].trim(),","===i[e+1]?(g=g||[],g.push(j.parseValue(d)),e++):g?(g.push(j.parseValue(d)),f.push(new y(g,", ")),g=null):f.push(j.parseValue(d))}return 1===f.length?f[0]:new y(f," ")}}]),c}();D.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(a,k,j){var n=a("../Base.js"),l=a("./Type.js"),o=a("./Bool.js"),m=a("./Numeric.js"),p=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return o.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(h,e){var i,f=c.units[e],g=c.types[e],r=c.comps[e];return i="hsla"==g?h.getHSLA():h.getRGBA(),new m(i[r],f)}},{key:"adjust",value:function(h,e,g){var i=h.getHSLA().copy(),f=c.comps[e],r=g.value;return i[f]+=r,i.h=c.constrainDegrees(i.h),i.s=c.constrainPercentage(i.s),i.l=c.constrainPercentage(i.l),i.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);n.apply(p,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),n.apply(p.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),k.exports=p},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,l){var j=a("../Base.js"),i=a("./Color.js"),n=a("./ColorRGBA.js"),k=function(c){function d(f,g,h,e){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=i.constrainDegrees(f),p.s=g,p.l=h,void 0!==e&&(p.a=e),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return n.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(f,g,h,e){return new d(i.constrainDegrees(this.h+f),i.constrainPercentage(this.s+g),i.constrainPercentage(this.l+h),i.constrainAlpha(this.a*e))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=i.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=i.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var A=g.r/255,s=g.g/255,y=g.b/255,h=g.a,x=Math.max(A,s,y),f=Math.min(A,s,y),r=x-f,e=0,B=0,z=0.5*(x+f);return f!=x&&(B=z<0.5?r/(x+f):r/(2-x-f),e=A==x?60*(s-y)/r:s==x?120+60*(y-A)/r:240+60*(A-s)/r,e<0&&(e+=360),e>=360&&(e-=360)),new d(i.constrainDegrees(e),i.constrainPercentage(100*B),i.constrainPercentage(100*z),h)}}]),d}(i);n.prototype.getHSLA=function(){return k.fromRGBA(this)},j.apply(k.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=k},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,l){function k(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var j=a("../Base.js"),i=a("./Color.js"),n=function(d){function c(g,h,f,e){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,g)),p.g=Math.min(255,Math.max(0,h)),p.b=Math.min(255,Math.max(0,f)),void 0!==e&&(p.a=Math.min(1,Math.max(0,e))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,r=h(e.r),s=h(e.g),f=h(e.b),t=e.a,g="";return g=1===t?"#"+k(r)+k(s)+k(f):"rgba("+r+", "+s+", "+f+", "+t+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var h=this,e=Math.round,q=e(h.r),g=e(h.g),f=e(h.b),r=e(255*h.a);return"#"+k(r)+k(q)+k(g)+k(f)}},{key:"add",value:function(g,h,f,e){return new c(this.r+g,this.g+h,this.b+f,this.a*e)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(g){"#"==g.charAt(0)&&(g=g.substr(1));var h,e,f;3===g.length?(h=parseInt(g.charAt(0),16),e=parseInt(g.charAt(1),16),f=parseInt(g.charAt(2),16),h=(h<<4)+h,e=(e<<4)+e,f=(f<<4)+f):(h=parseInt(g.substring(0,2),16),e=parseInt(g.substring(2,4),16),f=parseInt(g.substring(4,6),16));var p=new c(h,e,f);return c.preserveInputStrings&&(p.stringified="#"+g),p}},{key:"fromHSLA",value:function(D){function h(o){return o<0&&++o,o>1&&--o,6*o<1?C+(r-C)*o*6:2*o<1?r:3*o<2?C+(r-C)*(2/3-o)*6:C}if(D.$isFashionRGBA){return D.clone()}var B=D,z=B.h/360,f=B.s/100,s=B.l/100,A=B.a,r=s<=0.5?s*(f+1):s+f-s*f,C=2*s-r,e=i.constrainChannel(255*h(z+1/3)),y=i.constrainChannel(255*h(z)),g=i.constrainChannel(255*h(z-1/3));return new c(e,y,g,A)}}]),c}(i);j.apply(n,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),j.apply(n.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new n(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new n(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=n,function(e,t,w,g){var u,d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],f=Object.keys(w);for(f.sort(),u=0;u<f.length;u++){var c=f[u],x=w[c],v=new e(x[0],x[1],x[2],x[3]),h=v.stringify();t[h]=c}d.forEach(function(p){var o=p+p;d.forEach(function(r){var q=r+r;d.forEach(function(F){var E=F+F,D="#"+p+r+F,C="#"+o+q+E;if(g[C]){var s=g[C];D=s.length>D.length?D:s}g[C]=D})})})}(n,n.stringifiedMap,i.map,n.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,m,i){var n=a("../Base.js"),j=a("./Type.js"),k=a("./Numeric.js"),l=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new k(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(j);n.apply(l.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),m.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,m,j){var l=a("../Base.js"),i=a("./Type.js"),k=a("./List.js"),n=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new k(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(i);l.apply(n.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),m.exports=n},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("top"),e.push("bottom"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(linear, "+e.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var n=this.items,e=n.length,g=[],f=0;f<e;f++){g.push(n[f].clone())}return new c(g,this.separator)}},{key:"clone",value:function(r,e){if(e&&this.matches(r)){return e.clone()}for(var s=this.items,f=s.length,g=[],t=0;t<f;t++){g.push(s[t].clone(r,e))}var q=new c(g,this.separator);return q.$referenceName=this.$referenceName,q.$referenceBase=this.$referenceBase,q.$previousReference=this.$previousReference,q}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(f){for(var e=[],n=0;n<this.items.length;n++){var g=this.items[n];g&&e.push(g.toPrefixedString(f))}return e.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(k,n,a){var m=k("../Base.js"),j=k("./Type.js"),o=k("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=j.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=j.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new o(f+1)}}},{key:"insert",value:function(f,h){var e=j.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(j);m.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var p=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);m.apply(p.prototype,{$isFashionNull:!0,$constant:!0}),p.prototype.$isFashionNull=!0,l.Null=new p(null),l.None=new l("none"),n.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(m,o,a){var q=m("../Base.js"),s=m("./List.js"),r=m("./Type.js"),l=m("./Literal.js"),t=l.Null,n=m("./Numeric.js"),p=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof n&&(e=r.unbox(e)),"number"==typeof e?new s([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||t)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(s);q.apply(p.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),o.exports=p},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(k,n,a){var m=k("../Base.js"),j=k("./Type.js"),o=k("./Bool.js"),l=k("./Literal.js"),p=function(c){function d(f,g,e,h){_classCallCheck(this,d);var i=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return i.value=f,i.unit=g,g&&!e?i.numeratorUnits=[g]:i.numeratorUnits=e||[],i.denominatorUnits=h||[],i}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(f,e){var g;this.unit||e.unit;return e.$isFashionRGBA||e.$isFashionHSLA?new l(this+f+e):e.$isFashionNumber?this.numericOperate(f,e):e.$isFashionLiteral&&(g=this.tryCoerce(e))?this.performOperation(f,g):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,f,e)}},{key:"tryNormalize",value:function(f){var g=f.value,e=f.unit;if(f.$isFashionNumber){switch(this.unit){case"mm":switch(e){case"in":return new d(25.4*g,"mm");case"cm":return new d(2.54*g,"mm")}break;case"cm":switch(e){case"in":return new d(2.54*g,"cm");case"mm":return new d(g/10,"cm")}break;case"in":switch(e){case"mm":return new d(g/25.4,"in");case"cm":return new d(g/2.54,"in")}break;case"ms":switch(e){case"s":return new d(1000*g,"ms")}break;case"s":switch(e){case"ms":return new d(g/1000,"s")}break;case"Hz":switch(e){case"kHz":return new d(1000*g,"Hz")}break;case"kHz":switch(e){case"Hz":return new d(g/1000,"kHz")}break;case"%":switch(e){default:return new d(g)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(f){var g=this.unit,e=f.unit;return !!f.$isFashionNumber&&(g===e||"mm"===g&&("in"===e||"cm"===e)||"cm"===g&&("in"===e||"mm"===e)||"in"===g&&("mm"===e||"cm"===e)||"ms"===g&&"s"===e||"s"===g&&"ms"===e||"Hz"===g&&"kHz"===e||"kHz"===g&&"Hz"===e)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=m.filter(e.num,function(f){return !!f}),e.den=m.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(g,w){this.normalizeUnits(),w.normalizeUnits();var v,x=this,y=w,h=d.OPERATIONS,i=d.NON_COERCE_OPERATIONS,f=h[g];if(f){try{x.unitless()?x=x.coerceUnits(y.numeratorUnits,y.denominatorUnits):y=y.coerceUnits(x.numeratorUnits,x.denominatorUnits)}catch(z){if("=="==g){return o.False}if("!="==g){return o.True}throw z}}else{f=i[g]}if(f&&(v=f(x.value,y.value)),"number"==typeof v){var e=this.computeUnits(x,y,g);return new d(v,e.num.length?e.num[0]:null,e.num,e.den)}return new o(v)}},{key:"computeUnits",value:function(e,f,g){switch(g){case"*":return{num:e.numeratorUnits.slice().concat(f.numeratorUnits),den:e.denominatorUnits.slice().concat(f.denominatorUnits)};case"/":return{num:e.numeratorUnits.slice().concat(f.denominatorUnits),den:e.denominatorUnits.slice().concat(f.numeratorUnits)};default:return{num:e.numeratorUnits,den:e.denominatorUnits}}}},{key:"coerceUnits",value:function(f,e){var g=this.value;return this.unitless()||(g=g*this.coercionFactor(this.numeratorUnits,f)/this.coercionFactor(this.denominatorUnits,e)),new d(g,f&&f[0],f,e)}},{key:"coercionFactor",value:function(y,h){var x=this.removeCommonUnits(y,h),v=x.num,f=x.den;v.length===f.length&&this.convertable(v||f)||m.raise("Incompatible units: "+v.join("*")+" and "+f.join("*"));for(var z=0;z<v.length;z++){for(var g=v[z],e=0;e<f.length;e++){var i=f[e],w=this.conversionFactor(g,i);if(null!==w){return w}}}return 1}},{key:"conversionFactor",value:function(f,g){var e=d.CONVERTABLE_UNITS,i=d.CONVERSION_TABLE,h=null;return e[f]&&e[g]&&(h=i[e[f]][e[g]]),null===h&&e[g]&&e[f]&&(h=1/i[e[g]][e[f]]),h}},{key:"convertable",value:function(f){if(f&&!Array.isArray(f)&&(f=[f]),f&&f.length){for(var g=d.CONVERTABLE_UNITS,e=0;e<f.length;e++){if(void 0===g[f[e]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(i,s){var e,t,t,g={},f=[],h=[];for(e=0;e<i.length;e++){t=i[e],g[t]=(g[t]||0)+1}for(e=0;e<s.length;e++){t=s[e],g[t]=(g[t]||0)-1}for(e=0;e<i.length;e++){t=i[e],g[t]>0&&(f.push(t),g[t]--)}for(e=0;e<s.length;e++){t=s[e],g[t]<0&&(h.push(t),g[t]++)}return{num:f,den:h}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(j);m.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),m.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),n.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(e,g,f){_classCallCheck(this,c);var n=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return n.position=e,n.stops=f,n.shape=g,n}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("center 0%"),e.push("center 100%"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(radial, "+e.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,m,j){var n=a("../Base.js"),l=a("./TypeVisitor.js"),k=a("../Output.js"),i=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(z){for(var w,g=this.output,x=z.items,y=g.output.length,u=z.separator,v=u&&u.length,h=u&&u.indexOf(" ")>-1,f=g.output,e=0;e<x.length;e++){x[e]&&(this.visit(x[e]),w=g.output.length-y,!w&&v&&e>0&&(g.output=f),f=g.output,e<x.length-1&&v&&(g.add(u),h||g.space()),y=g.output.length)}}},{key:"map",value:function(h){var g,q,e=this.output,r=h.items;this.currDeclaration&&n.raise("("+h+") isn't a valid CSS value.");for(var f=0;f<r.length-1;f+=2){g=r[f],q=r[f+1],g&&q&&(f>0&&(e.add(","),e.space()),this.visit(g),e.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new k,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(l);n.apply(i.prototype,{output:null}),m.exports=i},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(q,e,o,r){e=e||"fashion",o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+q+"s*$"),r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+q+"\\s*$");var p=this.docs;if(p&&p.length){for(var d=0;d<this.docs.length;d++){var f=p[d];if(o.test(f)){return !0}if(r.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(q,e,o,r):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var _get=function get(f,c,b){null===f&&(f=Function.prototype);var d=Object.getOwnPropertyDescriptor(f,c);if(void 0===d){var a=Object.getPrototypeOf(f);return null===a?void 0:get(a,c,b)}if("value" in d){return d.value}var e=d.get;if(void 0!==e){return e.call(b)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,b,g){var f,h=d("./src/export/Base.js"),c=d("./src/export/css/CssVariableManager.js"),e=new c;h.apply(h,(f={css:e,CssExport:c,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(f,"Types",d("./src/export/type/Types.js")),_defineProperty(f,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(f,"Output",d("./src/export/Output.js")),_defineProperty(f,"Runtime",d("./src/export/Runtime.js")),f)),b.exports=h},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(h,d,n){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function g(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?g(F,G):C[E]=G):C[E]=G}}return C}function A(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function b(C){return C&&"function"==typeof C}function l(C,D){console.log(A("[DBG] "+C,D))}function f(C,D){console.log(A("[LOG] "+C,D))}function u(C,D){console.log(A("[INF] "+C,D))}function t(C,D){console.log(A("[WRN] "+C,D))}function s(C,D){console.log(A("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function k(D,E){var C;E&&(D=A(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function j(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function i(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function B(C){return C.length&&C[C.length-1]}function p(C){return C.length>2?C.slice(1):[]}function c(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function e(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;c(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function m(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?m(E,F-1,C):C.push(E)}return C}var o=h("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&g(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return B(this.items)}},{key:"tail",value:function(){return p(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};d.exports={EmptyArray:[],getJsName:o.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:g,createMessage:A,isFunction:b,debug:l,log:f,info:u,warn:t,error:s,raise:v,raiseAt:k,filter:j,convert:i,first:w,last:B,tail:p,mixin:e,flatten:m}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(r,h,e){var p=r("./Base.js"),i=p.Base,d=r("./type/Type.js"),n=r("./type/List.js"),l=r("./type/Bool.js"),g=r("./type/Color.js"),o=r("./type/ColorRGBA.js"),b=r("./type/Text.js"),q=r("./type/Literal.js"),m=r("./type/Statics.js"),k=r("./type/TypeVisitor.js"),c=r("./type/Types.js"),j=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(j.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var f=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:m.boxType,unbox:m.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(A,D){for(var C,E={},y=0,z=0;z<A.length;z++){var B=A[z];if(void 0!==B){if(B===!0||B===!1){E[D[y]]=B,y++}else{if(void 0===B.type){for(C in B){E[C.replace(/^\$/,"")]=B[C]}}else{C=D[y],C instanceof Array?(C=C[0],E[C]=E[C]||new n,E[C].add(B)):(E[C]=B,y++)}}}}return E},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new l(v)}},{key:"color",value:function t(x){var w=g.map[x],v=new o(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new b(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(x){x=x||this.types;for(var v,y=Object.getOwnPropertyNames(x),z=[],w=0;w<y.length;w++){v=y[w],z.push(v+" = Types."+v),z.push("__"+v+" = "+v)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(y){y=y||this.constructor.prototype;for(var x,v,z=[];y;){x=Object.getOwnPropertyNames(y);for(var w=0;w<x.length;w++){v=x[w],"function"==typeof y[v]&&z.push("__rt_"+v+" = __rt."+v+".bind(__rt)")}y=Object.getPrototypeOf(y)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var x,v=Object.getOwnPropertyNames(this),w=[],y=0;y<v.length;y++){x=v[y],w.push("__rt_"+x+" = __rt."+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new k(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new j(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(y,w,v){var x=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),x.map[y]=w,w}},{key:"setDynamic",value:function(x,z,y){var v,w=p.getJsName(x),A=this._globalScope;return z&&z.$isFashionLiteral||(z=this.box(z)),z.ast=z.ast||this.getAstNode(y),z.$referenceName||z.$constant?(v=z.clone(),v.$previousReference=z,z=v,z.ast=this.getAstNode(y)):z.$referenceName=x,A.map[w]=z,z}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new n(w,y)}},{key:"applySplatArgs",value:function(A){var v,y,B,w,z,x=[];for(y=0;y<A.length;y++){if(v=A[y],v&&v.splat&&v.$isFashionList){for(z=v.getItems(),w=0;w<z.length;w++){B=z[w],B&&(B.splatSeparator=v.separator),x.push(B)}}else{x.push(v)}v&&(v.splat=void 0)}return x}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(i);p.apply(f.prototype,{box:d.box,unbox:d.unbox,Scope:j,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:c,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),h.exports=f},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(d,i,h){var b=d("../Base.js"),e=d("../Runtime.js"),f=d("../parse/ValueParser.js"),g=d("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new e}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(k){var t,q,m,l,v,r,n,u=this,s=u.getRuntime(),p=new f,o=u.variableMap;q=new s.Scope;for(l in k){t=b.getJsName(l.replace(u.nameRe,"")),0!==t.indexOf("$")&&(t="$"+t),q.put(t,p.parse(k[l]))}s._globalScope=q,s._currentScope=q;for(var w=0;w<u.calcFns.length;w++){u.calcFns[w](s)}m=new g,k={};for(l in o){v=o[l];for(var w=0;w<v.length;w++){t=v[w],r="$"+b.getJsName(t),n=q.get(r),n&&(n.$isWrapper&&(n=n.value),k[t]=m.toSource(n))}}return k}},{key:"applyVariables",value:function(o){var p=this,r=p.variableMap;for(var s in r){var q=r[s],l=document.querySelectorAll(s);if(l){for(var n=0;n<l.length;n++){for(var m=0;m<q.length;m++){var k=q[m];l[n].style.setProperty("--"+k,o[k])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return b.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var p=this,r=p.variableMap,m={};for(var s in r){var q=r[s],l=document.querySelectorAll(s);if(l){for(var o=0;o<l.length;o++){for(var n=0;n<q.length;n++){var k=q[n];m[k]=l[o].style.getPropertyValue("--"+k)}}}}return m}}]),j}();b.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),i.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,c,m){var i=j("../Base.js"),q=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),d=l.Color,g=l.Text,f=l.Numeric,h=l.List,e=l.Bool,b=l.Literal,p=l.ColorRGBA,o=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var y,z=this,v="",u=z.str,x=u.length,w=!1,t=!1,s=0;z.index<x;){if(y=u[z.index],z.index++,y<=" "&&!w&&!s){if(v.length){break}}else{if(";"===y&&!w&&!t){break}if("("===y&&s++,")"===y&&s&&s--,","===y&&!w&&!t&&!s){if(v.length){z.index--;break}return y}"\\"===y&&w?(t=1,z.index++):('"'!==y&&"'"!==y||(w?w===y&&(w=!1):w=y),t=!1,v+=y)}}return v}},{key:"parseValue",value:function(t){var s,u,v={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===t[0]||"'"===t[0]){return u=t=t.substring(1,t.length-1),new g(u,t[0])}if("true"===t){return new e((!0))}if("false"===t){return new e((!1))}if("null"===t){return b.Null}if("none"===t){return b.None}if(i.Color.map[t]){var z=d.map[t],w=new p(z[0],z[1],z[2],z[3]);return w.stringified=t,w}if(s=v.number.exec(t)){return new f(parseFloat(s[1]),s[2])}if(s=v.shortHexColor.exec(t)){return p.fromHex(s[1])}if(s=v.longHexColor.exec(t)){return p.fromHex(s[1])}if(s=v.functionCall.exec(t)){var y=s[1],x=this.parse(s[2]).items;return"hsla"===y||"hsl"===y?new o(q.unbox(x[0]),q.unbox(x[1]),q.unbox(x[2]),q.unbox(x[3])||1):"rgba"===y||"rgb"===y?new p(q.unbox(x[0]),q.unbox(x[1]),q.unbox(x[2]),q.unbox(x[3])||1):new n(y,x)}return(s=v.parenList.exec(t))?new n(this.parse(s[1])):new i.Literal(t)}},{key:"parse",value:function(u){var y,s=this,t=[],w=[],v=null;for(s.str=u,s.index=0;y=s._advance();){t.push(y)}for(var x=0;x<t.length;x++){y=t[x].trim(),","===t[x+1]?(v=v||[],v.push(s.parseValue(y)),x++):v?(v.push(s.parseValue(y)),w.push(new h(v,", ")),v=null):w.push(s.parseValue(y))}return 1===w.length?w[0]:new h(w," ")}}]),r}();c.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(d,e,f){var i=d("../Base.js"),c=d("./Type.js"),h=d("./Bool.js"),b=d("./Numeric.js"),g=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return h.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(m,q){var l,p=k.units[q],o=k.types[q],n=k.comps[q];return l="hsla"==o?m.getHSLA():m.getRGBA(),new b(l[n],p)}},{key:"adjust",value:function(m,q,o){var l=m.getHSLA().copy(),p=k.comps[q],n=o.value;return l[p]+=n,l.h=k.constrainDegrees(l.h),l.s=k.constrainPercentage(l.s),l.l=k.constrainPercentage(l.l),l.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);i.apply(g,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),i.apply(g.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),e.exports=g},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,c){var f=d("../Base.js"),g=d("./Color.js"),h=d("./ColorRGBA.js"),e=function(j){function i(m,l,k,o){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=g.constrainDegrees(m),n.s=l,n.l=k,void 0!==o&&(n.a=o),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return h.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(m,l,k,n){return new i(g.constrainDegrees(this.h+m),g.constrainPercentage(this.s+l),g.constrainPercentage(this.l+k),g.constrainAlpha(this.a*n))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=g.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=g.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var m=o.r/255,w=o.g/255,u=o.b/255,n=o.a,v=Math.max(m,w,u),p=Math.min(m,w,u),k=v-p,q=0,l=0,t=0.5*(v+p);return p!=v&&(l=t<0.5?k/(v+p):k/(2-v-p),q=m==v?60*(w-u)/k:w==v?120+60*(u-m)/k:240+60*(m-w)/k,q<0&&(q+=360),q>=360&&(q-=360)),new i(g.constrainDegrees(q),g.constrainPercentage(100*l),g.constrainPercentage(100*t),n)}}]),i}(g);h.prototype.getHSLA=function(){return e.fromRGBA(this)},f.apply(e.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=e},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,c){function e(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var f=d("../Base.js"),g=d("./Color.js"),h=function(i){function j(l,k,m,o){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,l)),n.g=Math.min(255,Math.max(0,k)),n.b=Math.min(255,Math.max(0,m)),void 0!==o&&(n.a=Math.min(1,Math.max(0,o))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,o=m(q.r),l=m(q.g),p=m(q.b),k=q.a,n="";return n=1===k?"#"+e(o)+e(l)+e(p):"rgba("+o+", "+l+", "+p+", "+k+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var k=this,p=Math.round,o=p(k.r),m=p(k.g),n=p(k.b),l=p(255*k.a);return"#"+e(l)+e(o)+e(m)+e(n)}},{key:"add",value:function(l,k,m,n){return new j(this.r+l,this.g+k,this.b+m,this.a*n)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(l){"#"==l.charAt(0)&&(l=l.substr(1));var k,o,m;3===l.length?(k=parseInt(l.charAt(0),16),o=parseInt(l.charAt(1),16),m=parseInt(l.charAt(2),16),k=(k<<4)+k,o=(o<<4)+o,m=(m<<4)+m):(k=parseInt(l.substring(0,2),16),o=parseInt(l.substring(2,4),16),m=parseInt(l.substring(4,6),16));var n=new j(k,o,m);return j.preserveInputStrings&&(n.stringified="#"+l),n}},{key:"fromHSLA",value:function(k){function p(r){return r<0&&++r,r>1&&--r,6*r<1?m+(l-m)*r*6:2*r<1?l:3*r<2?m+(l-m)*(2/3-r)*6:m}if(k.$isFashionRGBA){return k.clone()}var n=k,v=n.h/360,t=n.s/100,x=n.l/100,o=n.a,l=x<=0.5?x*(t+1):x+t-x*t,m=2*x-l,u=g.constrainChannel(255*p(v+1/3)),w=g.constrainChannel(255*p(v)),q=g.constrainChannel(255*p(v-1/3));return new j(u,w,q,o)}}]),j}(g);f.apply(h,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),f.apply(h.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new h(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new h(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=h,function(l,s,p,j){var r,m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=Object.keys(p);for(k.sort(),r=0;r<k.length;r++){var n=k[r],o=p[n],q=new l(o[0],o[1],o[2],o[3]),i=q.stringify();s[i]=n}m.forEach(function(t){var u=t+t;m.forEach(function(v){var w=v+v;m.forEach(function(y){var z=y+y,A="#"+t+v+y,B="#"+u+w+z;if(j[B]){var x=j[B];A=x.length>A.length?A:x}j[B]=A})})})}(h,h.stringifiedMap,g.map,h.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,b,g){var h=d("../Base.js"),f=d("./Type.js"),e=d("./Numeric.js"),c=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new e(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(f);h.apply(c.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),b.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,b,f){var c=d("../Base.js"),g=d("./Type.js"),e=d("./List.js"),h=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new e(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(g);c.apply(h.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),b.exports=h},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("top"),l.push("bottom"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(linear, "+l.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var m=this.items,l=m.length,j=[],k=0;k<l;k++){j.push(m[k].clone())}return new i(j,this.separator)}},{key:"clone",value:function(m,p){if(p&&this.matches(m)){return p.clone()}for(var k=this.items,o=k.length,l=[],j=0;j<o;j++){l.push(k[j].clone(m,p))}var n=new i(l,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(k){for(var l=[],m=0;m<this.items.length;m++){var j=this.items[m];j&&l.push(j.toPrefixedString(k))}return l.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(e,i,d){var b=e("../Base.js"),f=e("./Type.js"),h=e("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=f.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=f.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new h(l+1)}}},{key:"insert",value:function(n,l){var o=f.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(f);b.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var g=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);b.apply(g.prototype,{$isFashionNull:!0,$constant:!0}),g.prototype.$isFashionNull=!0,c.Null=new g(null),c.None=new c("none"),i.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(g,e,i){var c=g("../Base.js"),k=g("./List.js"),b=g("./Type.js"),h=g("./Literal.js"),j=h.Null,f=g("./Numeric.js"),d=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof f&&(n=b.unbox(n)),"number"==typeof n?new k([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||j)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(k);c.apply(d.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),e.exports=d},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(e,i,d){var b=e("../Base.js"),f=e("./Type.js"),h=e("./Bool.js"),c=e("./Literal.js"),g=function(k){function j(o,n,p,m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=o,l.unit=n,n&&!p?l.numeratorUnits=[n]:l.numeratorUnits=p||[],l.denominatorUnits=m||[],l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(m,n){var l;this.unit||n.unit;return n.$isFashionRGBA||n.$isFashionHSLA?new c(this+m+n):n.$isFashionNumber?this.numericOperate(m,n):n.$isFashionLiteral&&(l=this.tryCoerce(n))?this.performOperation(m,l):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,m,n)}},{key:"tryNormalize",value:function(m){var l=m.value,n=m.unit;if(m.$isFashionNumber){switch(this.unit){case"mm":switch(n){case"in":return new j(25.4*l,"mm");case"cm":return new j(2.54*l,"mm")}break;case"cm":switch(n){case"in":return new j(2.54*l,"cm");case"mm":return new j(l/10,"cm")}break;case"in":switch(n){case"mm":return new j(l/25.4,"in");case"cm":return new j(l/2.54,"in")}break;case"ms":switch(n){case"s":return new j(1000*l,"ms")}break;case"s":switch(n){case"ms":return new j(l/1000,"s")}break;case"Hz":switch(n){case"kHz":return new j(1000*l,"Hz")}break;case"kHz":switch(n){case"Hz":return new j(l/1000,"kHz")}break;case"%":switch(n){default:return new j(l)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(m){var l=this.unit,n=m.unit;return !!m.$isFashionNumber&&(l===n||"mm"===l&&("in"===n||"cm"===n)||"cm"===l&&("in"===n||"mm"===n)||"in"===l&&("mm"===n||"cm"===n)||"ms"===l&&"s"===n||"s"===l&&"ms"===n||"Hz"===l&&"kHz"===n||"kHz"===l&&"Hz"===n)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=b.filter(l.num,function(m){return !!m}),l.den=b.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(n,t){this.normalizeUnits(),t.normalizeUnits();var u,s=this,r=t,m=j.OPERATIONS,l=j.NON_COERCE_OPERATIONS,o=m[n];if(o){try{s.unitless()?s=s.coerceUnits(r.numeratorUnits,r.denominatorUnits):r=r.coerceUnits(s.numeratorUnits,s.denominatorUnits)}catch(q){if("=="==n){return h.False}if("!="==n){return h.True}throw q}}else{o=l[n]}if(o&&(u=o(s.value,r.value)),"number"==typeof u){var p=this.computeUnits(s,r,n);return new j(u,p.num.length?p.num[0]:null,p.num,p.den)}return new h(u)}},{key:"computeUnits",value:function(n,m,l){switch(l){case"*":return{num:n.numeratorUnits.slice().concat(m.numeratorUnits),den:n.denominatorUnits.slice().concat(m.denominatorUnits)};case"/":return{num:n.numeratorUnits.slice().concat(m.denominatorUnits),den:n.denominatorUnits.slice().concat(m.numeratorUnits)};default:return{num:n.numeratorUnits,den:n.denominatorUnits}}}},{key:"coerceUnits",value:function(m,n){var l=this.value;return this.unitless()||(l=l*this.coercionFactor(this.numeratorUnits,m)/this.coercionFactor(this.denominatorUnits,n)),new j(l,m&&m[0],m,n)}},{key:"coercionFactor",value:function(r,m){var s=this.removeCommonUnits(r,m),u=s.num,o=s.den;u.length===o.length&&this.convertable(u||o)||b.raise("Incompatible units: "+u.join("*")+" and "+o.join("*"));for(var q=0;q<u.length;q++){for(var n=u[q],p=0;p<o.length;p++){var l=o[p],t=this.conversionFactor(n,l);if(null!==t){return t}}}return 1}},{key:"conversionFactor",value:function(o,n){var p=j.CONVERTABLE_UNITS,l=j.CONVERSION_TABLE,m=null;return p[o]&&p[n]&&(m=l[p[o]][p[n]]),null===m&&p[n]&&p[o]&&(m=1/l[p[n]][p[o]]),m}},{key:"convertable",value:function(m){if(m&&!Array.isArray(m)&&(m=[m]),m&&m.length){for(var l=j.CONVERTABLE_UNITS,n=0;n<m.length;n++){if(void 0===l[m[n]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(m,o){var r,l,l,p={},q=[],n=[];for(r=0;r<m.length;r++){l=m[r],p[l]=(p[l]||0)+1}for(r=0;r<o.length;r++){l=o[r],p[l]=(p[l]||0)-1}for(r=0;r<m.length;r++){l=m[r],p[l]>0&&(q.push(l),p[l]--)}for(r=0;r<o.length;r++){l=o[r],p[l]<0&&(n.push(l),p[l]++)}return{num:q,den:n}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(f);b.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),b.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),i.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(l,j,k){_classCallCheck(this,i);var m=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return m.position=l,m.stops=k,m.shape=j,m}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("center 0%"),l.push("center 100%"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(radial, "+l.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,b,f){var h=d("../Base.js"),c=d("./TypeVisitor.js"),e=d("../Output.js"),g=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(o){for(var r,l=this.output,q=o.items,p=l.output.length,t=o.separator,s=t&&t.length,k=t&&t.indexOf(" ")>-1,m=l.output,n=0;n<q.length;n++){q[n]&&(this.visit(q[n]),r=l.output.length-p,!r&&s&&n>0&&(l.output=m),m=l.output,n<q.length-1&&s&&(l.add(t),k||l.space()),p=l.output.length)}}},{key:"map",value:function(k){var m,o,p=this.output,l=k.items;this.currDeclaration&&h.raise("("+k+") isn't a valid CSS value.");for(var n=0;n<l.length-1;n+=2){m=l[n],o=l[n+1],m&&o&&(n>0&&(p.add(","),p.space()),this.visit(m),p.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new e,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(c);h.apply(g.prototype,{output:null}),b.exports=g},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(j,l,n,h){l=l||"fashion",n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+j+"s*$"),h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+j+"\\s*$");var k=this.docs;if(k&&k.length){for(var m=0;m<this.docs.length;m++){var i=k[m];if(n.test(i)){return !0}if(h.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(j,l,n,h):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(e,d,f){return d in e?Object.defineProperty(e,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):e[d]=f,e}var _get=function get(i,l,g){null===i&&(i=Function.prototype);var k=Object.getOwnPropertyDescriptor(i,l);if(void 0===k){var h=Object.getPrototypeOf(i);return null===h?void 0:get(h,l,g)}if("value" in k){return k.value}var j=k.get;if(void 0!==j){return j.call(g)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,a,j){var k,i=m("./src/export/Base.js"),n=m("./src/export/css/CssVariableManager.js"),l=new n;i.apply(i,(k={css:l,CssExport:n,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(k,"Types",m("./src/export/type/Types.js")),_defineProperty(k,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(k,"Output",m("./src/export/Output.js")),_defineProperty(k,"Runtime",m("./src/export/Runtime.js")),k)),a.exports=i},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(V,Z,P){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function W(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?W(d,c):g[e]=c):g[e]=c}}return g}function N(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function ab(c){return c&&"function"==typeof c}function R(d,c){console.log(N("[DBG] "+d,c))}function X(d,c){console.log(N("[LOG] "+d,c))}function G(d,c){console.log(N("[INF] "+d,c))}function H(d,c){console.log(N("[WRN] "+d,c))}function I(d,c){console.log(N("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function S(d,c){var e;c&&(d=N(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function T(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function U(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function L(c){return c.length&&c[c.length-1]}function M(c){return c.length>2?c.slice(1):[]}function aa(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function Y(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;aa(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function Q(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?Q(e,d-1,g):g.push(e)}return g}var O=V("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&W(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return L(this.items)}},{key:"tail",value:function(){return M(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};Z.exports={EmptyArray:[],getJsName:O.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:W,createMessage:N,isFunction:ab,debug:R,log:X,info:G,warn:H,error:I,raise:F,raiseAt:S,filter:T,convert:U,first:E,last:L,tail:M,mixin:Y,flatten:Q}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(a,B,E){var t=a("./Base.js"),A=t.Base,F=a("./type/Type.js"),v=a("./type/List.js"),x=a("./type/Bool.js"),C=a("./type/Color.js"),u=a("./type/ColorRGBA.js"),H=a("./type/Text.js"),s=a("./type/Literal.js"),w=a("./type/Statics.js"),y=a("./type/TypeVisitor.js"),G=a("./type/Types.js"),z=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(z.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var D=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:w.boxType,unbox:w.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(i,k){for(var m,j={},o=0,l=0;l<i.length;l++){var n=i[l];if(void 0!==n){if(n===!0||n===!1){j[k[o]]=n,o++}else{if(void 0===n.type){for(m in n){j[m.replace(/^\$/,"")]=n[m]}}else{m=k[o],m instanceof Array?(m=m[0],j[m]=j[m]||new v,j[m].add(n)):(j[m]=n,o++)}}}}return j},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new x(f)}},{key:"color",value:function d(f){var g=C.map[f],h=new u(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new H(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(f){f=f||this.types;for(var h,j=Object.getOwnPropertyNames(f),i=[],g=0;g<j.length;g++){h=j[g],i.push(h+" = Types."+h),i.push("__"+h+" = "+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(j){j=j||this.constructor.prototype;for(var f,h,i=[];j;){f=Object.getOwnPropertyNames(j);for(var g=0;g<f.length;g++){h=f[g],"function"==typeof j[h]&&i.push("__rt_"+h+" = __rt."+h+".bind(__rt)")}j=Object.getPrototypeOf(j)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var f,h=Object.getOwnPropertyNames(this),g=[],i=0;i<h.length;i++){f=h[i],g.push("__rt_"+f+" = __rt."+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new y(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new z(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(i,g,h){var f=this._globalScope;return g&&g.$isFashionLiteral||(g=this.box(g)),g.ast=g.ast||this.getAstNode(h),f.map[i]=g,g}},{key:"setDynamic",value:function(g,j,k){var i,h=t.getJsName(g),f=this._globalScope;return j&&j.$isFashionLiteral||(j=this.box(j)),j.ast=j.ast||this.getAstNode(k),j.$referenceName||j.$constant?(i=j.clone(),i.$previousReference=j,j=i,j.ast=this.getAstNode(k)):j.$referenceName=g,f.map[h]=j,j}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new v(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,k,h,j,f=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(j=i.getItems(),h=0;h<j.length;h++){k=j[h],k&&(k.splatSeparator=i.separator),f.push(k)}}else{f.push(i)}i&&(i.splat=void 0)}return f}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(A);t.apply(D.prototype,{box:F.box,unbox:F.unbox,Scope:z,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:G,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),B.exports=D},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(o,j,k){var a=o("../Base.js"),n=o("../Runtime.js"),m=o("../parse/ValueParser.js"),l=o("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new n}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(y){var C,e,i,x,A,d,h,B=this,D=B.getRuntime(),f=new m,g=B.variableMap;e=new D.Scope;for(x in y){C=a.getJsName(x.replace(B.nameRe,"")),0!==C.indexOf("$")&&(C="$"+C),e.put(C,f.parse(y[x]))}D._globalScope=e,D._currentScope=e;for(var z=0;z<B.calcFns.length;z++){B.calcFns[z](D)}i=new l,y={};for(x in g){A=g[x];for(var z=0;z<A.length;z++){C=A[z],d="$"+a.getJsName(C),h=e.get(d),h&&(h.$isWrapper&&(h=h.value),y[C]=i.toSource(h))}}return y}},{key:"applyVariables",value:function(g){var f=this,d=f.variableMap;for(var v in d){var e=d[v],t=document.querySelectorAll(v);if(t){for(var h=0;h<t.length;h++){for(var i=0;i<e.length;i++){var u=e[i];t[h].style.setProperty("--"+u,g[u])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return a.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var f=this,d=f.variableMap,i={};for(var v in d){var e=d[v],t=document.querySelectorAll(v);if(t){for(var g=0;g<t.length;g++){for(var h=0;h<e.length;h++){var u=e[h];i[u]=t[g].style.getPropertyValue("--"+u)}}}}return i}}]),c}();a.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),j.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,E,u){var y=x("../Base.js"),a=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),D=v.Color,A=v.Text,B=v.Numeric,z=v.List,C=v.Bool,F=v.Literal,r=v.ColorRGBA,s=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var k,j=this,f="",g=j.str,d=g.length,e=!1,h=!1,i=0;j.index<d;){if(k=g[j.index],j.index++,k<=" "&&!e&&!i){if(f.length){break}}else{if(";"===k&&!e&&!h){break}if("("===k&&i++,")"===k&&i&&i--,","===k&&!e&&!h&&!i){if(f.length){j.index--;break}return k}"\\"===k&&e?(h=1,j.index++):('"'!==k&&"'"!==k||(e?e===k&&(e=!1):e=k),h=!1,f+=k)}}return f}},{key:"parseValue",value:function(h){var i,g,f={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===h[0]||"'"===h[0]){return g=h=h.substring(1,h.length-1),new A(g,h[0])}if("true"===h){return new C((!0))}if("false"===h){return new C((!1))}if("null"===h){return F.Null}if("none"===h){return F.None}if(y.Color.map[h]){var j=D.map[h],e=new r(j[0],j[1],j[2],j[3]);return e.stringified=h,e}if(i=f.number.exec(h)){return new B(parseFloat(i[1]),i[2])}if(i=f.shortHexColor.exec(h)){return r.fromHex(i[1])}if(i=f.longHexColor.exec(h)){return r.fromHex(i[1])}if(i=f.functionCall.exec(h)){var k=i[1],d=this.parse(i[2]).items;return"hsla"===k||"hsl"===k?new s(a.unbox(d[0]),a.unbox(d[1]),a.unbox(d[2]),a.unbox(d[3])||1):"rgba"===k||"rgb"===k?new r(a.unbox(d[0]),a.unbox(d[1]),a.unbox(d[2]),a.unbox(d[3])||1):new t(k,d)}return(i=f.parenList.exec(h))?new t(this.parse(i[1])):new y.Literal(h)}},{key:"parse",value:function(g){var j,i=this,h=[],e=[],f=null;for(i.str=g,i.index=0;j=i._advance();){h.push(j)}for(var d=0;d<h.length;d++){j=h[d].trim(),","===h[d+1]?(f=f||[],f.push(i.parseValue(j)),d++):f?(f.push(i.parseValue(j)),e.push(new z(f,", ")),f=null):e.push(i.parseValue(j))}return 1===e.length?e[0]:new z(e," ")}}]),c}();E.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(o,n,m){var j=o("../Base.js"),p=o("./Type.js"),k=o("./Bool.js"),a=o("./Numeric.js"),l=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return k.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(e,g){var f,h=c.units[g],i=c.types[g],r=c.comps[g];return f="hsla"==i?e.getHSLA():e.getRGBA(),new a(f[r],h)}},{key:"adjust",value:function(e,g,i){var f=e.getHSLA().copy(),h=c.comps[g],r=i.value;return f[h]+=r,f.h=c.constrainDegrees(f.h),f.s=c.constrainPercentage(f.s),f.l=c.constrainPercentage(f.l),f.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);j.apply(l,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),j.apply(l.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),n.exports=l},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,n){var k=m("../Base.js"),j=m("./Color.js"),i=m("./ColorRGBA.js"),l=function(c){function d(e,f,g,h){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=j.constrainDegrees(e),p.s=f,p.l=g,void 0!==h&&(p.a=h),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return i.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(e,f,g,h){return new d(j.constrainDegrees(this.h+e),j.constrainPercentage(this.s+f),j.constrainPercentage(this.l+g),j.constrainAlpha(this.a*h))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=j.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=j.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var r=g.r/255,y=g.g/255,A=g.b/255,h=g.a,z=Math.max(r,y,A),f=Math.min(r,y,A),x=z-f,e=0,s=0,B=0.5*(z+f);return f!=z&&(s=B<0.5?x/(z+f):x/(2-z-f),e=r==z?60*(y-A)/x:y==z?120+60*(A-r)/x:240+60*(r-y)/x,e<0&&(e+=360),e>=360&&(e-=360)),new d(j.constrainDegrees(e),j.constrainPercentage(100*s),j.constrainPercentage(100*B),h)}}]),d}(j);i.prototype.getHSLA=function(){return l.fromRGBA(this)},k.apply(l.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=l},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,n){function l(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var k=m("../Base.js"),j=m("./Color.js"),i=function(d){function c(f,g,e,h){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,f)),p.g=Math.min(255,Math.max(0,g)),p.b=Math.min(255,Math.max(0,e)),void 0!==h&&(p.a=Math.min(1,Math.max(0,h))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,s=e(h.r),f=e(h.g),r=e(h.b),g=h.a,t="";return t=1===g?"#"+l(s)+l(f)+l(r):"rgba("+s+", "+f+", "+r+", "+g+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var g=this,h=Math.round,q=h(g.r),e=h(g.g),r=h(g.b),f=h(255*g.a);return"#"+l(f)+l(q)+l(e)+l(r)}},{key:"add",value:function(f,g,e,h){return new c(this.r+f,this.g+g,this.b+e,this.a*h)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(f){"#"==f.charAt(0)&&(f=f.substr(1));var g,h,e;3===f.length?(g=parseInt(f.charAt(0),16),h=parseInt(f.charAt(1),16),e=parseInt(f.charAt(2),16),g=(g<<4)+g,h=(h<<4)+h,e=(e<<4)+e):(g=parseInt(f.substring(0,2),16),h=parseInt(f.substring(2,4),16),e=parseInt(f.substring(4,6),16));var p=new c(g,h,e);return c.preserveInputStrings&&(p.stringified="#"+f),p}},{key:"fromHSLA",value:function(y){function f(o){return o<0&&++o,o>1&&--o,6*o<1?r+(s-r)*o*6:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r}if(y.$isFashionRGBA){return y.clone()}var h=y,B=h.h/360,D=h.s/100,z=h.l/100,g=h.a,s=z<=0.5?z*(D+1):z+D-z*D,r=2*z-s,C=j.constrainChannel(255*f(B+1/3)),A=j.constrainChannel(255*f(B)),e=j.constrainChannel(255*f(B-1/3));return new c(C,A,e,g)}}]),c}(j);k.apply(i,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),k.apply(i.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new i(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new i(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=i,function(t,x,e,v){var c,h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],u=Object.keys(e);for(u.sort(),c=0;c<u.length;c++){var g=u[c],f=e[g],d=new t(f[0],f[1],f[2],f[3]),w=d.stringify();x[w]=g}h.forEach(function(p){var o=p+p;h.forEach(function(r){var q=r+r;h.forEach(function(F){var D=F+F,C="#"+p+r+F,E="#"+o+q+D;if(v[E]){var s=v[E];C=s.length>C.length?C:s}v[E]=C})})})}(i,i.stringifiedMap,j.map,i.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,a,j){var i=m("../Base.js"),k=m("./Type.js"),l=m("./Numeric.js"),n=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new l(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(k);i.apply(n.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),a.exports=n},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,a,k){var n=m("../Base.js"),j=m("./Type.js"),l=m("./List.js"),i=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new l(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(j);n.apply(i.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),a.exports=i},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("top"),f.push("bottom"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(linear, "+f.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var e=this.items,f=e.length,n=[],g=0;g<f;g++){n.push(e[g].clone())}return new c(n,this.separator)}},{key:"clone",value:function(e,r){if(r&&this.matches(e)){return r.clone()}for(var g=this.items,s=g.length,f=[],q=0;q<s;q++){f.push(g[q].clone(e,r))}var t=new c(f,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(g){for(var f=[],e=0;e<this.items.length;e++){var n=this.items[e];n&&f.push(n.toPrefixedString(g))}return f.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(n,j,o){var a=n("../Base.js"),m=n("./Type.js"),k=n("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=m.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=m.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new k(f+1)}}},{key:"insert",value:function(h,f){var g=m.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(m);a.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var l=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);a.apply(l.prototype,{$isFashionNull:!0,$constant:!0}),l.prototype.$isFashionNull=!0,p.Null=new l(null),p.None=new p("none"),j.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(o,q,m){var s=o("../Base.js"),a=o("./List.js"),t=o("./Type.js"),n=o("./Literal.js"),l=n.Null,p=o("./Numeric.js"),r=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof p&&(e=t.unbox(e)),"number"==typeof e?new a([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||l)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(a);s.apply(r.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),q.exports=r},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(n,j,o){var a=n("../Base.js"),m=n("./Type.js"),k=n("./Bool.js"),p=n("./Literal.js"),l=function(c){function d(h,i,g,e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=h,f.unit=i,i&&!g?f.numeratorUnits=[i]:f.numeratorUnits=g||[],f.denominatorUnits=e||[],f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(e,g){var f;this.unit||g.unit;return g.$isFashionRGBA||g.$isFashionHSLA?new p(this+e+g):g.$isFashionNumber?this.numericOperate(e,g):g.$isFashionLiteral&&(f=this.tryCoerce(g))?this.performOperation(e,f):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,e,g)}},{key:"tryNormalize",value:function(e){var f=e.value,g=e.unit;if(e.$isFashionNumber){switch(this.unit){case"mm":switch(g){case"in":return new d(25.4*f,"mm");case"cm":return new d(2.54*f,"mm")}break;case"cm":switch(g){case"in":return new d(2.54*f,"cm");case"mm":return new d(f/10,"cm")}break;case"in":switch(g){case"mm":return new d(f/25.4,"in");case"cm":return new d(f/2.54,"in")}break;case"ms":switch(g){case"s":return new d(1000*f,"ms")}break;case"s":switch(g){case"ms":return new d(f/1000,"s")}break;case"Hz":switch(g){case"kHz":return new d(1000*f,"Hz")}break;case"kHz":switch(g){case"Hz":return new d(f/1000,"kHz")}break;case"%":switch(g){default:return new d(f)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(e){var f=this.unit,g=e.unit;return !!e.$isFashionNumber&&(f===g||"mm"===f&&("in"===g||"cm"===g)||"cm"===f&&("in"===g||"mm"===g)||"in"===f&&("mm"===g||"cm"===g)||"ms"===f&&"s"===g||"s"===f&&"ms"===g||"Hz"===f&&"kHz"===g||"kHz"===f&&"Hz"===g)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=a.filter(e.num,function(f){return !!f}),e.den=a.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(i,y){this.normalizeUnits(),y.normalizeUnits();var x,z=this,e=y,v=d.OPERATIONS,w=d.NON_COERCE_OPERATIONS,h=v[i];if(h){try{z.unitless()?z=z.coerceUnits(e.numeratorUnits,e.denominatorUnits):e=e.coerceUnits(z.numeratorUnits,z.denominatorUnits)}catch(f){if("=="==i){return k.False}if("!="==i){return k.True}throw f}}else{h=w[i]}if(h&&(x=h(z.value,e.value)),"number"==typeof x){var g=this.computeUnits(z,e,i);return new d(x,g.num.length?g.num[0]:null,g.num,g.den)}return new k(x)}},{key:"computeUnits",value:function(g,e,f){switch(f){case"*":return{num:g.numeratorUnits.slice().concat(e.numeratorUnits),den:g.denominatorUnits.slice().concat(e.denominatorUnits)};case"/":return{num:g.numeratorUnits.slice().concat(e.denominatorUnits),den:g.denominatorUnits.slice().concat(e.numeratorUnits)};default:return{num:g.numeratorUnits,den:g.denominatorUnits}}}},{key:"coerceUnits",value:function(e,g){var f=this.value;return this.unitless()||(f=f*this.coercionFactor(this.numeratorUnits,e)/this.coercionFactor(this.denominatorUnits,g)),new d(f,e&&e[0],e,g)}},{key:"coercionFactor",value:function(e,v){var z=this.removeCommonUnits(e,v),x=z.num,h=z.den;x.length===h.length&&this.convertable(x||h)||a.raise("Incompatible units: "+x.join("*")+" and "+h.join("*"));for(var f=0;f<x.length;f++){for(var i=x[f],g=0;g<h.length;g++){var w=h[g],y=this.conversionFactor(i,w);if(null!==y){return y}}}return 1}},{key:"conversionFactor",value:function(h,i){var g=d.CONVERTABLE_UNITS,f=d.CONVERSION_TABLE,e=null;return g[h]&&g[i]&&(e=f[g[h]][g[i]]),null===e&&g[i]&&g[h]&&(e=1/f[g[i]][g[h]]),e}},{key:"convertable",value:function(e){if(e&&!Array.isArray(e)&&(e=[e]),e&&e.length){for(var f=d.CONVERTABLE_UNITS,g=0;g<e.length;g++){if(void 0===f[e[g]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(e,s){var g,f,f,i={},h=[],t=[];for(g=0;g<e.length;g++){f=e[g],i[f]=(i[f]||0)+1}for(g=0;g<s.length;g++){f=s[g],i[f]=(i[f]||0)-1}for(g=0;g<e.length;g++){f=e[g],i[f]>0&&(h.push(f),i[f]--)}for(g=0;g<s.length;g++){f=s[g],i[f]<0&&(t.push(f),i[f]++)}return{num:h,den:t}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(m);a.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),a.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),j.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(f,n,g){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=f,e.stops=g,e.shape=n,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("center 0%"),f.push("center 100%"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(radial, "+f.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,a,k){var i=m("../Base.js"),n=m("./TypeVisitor.js"),l=m("../Output.js"),j=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(h){for(var e,w=this.output,f=h.items,g=w.output.length,y=h.separator,z=y&&y.length,x=y&&y.indexOf(" ")>-1,v=w.output,u=0;u<f.length;u++){f[u]&&(this.visit(f[u]),e=w.output.length-g,!e&&z&&u>0&&(w.output=v),v=w.output,u<f.length-1&&z&&(w.add(y),x||w.space()),g=w.output.length)}}},{key:"map",value:function(g){var e,q,h=this.output,f=g.items;this.currDeclaration&&i.raise("("+g+") isn't a valid CSS value.");for(var r=0;r<f.length-1;r+=2){e=f[r],q=f[r+1],e&&q&&(r>0&&(h.add(","),h.space()),this.visit(e),h.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new l,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(n);i.apply(j.prototype,{output:null}),a.exports=j},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(o,e,r,q){e=e||"fashion",r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+o+"s*$"),q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+o+"\\s*$");var f=this.docs;if(f&&f.length){for(var d=0;d<this.docs.length;d++){var p=f[d];if(r.test(p)){return !0}if(q.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(o,e,r,q):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(b,c,a){return c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a,b}var _get=function get(d,a,f){null===d&&(d=Function.prototype);var b=Object.getOwnPropertyDescriptor(d,a);if(void 0===b){var e=Object.getPrototypeOf(d);return null===e?void 0:get(e,a,f)}if("value" in b){return b.value}var c=b.get;if(void 0!==c){return c.call(f)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,f){var e,g=b("./src/export/Base.js"),h=b("./src/export/css/CssVariableManager.js"),c=new h;g.apply(g,(e={css:c,CssExport:h,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(e,"Types",b("./src/export/type/Types.js")),_defineProperty(e,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(e,"Output",b("./src/export/Output.js")),_defineProperty(e,"Runtime",b("./src/export/Runtime.js")),e)),d.exports=g},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(f,b,l){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function e(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?e(F,G):C[E]=G):C[E]=G}}return C}function n(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function A(C){return C&&"function"==typeof C}function j(C,D){console.log(n("[DBG] "+C,D))}function d(C,D){console.log(n("[LOG] "+C,D))}function u(C,D){console.log(n("[INF] "+C,D))}function t(C,D){console.log(n("[WRN] "+C,D))}function s(C,D){console.log(n("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function i(D,E){var C;E&&(D=n(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function h(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function g(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function p(C){return C.length&&C[C.length-1]}function o(C){return C.length>2?C.slice(1):[]}function B(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function c(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;B(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function k(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?k(E,F-1,C):C.push(E)}return C}var m=f("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&e(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return p(this.items)}},{key:"tail",value:function(){return o(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};b.exports={EmptyArray:[],getJsName:m.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:e,createMessage:n,isFunction:A,debug:j,log:d,info:u,warn:t,error:s,raise:v,raiseAt:i,filter:h,convert:g,first:w,last:p,tail:o,mixin:c,flatten:k}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(h,d,r){var p=h("./Base.js"),e=p.Base,o=h("./type/Type.js"),l=h("./type/List.js"),i=h("./type/Bool.js"),c=h("./type/Color.js"),n=h("./type/ColorRGBA.js"),k=h("./type/Text.js"),q=h("./type/Literal.js"),j=h("./type/Statics.js"),g=h("./type/TypeVisitor.js"),m=h("./type/Types.js"),f=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(f.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var b=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:j.boxType,unbox:j.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(C,A){for(var y,B={},D=0,z=0;z<C.length;z++){var E=C[z];if(void 0!==E){if(E===!0||E===!1){B[A[D]]=E,D++}else{if(void 0===E.type){for(y in E){B[y.replace(/^\$/,"")]=E[y]}}else{y=A[D],y instanceof Array?(y=y[0],B[y]=B[y]||new l,B[y].add(E)):(B[y]=E,D++)}}}}return B},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new i(v)}},{key:"color",value:function t(x){var w=c.map[x],v=new n(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new k(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(z){z=z||this.types;for(var x,v=Object.getOwnPropertyNames(z),w=[],y=0;y<v.length;y++){x=v[y],w.push(x+" = Types."+x),w.push("__"+x+" = "+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(v){v=v||this.constructor.prototype;for(var z,x,w=[];v;){z=Object.getOwnPropertyNames(v);for(var y=0;y<z.length;y++){x=z[y],"function"==typeof v[x]&&w.push("__rt_"+x+" = __rt."+x+".bind(__rt)")}v=Object.getPrototypeOf(v)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var y,w=Object.getOwnPropertyNames(this),x=[],v=0;v<w.length;v++){y=w[v],x.push("__rt_"+y+" = __rt."+y)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new g(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new f(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(v,x,w){var y=this._globalScope;return x&&x.$isFashionLiteral||(x=this.box(x)),x.ast=x.ast||this.getAstNode(w),y.map[v]=x,x}},{key:"setDynamic",value:function(z,w,v){var x,y=p.getJsName(z),A=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),w.$referenceName||w.$constant?(x=w.clone(),x.$previousReference=w,w=x,w.ast=this.getAstNode(v)):w.$referenceName=z,A.map[y]=w,w}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new l(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,w,z,x,B=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(x=y.getItems(),z=0;z<x.length;z++){w=x[z],w&&(w.splatSeparator=y.separator),B.push(w)}}else{B.push(y)}y&&(y.splat=void 0)}return B}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(e);p.apply(b.prototype,{box:o.box,unbox:o.unbox,Scope:f,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:m,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),d.exports=b},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(h,f,e){var d=h("../Base.js"),i=h("../Runtime.js"),b=h("../parse/ValueParser.js"),c=h("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new i}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(v){var l,s,o,w,n,t,p,m=this,k=m.getRuntime(),r=new b,q=m.variableMap;s=new k.Scope;for(w in v){l=d.getJsName(w.replace(m.nameRe,"")),0!==l.indexOf("$")&&(l="$"+l),s.put(l,r.parse(v[w]))}k._globalScope=s,k._currentScope=s;for(var u=0;u<m.calcFns.length;u++){m.calcFns[u](k)}o=new c,v={};for(w in q){n=q[w];for(var u=0;u<n.length;u++){l=n[u],t="$"+d.getJsName(l),p=s.get(t),p&&(p.$isWrapper&&(p=p.value),v[l]=o.toSource(p))}}return v}},{key:"applyVariables",value:function(m){var n=this,p=n.variableMap;for(var q in p){var o=p[q],s=document.querySelectorAll(q);if(s){for(var l=0;l<s.length;l++){for(var k=0;k<o.length;k++){var r=o[k];s[l].style.setProperty("--"+r,m[r])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return d.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var n=this,p=n.variableMap,k={};for(var q in p){var o=p[q],s=document.querySelectorAll(q);if(s){for(var m=0;m<s.length;m++){for(var l=0;l<o.length;l++){var r=o[l];k[r]=s[m].style.getPropertyValue("--"+r)}}}}return k}}]),j}();d.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),f.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,q,m){var h=j("../Base.js"),i=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),c=l.Color,f=l.Text,e=l.Numeric,g=l.List,d=l.Bool,o=l.Literal,b=l.ColorRGBA,p=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var s,t=this,x="",w=t.str,z=w.length,y=!1,v=!1,u=0;t.index<z;){if(s=w[t.index],t.index++,s<=" "&&!y&&!u){if(x.length){break}}else{if(";"===s&&!y&&!v){break}if("("===s&&u++,")"===s&&u&&u--,","===s&&!y&&!v&&!u){if(x.length){t.index--;break}return s}"\\"===s&&y?(v=1,t.index++):('"'!==s&&"'"!==s||(y?y===s&&(y=!1):y=s),v=!1,x+=s)}}return x}},{key:"parseValue",value:function(v){var u,w,x={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===v[0]||"'"===v[0]){return w=v=v.substring(1,v.length-1),new f(w,v[0])}if("true"===v){return new d((!0))}if("false"===v){return new d((!1))}if("null"===v){return o.Null}if("none"===v){return o.None}if(h.Color.map[v]){var t=c.map[v],y=new b(t[0],t[1],t[2],t[3]);return y.stringified=v,y}if(u=x.number.exec(v)){return new e(parseFloat(u[1]),u[2])}if(u=x.shortHexColor.exec(v)){return b.fromHex(u[1])}if(u=x.longHexColor.exec(v)){return b.fromHex(u[1])}if(u=x.functionCall.exec(v)){var s=u[1],z=this.parse(u[2]).items;return"hsla"===s||"hsl"===s?new p(i.unbox(z[0]),i.unbox(z[1]),i.unbox(z[2]),i.unbox(z[3])||1):"rgba"===s||"rgb"===s?new b(i.unbox(z[0]),i.unbox(z[1]),i.unbox(z[2]),i.unbox(z[3])||1):new n(s,z)}return(u=x.parenList.exec(v))?new n(this.parse(u[1])):new h.Literal(v)}},{key:"parse",value:function(v){var s,t=this,u=[],x=[],w=null;for(t.str=v,t.index=0;s=t._advance();){u.push(s)}for(var y=0;y<u.length;y++){s=u[y].trim(),","===u[y+1]?(w=w||[],w.push(t.parseValue(s)),y++):w?(w.push(t.parseValue(s)),x.push(new g(w,", ")),w=null):x.push(t.parseValue(s))}return 1===x.length?x[0]:new g(x," ")}}]),r}();q.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(h,i,b){var f=h("../Base.js"),g=h("./Type.js"),e=h("./Bool.js"),d=h("./Numeric.js"),c=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return e.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(q,o){var p,m=k.units[o],l=k.types[o],n=k.comps[o];return p="hsla"==l?q.getHSLA():q.getRGBA(),new d(p[n],m)}},{key:"adjust",value:function(q,o,l){var p=q.getHSLA().copy(),m=k.comps[o],n=l.value;return p[m]+=n,p.h=k.constrainDegrees(p.h),p.s=k.constrainPercentage(p.s),p.l=k.constrainPercentage(p.l),p.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);f.apply(c,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),f.apply(c.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),i.exports=c},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,h){var e=b("../Base.js"),f=b("./Color.js"),g=b("./ColorRGBA.js"),c=function(j){function i(o,m,l,k){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=f.constrainDegrees(o),n.s=m,n.l=l,void 0!==k&&(n.a=k),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return g.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(n,m,l,k){return new i(f.constrainDegrees(this.h+n),f.constrainPercentage(this.s+m),f.constrainPercentage(this.l+l),f.constrainAlpha(this.a*k))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=f.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=f.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var k=o.r/255,u=o.g/255,m=o.b/255,n=o.a,t=Math.max(k,u,m),p=Math.min(k,u,m),v=t-p,q=0,w=0,l=0.5*(t+p);return p!=t&&(w=l<0.5?v/(t+p):v/(2-t-p),q=k==t?60*(u-m)/v:u==t?120+60*(m-k)/v:240+60*(k-u)/v,q<0&&(q+=360),q>=360&&(q-=360)),new i(f.constrainDegrees(q),f.constrainPercentage(100*w),f.constrainPercentage(100*l),n)}}]),i}(f);g.prototype.getHSLA=function(){return c.fromRGBA(this)},e.apply(c.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=c},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,h){function c(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var e=b("../Base.js"),f=b("./Color.js"),g=function(i){function j(m,l,o,k){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,m)),n.g=Math.min(255,Math.max(0,l)),n.b=Math.min(255,Math.max(0,o)),void 0!==k&&(n.a=Math.min(1,Math.max(0,k))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,l=q(m.r),p=q(m.g),o=q(m.b),n=m.a,k="";return k=1===n?"#"+c(l)+c(p)+c(o):"rgba("+l+", "+p+", "+o+", "+n+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var m=this,k=Math.round,o=k(m.r),p=k(m.g),l=k(m.b),n=k(255*m.a);return"#"+c(n)+c(o)+c(p)+c(l)}},{key:"add",value:function(m,l,n,k){return new j(this.r+m,this.g+l,this.b+n,this.a*k)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(m){"#"==m.charAt(0)&&(m=m.substr(1));var l,k,o;3===m.length?(l=parseInt(m.charAt(0),16),k=parseInt(m.charAt(1),16),o=parseInt(m.charAt(2),16),l=(l<<4)+l,k=(k<<4)+k,o=(o<<4)+o):(l=parseInt(m.substring(0,2),16),k=parseInt(m.substring(2,4),16),o=parseInt(m.substring(4,6),16));var n=new j(l,k,o);return j.preserveInputStrings&&(n.stringified="#"+m),n}},{key:"fromHSLA",value:function(w){function t(r){return r<0&&++r,r>1&&--r,6*r<1?k+(x-k)*r*6:2*r<1?x:3*r<2?k+(x-k)*(2/3-r)*6:k}if(w.$isFashionRGBA){return w.clone()}var p=w,n=p.h/360,l=p.s/100,v=p.l/100,q=p.a,x=v<=0.5?v*(l+1):v+l-v*l,k=2*v-x,m=f.constrainChannel(255*t(n+1/3)),o=f.constrainChannel(255*t(n)),u=f.constrainChannel(255*t(n-1/3));return new j(m,o,u,q)}}]),j}(f);e.apply(g,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),e.apply(g.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new g(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new g(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=g,function(s,o,l,q){var n,i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=Object.keys(l);for(r.sort(),n=0;n<r.length;n++){var j=r[n],k=l[j],m=new s(k[0],k[1],k[2],k[3]),p=m.stringify();o[p]=j}i.forEach(function(t){var u=t+t;i.forEach(function(v){var w=v+v;i.forEach(function(y){var A=y+y,B="#"+t+v+y,z="#"+u+w+A;if(q[z]){var x=q[z];B=x.length>B.length?B:x}q[z]=B})})})}(g,g.stringifiedMap,f.map,g.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,f){var g=b("../Base.js"),e=b("./Type.js"),c=b("./Numeric.js"),h=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new c(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(e);g.apply(h.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=h},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,d,e){var h=b("../Base.js"),f=b("./Type.js"),c=b("./List.js"),g=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new c(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(f);h.apply(g.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),d.exports=g},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("top"),k.push("bottom"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(linear, "+k.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var l=this.items,k=l.length,m=[],j=0;j<k;j++){m.push(l[j].clone())}return new i(m,this.separator)}},{key:"clone",value:function(p,m){if(m&&this.matches(p)){return m.clone()}for(var l=this.items,k=l.length,o=[],n=0;n<k;n++){o.push(l[n].clone(p,m))}var j=new i(o,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(j){for(var k=[],l=0;l<this.items.length;l++){var m=this.items[l];m&&k.push(m.toPrefixedString(j))}return k.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(i,f,h){var d=i("../Base.js"),b=i("./Type.js"),e=i("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=b.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=b.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new e(l+1)}}},{key:"insert",value:function(l,n){var m=b.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(b);d.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);d.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),f.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(e,c,g){var k=e("../Base.js"),i=e("./List.js"),j=e("./Type.js"),f=e("./Literal.js"),h=f.Null,d=e("./Numeric.js"),b=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof d&&(n=j.unbox(n)),"number"==typeof n?new i([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||h)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(i);k.apply(b.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),c.exports=b},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(i,f,h){var d=i("../Base.js"),b=i("./Type.js"),e=i("./Bool.js"),g=i("./Literal.js"),c=function(k){function j(m,l,n,p){_classCallCheck(this,j);var o=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return o.value=m,o.unit=l,l&&!n?o.numeratorUnits=[l]:o.numeratorUnits=n||[],o.denominatorUnits=p||[],o}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(n,l){var m;this.unit||l.unit;return l.$isFashionRGBA||l.$isFashionHSLA?new g(this+n+l):l.$isFashionNumber?this.numericOperate(n,l):l.$isFashionLiteral&&(m=this.tryCoerce(l))?this.performOperation(n,m):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,n,l)}},{key:"tryNormalize",value:function(n){var m=n.value,l=n.unit;if(n.$isFashionNumber){switch(this.unit){case"mm":switch(l){case"in":return new j(25.4*m,"mm");case"cm":return new j(2.54*m,"mm")}break;case"cm":switch(l){case"in":return new j(2.54*m,"cm");case"mm":return new j(m/10,"cm")}break;case"in":switch(l){case"mm":return new j(m/25.4,"in");case"cm":return new j(m/2.54,"in")}break;case"ms":switch(l){case"s":return new j(1000*m,"ms")}break;case"s":switch(l){case"ms":return new j(m/1000,"s")}break;case"Hz":switch(l){case"kHz":return new j(1000*m,"Hz")}break;case"kHz":switch(l){case"Hz":return new j(m/1000,"kHz")}break;case"%":switch(l){default:return new j(m)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(n){var m=this.unit,l=n.unit;return !!n.$isFashionNumber&&(m===l||"mm"===m&&("in"===l||"cm"===l)||"cm"===m&&("in"===l||"mm"===l)||"in"===m&&("mm"===l||"cm"===l)||"ms"===m&&"s"===l||"s"===m&&"ms"===l||"Hz"===m&&"kHz"===l||"kHz"===m&&"Hz"===l)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=d.filter(l.num,function(m){return !!m}),l.den=d.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(l,r){this.normalizeUnits(),r.normalizeUnits();var s,q=this,p=r,u=j.OPERATIONS,t=j.NON_COERCE_OPERATIONS,m=u[l];if(m){try{q.unitless()?q=q.coerceUnits(p.numeratorUnits,p.denominatorUnits):p=p.coerceUnits(q.numeratorUnits,q.denominatorUnits)}catch(o){if("=="==l){return e.False}if("!="==l){return e.True}throw o}}else{m=t[l]}if(m&&(s=m(q.value,p.value)),"number"==typeof s){var n=this.computeUnits(q,p,l);return new j(s,n.num.length?n.num[0]:null,n.num,n.den)}return new e(s)}},{key:"computeUnits",value:function(l,n,m){switch(m){case"*":return{num:l.numeratorUnits.slice().concat(n.numeratorUnits),den:l.denominatorUnits.slice().concat(n.denominatorUnits)};case"/":return{num:l.numeratorUnits.slice().concat(n.denominatorUnits),den:l.denominatorUnits.slice().concat(n.numeratorUnits)};default:return{num:l.numeratorUnits,den:l.denominatorUnits}}}},{key:"coerceUnits",value:function(n,l){var m=this.value;return this.unitless()||(m=m*this.coercionFactor(this.numeratorUnits,n)/this.coercionFactor(this.denominatorUnits,l)),new j(m,n&&n[0],n,l)}},{key:"coercionFactor",value:function(p,u){var q=this.removeCommonUnits(p,u),s=q.num,m=q.den;s.length===m.length&&this.convertable(s||m)||d.raise("Incompatible units: "+s.join("*")+" and "+m.join("*"));for(var o=0;o<s.length;o++){for(var l=s[o],n=0;n<m.length;n++){var t=m[n],r=this.conversionFactor(l,t);if(null!==r){return r}}}return 1}},{key:"conversionFactor",value:function(m,l){var n=j.CONVERTABLE_UNITS,o=j.CONVERSION_TABLE,p=null;return n[m]&&n[l]&&(p=o[n[m]][n[l]]),null===p&&n[l]&&n[m]&&(p=1/o[n[l]][n[m]]),p}},{key:"convertable",value:function(n){if(n&&!Array.isArray(n)&&(n=[n]),n&&n.length){for(var m=j.CONVERTABLE_UNITS,l=0;l<n.length;l++){if(void 0===m[n[l]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(r,o){var p,q,q,m={},n=[],l=[];for(p=0;p<r.length;p++){q=r[p],m[q]=(m[q]||0)+1}for(p=0;p<o.length;p++){q=o[p],m[q]=(m[q]||0)-1}for(p=0;p<r.length;p++){q=r[p],m[q]>0&&(n.push(q),m[q]--)}for(p=0;p<o.length;p++){q=o[p],m[q]<0&&(l.push(q),m[q]++)}return{num:n,den:l}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(b);d.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),d.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),f.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(k,m,j){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=k,l.stops=j,l.shape=m,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("center 0%"),k.push("center 100%"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(radial, "+k.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,d,e){var g=b("../Base.js"),h=b("./TypeVisitor.js"),c=b("../Output.js"),f=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(k){for(var n,r=this.output,m=k.items,l=r.output.length,p=k.separator,o=p&&p.length,q=p&&p.indexOf(" ")>-1,s=r.output,t=0;t<m.length;t++){m[t]&&(this.visit(m[t]),n=r.output.length-l,!n&&o&&t>0&&(r.output=s),s=r.output,t<m.length-1&&o&&(r.add(p),q||r.space()),l=r.output.length)}}},{key:"map",value:function(m){var p,o,k=this.output,n=m.items;this.currDeclaration&&g.raise("("+m+") isn't a valid CSS value.");for(var l=0;l<n.length-1;l+=2){p=n[l],o=n[l+1],p&&o&&(l>0&&(k.add(","),k.space()),this.visit(p),k.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new c,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(h);g.apply(f.prototype,{output:null}),d.exports=f},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(n,l,h,j){l=l||"fashion",h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+n+"s*$"),j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+n+"\\s*$");var i=this.docs;if(i&&i.length){for(var m=0;m<this.docs.length;m++){var k=i[m];if(h.test(k)){return !0}if(j.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(n,l,h,j):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(d,f,e){return f in d?Object.defineProperty(d,f,{value:e,enumerable:!0,configurable:!0,writable:!0}):d[f]=e,d}var _get=function get(k,h,i){null===k&&(k=Function.prototype);var g=Object.getOwnPropertyDescriptor(k,h);if(void 0===g){var j=Object.getPrototypeOf(k);return null===j?void 0:get(j,h,i)}if("value" in g){return g.value}var l=g.get;if(void 0!==l){return l.call(i)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,m,k){var l,j=a("./src/export/Base.js"),i=a("./src/export/css/CssVariableManager.js"),n=new i;j.apply(j,(l={css:n,CssExport:i,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(l,"Types",a("./src/export/type/Types.js")),_defineProperty(l,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(l,"Output",a("./src/export/Output.js")),_defineProperty(l,"Runtime",a("./src/export/Runtime.js")),l)),m.exports=j},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(X,ab,R){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function Y(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?Y(d,c):g[e]=c):g[e]=c}}return g}function P(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function N(c){return c&&"function"==typeof c}function T(d,c){console.log(P("[DBG] "+d,c))}function Z(d,c){console.log(P("[LOG] "+d,c))}function G(d,c){console.log(P("[INF] "+d,c))}function H(d,c){console.log(P("[WRN] "+d,c))}function I(d,c){console.log(P("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function U(d,c){var e;c&&(d=P(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function V(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function W(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function M(c){return c.length&&c[c.length-1]}function O(c){return c.length>2?c.slice(1):[]}function L(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function aa(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;L(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function S(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?S(e,d-1,g):g.push(e)}return g}var Q=X("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&Y(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return M(this.items)}},{key:"tail",value:function(){return O(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};ab.exports={EmptyArray:[],getJsName:Q.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:Y,createMessage:P,isFunction:N,debug:T,log:Z,info:G,warn:H,error:I,raise:F,raiseAt:U,filter:V,convert:W,first:E,last:M,tail:O,mixin:aa,flatten:S}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(B,F,a){var t=B("./Base.js"),E=t.Base,u=B("./type/Type.js"),x=B("./type/List.js"),A=B("./type/Bool.js"),G=B("./type/Color.js"),v=B("./type/ColorRGBA.js"),y=B("./type/Text.js"),s=B("./type/Literal.js"),z=B("./type/Statics.js"),C=B("./type/TypeVisitor.js"),w=B("./type/Types.js"),D=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(D.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var H=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:z.boxType,unbox:z.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(m,i){for(var o,n={},k=0,l=0;l<m.length;l++){var j=m[l];if(void 0!==j){if(j===!0||j===!1){n[i[k]]=j,k++}else{if(void 0===j.type){for(o in j){n[o.replace(/^\$/,"")]=j[o]}}else{o=i[k],o instanceof Array?(o=o[0],n[o]=n[o]||new x,n[o].add(j)):(n[o]=j,k++)}}}}return n},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new A(f)}},{key:"color",value:function d(f){var g=G.map[f],h=new v(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new y(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(i){i=i||this.types;for(var f,h=Object.getOwnPropertyNames(i),g=[],j=0;j<h.length;j++){f=h[j],g.push(f+" = Types."+f),g.push("__"+f+" = "+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(h){h=h||this.constructor.prototype;for(var i,f,g=[];h;){i=Object.getOwnPropertyNames(h);for(var j=0;j<i.length;j++){f=i[j],"function"==typeof h[f]&&g.push("__rt_"+f+" = __rt."+f+".bind(__rt)")}h=Object.getPrototypeOf(h)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var i,g=Object.getOwnPropertyNames(this),f=[],h=0;h<g.length;h++){i=g[h],f.push("__rt_"+i+" = __rt."+i)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new C(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new D(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(h,f,g){var i=this._globalScope;return f&&f.$isFashionLiteral||(f=this.box(f)),f.ast=f.ast||this.getAstNode(g),i.map[h]=f,f}},{key:"setDynamic",value:function(j,h,i){var g,k=t.getJsName(j),f=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),h.$referenceName||h.$constant?(g=h.clone(),g.$previousReference=h,h=g,h.ast=this.getAstNode(i)):h.$referenceName=j,f.map[k]=h,h}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new x(m,k)}},{key:"applySplatArgs",value:function(g){var l,i,h,j,f,k=[];for(i=0;i<g.length;i++){if(l=g[i],l&&l.splat&&l.$isFashionList){for(f=l.getItems(),j=0;j<f.length;j++){h=f[j],h&&(h.splatSeparator=l.separator),k.push(h)}}else{k.push(l)}l&&(l.splat=void 0)}return k}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(E);t.apply(H.prototype,{box:u.box,unbox:u.unbox,Scope:D,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:w,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),F.exports=H},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(k,m,n){var o=k("../Base.js"),j=k("../Runtime.js"),a=k("../parse/ValueParser.js"),p=k("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new j}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(A){var x,D,g,z,h,C,f,i=this,y=i.getRuntime(),d=new a,e=i.variableMap;D=new y.Scope;for(z in A){x=o.getJsName(z.replace(i.nameRe,"")),0!==x.indexOf("$")&&(x="$"+x),D.put(x,d.parse(A[z]))}y._globalScope=D,y._currentScope=D;for(var B=0;B<i.calcFns.length;B++){i.calcFns[B](y)}g=new p,A={};for(z in e){h=e[z];for(var B=0;B<h.length;B++){x=h[B],C="$"+o.getJsName(x),f=D.get(C),f&&(f.$isWrapper&&(f=f.value),A[x]=g.toSource(f))}}return A}},{key:"applyVariables",value:function(i){var h=this,f=h.variableMap;for(var e in f){var g=f[e],v=document.querySelectorAll(e);if(v){for(var t=0;t<v.length;t++){for(var u=0;u<g.length;u++){var d=g[u];v[t].style.setProperty("--"+d,i[d])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return o.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var h=this,f=h.variableMap,u={};for(var e in f){var g=f[e],v=document.querySelectorAll(e);if(v){for(var i=0;i<v.length;i++){for(var t=0;t<g.length;t++){var d=g[t];u[d]=v[i].style.getPropertyValue("--"+d)}}}}return u}}]),c}();o.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),m.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,a,u){var z=x("../Base.js"),y=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),E=v.Color,B=v.Text,C=v.Numeric,A=v.List,D=v.Bool,s=v.Literal,F=v.ColorRGBA,r=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var i,h=this,d="",e=h.str,j=e.length,k=!1,f=!1,g=0;h.index<j;){if(i=e[h.index],h.index++,i<=" "&&!k&&!g){if(d.length){break}}else{if(";"===i&&!k&&!f){break}if("("===i&&g++,")"===i&&g&&g--,","===i&&!k&&!f&&!g){if(d.length){h.index--;break}return i}"\\"===i&&k?(f=1,h.index++):('"'!==i&&"'"!==i||(k?k===i&&(k=!1):k=i),f=!1,d+=i)}}return d}},{key:"parseValue",value:function(f){var g,e,d={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===f[0]||"'"===f[0]){return e=f=f.substring(1,f.length-1),new B(e,f[0])}if("true"===f){return new D((!0))}if("false"===f){return new D((!1))}if("null"===f){return s.Null}if("none"===f){return s.None}if(z.Color.map[f]){var h=E.map[f],k=new F(h[0],h[1],h[2],h[3]);return k.stringified=f,k}if(g=d.number.exec(f)){return new C(parseFloat(g[1]),g[2])}if(g=d.shortHexColor.exec(f)){return F.fromHex(g[1])}if(g=d.longHexColor.exec(f)){return F.fromHex(g[1])}if(g=d.functionCall.exec(f)){var i=g[1],j=this.parse(g[2]).items;return"hsla"===i||"hsl"===i?new r(y.unbox(j[0]),y.unbox(j[1]),y.unbox(j[2]),y.unbox(j[3])||1):"rgba"===i||"rgb"===i?new F(y.unbox(j[0]),y.unbox(j[1]),y.unbox(j[2]),y.unbox(j[3])||1):new t(i,j)}return(g=d.parenList.exec(f))?new t(this.parse(g[1])):new z.Literal(f)}},{key:"parse",value:function(f){var i,h=this,g=[],d=[],e=null;for(h.str=f,h.index=0;i=h._advance();){g.push(i)}for(var j=0;j<g.length;j++){i=g[j].trim(),","===g[j+1]?(e=e||[],e.push(h.parseValue(i)),j++):e?(e.push(h.parseValue(i)),d.push(new A(e,", ")),e=null):d.push(h.parseValue(i))}return 1===d.length?d[0]:new A(d," ")}}]),c}();a.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(k,j,a){var m=k("../Base.js"),l=k("./Type.js"),n=k("./Bool.js"),o=k("./Numeric.js"),p=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return n.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(g,i){var h,e=c.units[i],f=c.types[i],r=c.comps[i];return h="hsla"==f?g.getHSLA():g.getRGBA(),new o(h[r],e)}},{key:"adjust",value:function(g,i,f){var h=g.getHSLA().copy(),e=c.comps[i],r=f.value;return h[e]+=r,h.h=c.constrainDegrees(h.h),h.s=c.constrainPercentage(h.s),h.l=c.constrainPercentage(h.l),h.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);m.apply(p,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),m.apply(p.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),j.exports=p},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,i){var l=a("../Base.js"),k=a("./Color.js"),j=a("./ColorRGBA.js"),n=function(c){function d(h,e,f,g){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=k.constrainDegrees(h),p.s=e,p.l=f,void 0!==g&&(p.a=g),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return j.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(h,e,f,g){return new d(k.constrainDegrees(this.h+h),k.constrainPercentage(this.s+e),k.constrainPercentage(this.l+f),k.constrainAlpha(this.a*g))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=k.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=k.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var x=g.r/255,A=g.g/255,r=g.b/255,h=g.a,B=Math.max(x,A,r),f=Math.min(x,A,r),z=B-f,e=0,y=0,s=0.5*(B+f);return f!=B&&(y=s<0.5?z/(B+f):z/(2-B-f),e=x==B?60*(A-r)/z:A==B?120+60*(r-x)/z:240+60*(x-A)/z,e<0&&(e+=360),e>=360&&(e-=360)),new d(k.constrainDegrees(e),k.constrainPercentage(100*y),k.constrainPercentage(100*s),h)}}]),d}(k);j.prototype.getHSLA=function(){return n.fromRGBA(this)},l.apply(n.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=n},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,i){function n(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var l=a("../Base.js"),k=a("./Color.js"),j=function(d){function c(e,f,h,g){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,e)),p.g=Math.min(255,Math.max(0,f)),p.b=Math.min(255,Math.max(0,h)),void 0!==g&&(p.a=Math.min(1,Math.max(0,g))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,f=h(e.r),r=h(e.g),s=h(e.b),t=e.a,g="";return g=1===t?"#"+n(f)+n(r)+n(s):"rgba("+f+", "+r+", "+s+", "+t+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var e=this,g=Math.round,q=g(e.r),h=g(e.g),f=g(e.b),r=g(255*e.a);return"#"+n(r)+n(q)+n(h)+n(f)}},{key:"add",value:function(e,f,h,g){return new c(this.r+e,this.g+f,this.b+h,this.a*g)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(e){"#"==e.charAt(0)&&(e=e.substr(1));var f,g,h;3===e.length?(f=parseInt(e.charAt(0),16),g=parseInt(e.charAt(1),16),h=parseInt(e.charAt(2),16),f=(f<<4)+f,g=(g<<4)+g,h=(h<<4)+h):(f=parseInt(e.substring(0,2),16),g=parseInt(e.substring(2,4),16),h=parseInt(e.substring(4,6),16));var p=new c(f,g,h);return c.preserveInputStrings&&(p.stringified="#"+e),p}},{key:"fromHSLA",value:function(A){function D(o){return o<0&&++o,o>1&&--o,6*o<1?y+(z-y)*o*6:2*o<1?z:3*o<2?y+(z-y)*(2/3-o)*6:y}if(A.$isFashionRGBA){return A.clone()}var f=A,h=f.h/360,s=f.s/100,B=f.l/100,e=f.a,z=B<=0.5?B*(s+1):B+s-B*s,y=2*B-z,r=k.constrainChannel(255*D(h+1/3)),g=k.constrainChannel(255*D(h)),C=k.constrainChannel(255*D(h-1/3));return new c(r,g,C,e)}}]),c}(k);l.apply(j,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),l.apply(j.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new j(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new j(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=j,function(x,f,t,d){var g,w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=Object.keys(t);for(c.sort(),g=0;g<c.length;g++){var v=c[g],u=t[v],h=new x(u[0],u[1],u[2],u[3]),e=h.stringify();f[e]=v}w.forEach(function(p){var o=p+p;w.forEach(function(r){var q=r+r;w.forEach(function(F){var C=F+F,E="#"+p+r+F,D="#"+o+q+C;if(d[D]){var s=d[D];E=s.length>E.length?E:s}d[D]=E})})})}(j,j.stringifiedMap,k.map,j.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,m,k){var j=a("../Base.js"),l=a("./Type.js"),n=a("./Numeric.js"),i=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new n(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(l);j.apply(i.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),m.exports=i},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,m,l){var i=a("../Base.js"),k=a("./Type.js"),n=a("./List.js"),j=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new n(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(k);i.apply(j.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),m.exports=j},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("top"),g.push("bottom"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(linear, "+g.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var f=this.items,g=f.length,e=[],n=0;n<g;n++){e.push(f[n].clone())}return new c(e,this.separator)}},{key:"clone",value:function(r,e){if(e&&this.matches(r)){return e.clone()}for(var f=this.items,g=f.length,s=[],t=0;t<g;t++){s.push(f[t].clone(r,e))}var q=new c(s,this.separator);return q.$referenceName=this.$referenceName,q.$referenceBase=this.$referenceBase,q.$previousReference=this.$previousReference,q}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(n){for(var g=[],f=0;f<this.items.length;f++){var e=this.items[f];e&&g.push(e.toPrefixedString(n))}return g.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(j,m,k){var o=j("../Base.js"),a=j("./Type.js"),n=j("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=a.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=a.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new n(f+1)}}},{key:"insert",value:function(f,h){var e=a.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(a);o.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var p=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);o.apply(p.prototype,{$isFashionNull:!0,$constant:!0}),p.prototype.$isFashionNull=!0,l.Null=new p(null),l.None=new l("none"),m.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(q,s,o){var a=q("../Base.js"),m=q("./List.js"),l=q("./Type.js"),p=q("./Literal.js"),n=p.Null,r=q("./Numeric.js"),t=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof r&&(e=l.unbox(e)),"number"==typeof e?new m([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||n)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(m);a.apply(t.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),s.exports=t},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(j,m,k){var o=j("../Base.js"),a=j("./Type.js"),n=j("./Bool.js"),l=j("./Literal.js"),p=function(c){function d(e,f,i,g){_classCallCheck(this,d);var h=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return h.value=e,h.unit=f,f&&!i?h.numeratorUnits=[f]:h.numeratorUnits=i||[],h.denominatorUnits=g||[],h}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(g,f){var e;this.unit||f.unit;return f.$isFashionRGBA||f.$isFashionHSLA?new l(this+g+f):f.$isFashionNumber?this.numericOperate(g,f):f.$isFashionLiteral&&(e=this.tryCoerce(f))?this.performOperation(g,e):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,g,f)}},{key:"tryNormalize",value:function(g){var e=g.value,f=g.unit;if(g.$isFashionNumber){switch(this.unit){case"mm":switch(f){case"in":return new d(25.4*e,"mm");case"cm":return new d(2.54*e,"mm")}break;case"cm":switch(f){case"in":return new d(2.54*e,"cm");case"mm":return new d(e/10,"cm")}break;case"in":switch(f){case"mm":return new d(e/25.4,"in");case"cm":return new d(e/2.54,"in")}break;case"ms":switch(f){case"s":return new d(1000*e,"ms")}break;case"s":switch(f){case"ms":return new d(e/1000,"s")}break;case"Hz":switch(f){case"kHz":return new d(1000*e,"Hz")}break;case"kHz":switch(f){case"Hz":return new d(e/1000,"kHz")}break;case"%":switch(f){default:return new d(e)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(g){var e=this.unit,f=g.unit;return !!g.$isFashionNumber&&(e===f||"mm"===e&&("in"===f||"cm"===f)||"cm"===e&&("in"===f||"mm"===f)||"in"===e&&("mm"===f||"cm"===f)||"ms"===e&&"s"===f||"s"===e&&"ms"===f||"Hz"===e&&"kHz"===f||"kHz"===e&&"Hz"===f)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=o.filter(e.num,function(f){return !!f}),e.den=o.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(w,e){this.normalizeUnits(),e.normalizeUnits();var z,f=this,g=e,x=d.OPERATIONS,y=d.NON_COERCE_OPERATIONS,v=x[w];if(v){try{f.unitless()?f=f.coerceUnits(g.numeratorUnits,g.denominatorUnits):g=g.coerceUnits(f.numeratorUnits,f.denominatorUnits)}catch(h){if("=="==w){return n.False}if("!="==w){return n.True}throw h}}else{v=y[w]}if(v&&(z=v(f.value,g.value)),"number"==typeof z){var i=this.computeUnits(f,g,w);return new d(z,i.num.length?i.num[0]:null,i.num,i.den)}return new n(z)}},{key:"computeUnits",value:function(f,g,e){switch(e){case"*":return{num:f.numeratorUnits.slice().concat(g.numeratorUnits),den:f.denominatorUnits.slice().concat(g.denominatorUnits)};case"/":return{num:f.numeratorUnits.slice().concat(g.denominatorUnits),den:f.denominatorUnits.slice().concat(g.numeratorUnits)};default:return{num:f.numeratorUnits,den:f.denominatorUnits}}}},{key:"coerceUnits",value:function(g,f){var e=this.value;return this.unitless()||(e=e*this.coercionFactor(this.numeratorUnits,g)/this.coercionFactor(this.denominatorUnits,f)),new d(e,g&&g[0],g,f)}},{key:"coercionFactor",value:function(g,x){var f=this.removeCommonUnits(g,x),z=f.num,v=f.den;z.length===v.length&&this.convertable(z||v)||o.raise("Incompatible units: "+z.join("*")+" and "+v.join("*"));for(var h=0;h<z.length;h++){for(var w=z[h],i=0;i<v.length;i++){var y=v[i],e=this.conversionFactor(w,y);if(null!==e){return e}}}return 1}},{key:"conversionFactor",value:function(e,f){var i=d.CONVERTABLE_UNITS,h=d.CONVERSION_TABLE,g=null;return i[e]&&i[f]&&(g=h[i[e]][i[f]]),null===g&&i[f]&&i[e]&&(g=1/h[i[f]][i[e]]),g}},{key:"convertable",value:function(g){if(g&&!Array.isArray(g)&&(g=[g]),g&&g.length){for(var e=d.CONVERTABLE_UNITS,f=0;f<g.length;f++){if(void 0===e[g[f]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(g,s){var i,h,h,e={},t=[],f=[];for(i=0;i<g.length;i++){h=g[i],e[h]=(e[h]||0)+1}for(i=0;i<s.length;i++){h=s[i],e[h]=(e[h]||0)-1}for(i=0;i<g.length;i++){h=g[i],e[h]>0&&(t.push(h),e[h]--)}for(i=0;i<s.length;i++){h=s[i],e[h]<0&&(f.push(h),e[h]++)}return{num:t,den:f}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(a);o.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),o.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),m.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(g,e,n){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.position=g,f.stops=n,f.shape=e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("center 0%"),g.push("center 100%"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(radial, "+g.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,m,l){var j=a("../Base.js"),i=a("./TypeVisitor.js"),n=a("../Output.js"),k=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(x){for(var u,e=this.output,v=x.items,w=e.output.length,g=x.separator,h=g&&g.length,f=g&&g.indexOf(" ")>-1,z=e.output,y=0;y<v.length;y++){v[y]&&(this.visit(v[y]),u=e.output.length-w,!u&&h&&y>0&&(e.output=z),z=e.output,y<v.length-1&&h&&(e.add(g),f||e.space()),w=e.output.length)}}},{key:"map",value:function(e){var h,q,g=this.output,r=e.items;this.currDeclaration&&j.raise("("+e+") isn't a valid CSS value.");for(var f=0;f<r.length-1;f+=2){h=r[f],q=r[f+1],h&&q&&(f>0&&(g.add(","),g.space()),this.visit(h),g.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new n,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(i);j.apply(k.prototype,{output:null}),m.exports=k},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(r,e,q,o){e=e||"fashion",q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+r+"s*$"),o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+r+"\\s*$");var p=this.docs;if(p&&p.length){for(var d=0;d<this.docs.length;d++){var f=p[d];if(q.test(f)){return !0}if(o.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(r,e,q,o):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(c,a,b){return a in c?Object.defineProperty(c,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[a]=b,c}var _get=function get(b,e,d){null===b&&(b=Function.prototype);var f=Object.getOwnPropertyDescriptor(b,e);if(void 0===f){var c=Object.getPrototypeOf(b);return null===c?void 0:get(c,e,d)}if("value" in f){return f.value}var a=f.get;if(void 0!==a){return a.call(d)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,b,e){var c,f=d("./src/export/Base.js"),g=d("./src/export/css/CssVariableManager.js"),h=new g;f.apply(f,(c={css:h,CssExport:g,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(c,"Types",d("./src/export/type/Types.js")),_defineProperty(c,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(c,"Output",d("./src/export/Output.js")),_defineProperty(c,"Runtime",d("./src/export/Runtime.js")),c)),b.exports=f},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(d,A,j){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function c(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?c(F,G):C[E]=G):C[E]=G}}return C}function l(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function n(C){return C&&"function"==typeof C}function h(C,D){console.log(l("[DBG] "+C,D))}function b(C,D){console.log(l("[LOG] "+C,D))}function u(C,D){console.log(l("[INF] "+C,D))}function t(C,D){console.log(l("[WRN] "+C,D))}function s(C,D){console.log(l("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function g(D,E){var C;E&&(D=l(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function f(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function e(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function o(C){return C.length&&C[C.length-1]}function m(C){return C.length>2?C.slice(1):[]}function p(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function B(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;p(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function i(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?i(E,F-1,C):C.push(E)}return C}var k=d("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&c(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return o(this.items)}},{key:"tail",value:function(){return m(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};A.exports={EmptyArray:[],getJsName:k.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:c,createMessage:l,isFunction:n,debug:h,log:b,info:u,warn:t,error:s,raise:v,raiseAt:g,filter:f,convert:e,first:w,last:o,tail:m,mixin:B,flatten:i}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(d,o,h){var p=d("./Base.js"),r=p.Base,n=d("./type/Type.js"),i=d("./type/List.js"),e=d("./type/Bool.js"),m=d("./type/Color.js"),l=d("./type/ColorRGBA.js"),g=d("./type/Text.js"),q=d("./type/Literal.js"),f=d("./type/Statics.js"),c=d("./type/TypeVisitor.js"),j=d("./type/Types.js"),b=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(b.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var k=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:f.boxType,unbox:f.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(y,C){for(var D,E={},A=0,z=0;z<y.length;z++){var B=y[z];if(void 0!==B){if(B===!0||B===!1){E[C[A]]=B,A++}else{if(void 0===B.type){for(D in B){E[D.replace(/^\$/,"")]=B[D]}}else{D=C[A],D instanceof Array?(D=D[0],E[D]=E[D]||new i,E[D].add(B)):(E[D]=B,A++)}}}}return E},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new e(v)}},{key:"color",value:function t(x){var w=m.map[x],v=new l(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new g(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(w){w=w||this.types;for(var z,x=Object.getOwnPropertyNames(w),y=[],v=0;v<x.length;v++){z=x[v],y.push(z+" = Types."+z),y.push("__"+z+" = "+z)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(x){x=x||this.constructor.prototype;for(var w,z,y=[];x;){w=Object.getOwnPropertyNames(x);for(var v=0;v<w.length;v++){z=w[v],"function"==typeof x[z]&&y.push("__rt_"+z+" = __rt."+z+".bind(__rt)")}x=Object.getPrototypeOf(x)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var v,x=Object.getOwnPropertyNames(this),y=[],w=0;w<x.length;w++){v=x[w],y.push("__rt_"+v+" = __rt."+v)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new c(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new b(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(w,y,x){var v=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),v.map[w]=y,y}},{key:"setDynamic",value:function(w,y,x){var z,v=p.getJsName(w),A=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),y.$referenceName||y.$constant?(z=y.clone(),z.$previousReference=y,y=z,y.ast=this.getAstNode(x)):y.$referenceName=w,A.map[v]=y,y}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new i(w,y)}},{key:"applySplatArgs",value:function(A){var v,y,z,x,B,w=[];for(y=0;y<A.length;y++){if(v=A[y],v&&v.splat&&v.$isFashionList){for(B=v.getItems(),x=0;x<B.length;x++){z=B[x],z&&(z.splatSeparator=v.separator),w.push(z)}}else{w.push(v)}v&&(v.splat=void 0)}return w}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(r);p.apply(k.prototype,{box:n.box,unbox:n.unbox,Scope:b,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:j,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),o.exports=k},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(e,b,i){var h=e("../Base.js"),f=e("../Runtime.js"),d=e("../parse/ValueParser.js"),g=e("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new f}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(n){var w,k,q,u,p,l,r,o=this,v=o.getRuntime(),t=new d,s=o.variableMap;k=new v.Scope;for(u in n){w=h.getJsName(u.replace(o.nameRe,"")),0!==w.indexOf("$")&&(w="$"+w),k.put(w,t.parse(n[u]))}v._globalScope=k,v._currentScope=k;for(var m=0;m<o.calcFns.length;m++){o.calcFns[m](v)}q=new g,n={};for(u in s){p=s[u];for(var m=0;m<p.length;m++){w=p[m],l="$"+h.getJsName(w),r=k.get(l),r&&(r.$isWrapper&&(r=r.value),n[w]=q.toSource(r))}}return n}},{key:"applyVariables",value:function(k){var l=this,n=l.variableMap;for(var o in n){var m=n[o],q=document.querySelectorAll(o);if(q){for(var s=0;s<q.length;s++){for(var r=0;r<m.length;r++){var p=m[r];q[s].style.setProperty("--"+p,k[p])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return h.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var l=this,n=l.variableMap,r={};for(var o in n){var m=n[o],q=document.querySelectorAll(o);if(q){for(var k=0;k<q.length;k++){for(var s=0;s<m.length;s++){var p=m[s];r[p]=q[k].style.getPropertyValue("--"+p)}}}}return r}}]),j}();h.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),b.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,i,m){var g=j("../Base.js"),h=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),q=l.Color,e=l.Text,d=l.Numeric,f=l.List,c=l.Bool,p=l.Literal,o=l.ColorRGBA,b=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var u,v=this,z="",y=v.str,t=y.length,s=!1,x=!1,w=0;v.index<t;){if(u=y[v.index],v.index++,u<=" "&&!s&&!w){if(z.length){break}}else{if(";"===u&&!s&&!x){break}if("("===u&&w++,")"===u&&w&&w--,","===u&&!s&&!x&&!w){if(z.length){v.index--;break}return u}"\\"===u&&s?(x=1,v.index++):('"'!==u&&"'"!==u||(s?s===u&&(s=!1):s=u),x=!1,z+=u)}}return z}},{key:"parseValue",value:function(x){var w,y,z={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===x[0]||"'"===x[0]){return y=x=x.substring(1,x.length-1),new e(y,x[0])}if("true"===x){return new c((!0))}if("false"===x){return new c((!1))}if("null"===x){return p.Null}if("none"===x){return p.None}if(g.Color.map[x]){var v=q.map[x],s=new o(v[0],v[1],v[2],v[3]);return s.stringified=x,s}if(w=z.number.exec(x)){return new d(parseFloat(w[1]),w[2])}if(w=z.shortHexColor.exec(x)){return o.fromHex(w[1])}if(w=z.longHexColor.exec(x)){return o.fromHex(w[1])}if(w=z.functionCall.exec(x)){var u=w[1],t=this.parse(w[2]).items;return"hsla"===u||"hsl"===u?new b(h.unbox(t[0]),h.unbox(t[1]),h.unbox(t[2]),h.unbox(t[3])||1):"rgba"===u||"rgb"===u?new o(h.unbox(t[0]),h.unbox(t[1]),h.unbox(t[2]),h.unbox(t[3])||1):new n(u,t)}return(w=z.parenList.exec(x))?new n(this.parse(w[1])):new g.Literal(x)}},{key:"parse",value:function(w){var t,u=this,v=[],y=[],x=null;for(u.str=w,u.index=0;t=u._advance();){v.push(t)}for(var s=0;s<v.length;s++){t=v[s].trim(),","===v[s+1]?(x=x||[],x.push(u.parseValue(t)),s++):x?(x.push(u.parseValue(t)),y.push(new f(x,", ")),x=null):y.push(u.parseValue(t))}return 1===y.length?y[0]:new f(y," ")}}]),r}();i.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(e,f,d){var b=e("../Base.js"),c=e("./Type.js"),i=e("./Bool.js"),h=e("./Numeric.js"),g=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return i.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(o,l){var m,q=k.units[l],p=k.types[l],n=k.comps[l];return m="hsla"==p?o.getHSLA():o.getRGBA(),new h(m[n],q)}},{key:"adjust",value:function(o,l,p){var m=o.getHSLA().copy(),q=k.comps[l],n=p.value;return m[q]+=n,m.h=k.constrainDegrees(m.h),m.s=k.constrainPercentage(m.s),m.l=k.constrainPercentage(m.l),m.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);b.apply(g,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),b.apply(g.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),f.exports=g},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,g){var c=d("../Base.js"),e=d("./Color.js"),f=d("./ColorRGBA.js"),h=function(j){function i(k,o,m,l){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=e.constrainDegrees(k),n.s=o,n.l=m,void 0!==l&&(n.a=l),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return f.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(k,n,m,l){return new i(e.constrainDegrees(this.h+k),e.constrainPercentage(this.s+n),e.constrainPercentage(this.l+m),e.constrainAlpha(this.a*l))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=e.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=e.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var v=o.r/255,m=o.g/255,k=o.b/255,n=o.a,l=Math.max(v,m,k),p=Math.min(v,m,k),t=l-p,q=0,u=0,w=0.5*(l+p);return p!=l&&(u=w<0.5?t/(l+p):t/(2-l-p),q=v==l?60*(m-k)/t:m==l?120+60*(k-v)/t:240+60*(v-m)/t,q<0&&(q+=360),q>=360&&(q-=360)),new i(e.constrainDegrees(q),e.constrainPercentage(100*u),e.constrainPercentage(100*w),n)}}]),i}(e);f.prototype.getHSLA=function(){return h.fromRGBA(this)},c.apply(h.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=h},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,g){function h(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var c=d("../Base.js"),e=d("./Color.js"),f=function(i){function j(o,m,k,l){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,o)),n.g=Math.min(255,Math.max(0,m)),n.b=Math.min(255,Math.max(0,k)),void 0!==l&&(n.a=Math.min(1,Math.max(0,l))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,p=m(q.r),o=m(q.g),l=m(q.b),k=q.a,n="";return n=1===k?"#"+h(p)+h(o)+h(l):"rgba("+p+", "+o+", "+l+", "+k+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var p=this,m=Math.round,o=m(p.r),k=m(p.g),n=m(p.b),l=m(255*p.a);return"#"+h(l)+h(o)+h(k)+h(n)}},{key:"add",value:function(n,m,k,l){return new j(this.r+n,this.g+m,this.b+k,this.a*l)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(o){"#"==o.charAt(0)&&(o=o.substr(1));var m,l,k;3===o.length?(m=parseInt(o.charAt(0),16),l=parseInt(o.charAt(1),16),k=parseInt(o.charAt(2),16),m=(m<<4)+m,l=(l<<4)+l,k=(k<<4)+k):(m=parseInt(o.substring(0,2),16),l=parseInt(o.substring(2,4),16),k=parseInt(o.substring(4,6),16));var n=new j(m,l,k);return j.preserveInputStrings&&(n.stringified="#"+o),n}},{key:"fromHSLA",value:function(o){function l(r){return r<0&&++r,r>1&&--r,6*r<1?w+(v-w)*r*6:2*r<1?v:3*r<2?w+(v-w)*(2/3-r)*6:w}if(o.$isFashionRGBA){return o.clone()}var t=o,p=t.h/360,x=t.s/100,n=t.l/100,u=t.a,v=n<=0.5?n*(x+1):n+x-n*x,w=2*n-v,k=e.constrainChannel(255*l(p+1/3)),q=e.constrainChannel(255*l(p)),m=e.constrainChannel(255*l(p-1/3));return new j(k,q,m,u)}}]),j}(e);c.apply(f,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),c.apply(f.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new f(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new f(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=f,function(o,k,s,m){var j,p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=Object.keys(s);for(n.sort(),j=0;j<n.length;j++){var q=n[j],r=s[q],i=new o(r[0],r[1],r[2],r[3]),l=i.stringify();k[l]=q}p.forEach(function(t){var u=t+t;p.forEach(function(v){var w=v+v;p.forEach(function(y){var B=y+y,z="#"+t+v+y,A="#"+u+w+B;if(m[A]){var x=m[A];z=x.length>z.length?z:x}m[A]=z})})})}(f,f.stringifiedMap,e.map,f.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,b,e){var f=d("../Base.js"),c=d("./Type.js"),h=d("./Numeric.js"),g=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new h(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(c);f.apply(g.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),b.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,b,c){var g=d("../Base.js"),e=d("./Type.js"),h=d("./List.js"),f=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new h(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(e);g.apply(f.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),b.exports=f},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("top"),j.push("bottom"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(linear, "+j.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var k=this.items,j=k.length,l=[],m=0;m<j;m++){l.push(k[m].clone())}return new i(l,this.separator)}},{key:"clone",value:function(m,p){if(p&&this.matches(m)){return p.clone()}for(var o=this.items,l=o.length,k=[],j=0;j<l;j++){k.push(o[j].clone(m,p))}var n=new i(k,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(m){for(var j=[],k=0;k<this.items.length;k++){var l=this.items[k];l&&j.push(l.toPrefixedString(m))}return j.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(f,b,e){var h=f("../Base.js"),d=f("./Type.js"),i=f("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=d.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=d.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new i(l+1)}}},{key:"insert",value:function(n,l){var o=d.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(d);h.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var g=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);h.apply(g.prototype,{$isFashionNull:!0,$constant:!0}),g.prototype.$isFashionNull=!0,c.Null=new g(null),c.None=new c("none"),b.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(c,k,e){var i=c("../Base.js"),g=c("./List.js"),h=c("./Type.js"),d=c("./Literal.js"),f=d.Null,b=c("./Numeric.js"),j=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof b&&(n=h.unbox(n)),"number"==typeof n?new g([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||f)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(g);i.apply(j.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),k.exports=j},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(f,b,e){var h=f("../Base.js"),d=f("./Type.js"),i=f("./Bool.js"),c=f("./Literal.js"),g=function(k){function j(p,o,l,n){_classCallCheck(this,j);var m=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return m.value=p,m.unit=o,o&&!l?m.numeratorUnits=[o]:m.numeratorUnits=l||[],m.denominatorUnits=n||[],m}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(l,m){var n;this.unit||m.unit;return m.$isFashionRGBA||m.$isFashionHSLA?new c(this+l+m):m.$isFashionNumber?this.numericOperate(l,m):m.$isFashionLiteral&&(n=this.tryCoerce(m))?this.performOperation(l,n):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,l,m)}},{key:"tryNormalize",value:function(l){var n=l.value,m=l.unit;if(l.$isFashionNumber){switch(this.unit){case"mm":switch(m){case"in":return new j(25.4*n,"mm");case"cm":return new j(2.54*n,"mm")}break;case"cm":switch(m){case"in":return new j(2.54*n,"cm");case"mm":return new j(n/10,"cm")}break;case"in":switch(m){case"mm":return new j(n/25.4,"in");case"cm":return new j(n/2.54,"in")}break;case"ms":switch(m){case"s":return new j(1000*n,"ms")}break;case"s":switch(m){case"ms":return new j(n/1000,"s")}break;case"Hz":switch(m){case"kHz":return new j(1000*n,"Hz")}break;case"kHz":switch(m){case"Hz":return new j(n/1000,"kHz")}break;case"%":switch(m){default:return new j(n)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(l){var n=this.unit,m=l.unit;return !!l.$isFashionNumber&&(n===m||"mm"===n&&("in"===m||"cm"===m)||"cm"===n&&("in"===m||"mm"===m)||"in"===n&&("mm"===m||"cm"===m)||"ms"===n&&"s"===m||"s"===n&&"ms"===m||"Hz"===n&&"kHz"===m||"kHz"===n&&"Hz"===m)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=h.filter(l.num,function(m){return !!m}),l.den=h.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(t,p){this.normalizeUnits(),p.normalizeUnits();var q,o=this,n=p,s=j.OPERATIONS,r=j.NON_COERCE_OPERATIONS,u=s[t];if(u){try{o.unitless()?o=o.coerceUnits(n.numeratorUnits,n.denominatorUnits):n=n.coerceUnits(o.numeratorUnits,o.denominatorUnits)}catch(m){if("=="==t){return i.False}if("!="==t){return i.True}throw m}}else{u=r[t]}if(u&&(q=u(o.value,n.value)),"number"==typeof q){var l=this.computeUnits(o,n,t);return new j(q,l.num.length?l.num[0]:null,l.num,l.den)}return new i(q)}},{key:"computeUnits",value:function(m,l,n){switch(n){case"*":return{num:m.numeratorUnits.slice().concat(l.numeratorUnits),den:m.denominatorUnits.slice().concat(l.denominatorUnits)};case"/":return{num:m.numeratorUnits.slice().concat(l.denominatorUnits),den:m.denominatorUnits.slice().concat(l.numeratorUnits)};default:return{num:m.numeratorUnits,den:m.denominatorUnits}}}},{key:"coerceUnits",value:function(l,m){var n=this.value;return this.unitless()||(n=n*this.coercionFactor(this.numeratorUnits,l)/this.coercionFactor(this.denominatorUnits,m)),new j(n,l&&l[0],l,m)}},{key:"coercionFactor",value:function(n,s){var o=this.removeCommonUnits(n,s),q=o.num,u=o.den;q.length===u.length&&this.convertable(q||u)||h.raise("Incompatible units: "+q.join("*")+" and "+u.join("*"));for(var m=0;m<q.length;m++){for(var t=q[m],l=0;l<u.length;l++){var r=u[l],p=this.conversionFactor(t,r);if(null!==p){return p}}}return 1}},{key:"conversionFactor",value:function(p,o){var l=j.CONVERTABLE_UNITS,m=j.CONVERSION_TABLE,n=null;return l[p]&&l[o]&&(n=m[l[p]][l[o]]),null===n&&l[o]&&l[p]&&(n=1/m[l[o]][l[p]]),n}},{key:"convertable",value:function(l){if(l&&!Array.isArray(l)&&(l=[l]),l&&l.length){for(var n=j.CONVERTABLE_UNITS,m=0;m<l.length;m++){if(void 0===n[l[m]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(p,o){var m,n,n,r={},l=[],q=[];for(m=0;m<p.length;m++){n=p[m],r[n]=(r[n]||0)+1}for(m=0;m<o.length;m++){n=o[m],r[n]=(r[n]||0)-1}for(m=0;m<p.length;m++){n=p[m],r[n]>0&&(l.push(n),r[n]--)}for(m=0;m<o.length;m++){n=o[m],r[n]<0&&(q.push(n),r[n]++)}return{num:l,den:q}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(d);h.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),h.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),b.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(j,l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.position=j,k.stops=m,k.shape=l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("center 0%"),j.push("center 100%"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(radial, "+j.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,b,c){var f=d("../Base.js"),g=d("./TypeVisitor.js"),h=d("../Output.js"),e=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(q){for(var t,n=this.output,s=q.items,r=n.output.length,l=q.separator,k=l&&l.length,m=l&&l.indexOf(" ")>-1,o=n.output,p=0;p<s.length;p++){s[p]&&(this.visit(s[p]),t=n.output.length-r,!t&&k&&p>0&&(n.output=o),o=n.output,p<s.length-1&&k&&(n.add(l),m||n.space()),r=n.output.length)}}},{key:"map",value:function(p){var k,o,m=this.output,l=p.items;this.currDeclaration&&f.raise("("+p+") isn't a valid CSS value.");for(var n=0;n<l.length-1;n+=2){k=l[n],o=l[n+1],k&&o&&(n>0&&(m.add(","),m.space()),this.visit(k),m.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new h,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(g);f.apply(e.prototype,{output:null}),b.exports=e},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(h,l,j,n){l=l||"fashion",j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+h+"s*$"),n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+h+"\\s*$");var k=this.docs;if(k&&k.length){for(var m=0;m<this.docs.length;m++){var i=k[m];if(j.test(i)){return !0}if(n.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(h,l,j,n):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(f,e,d){return e in f?Object.defineProperty(f,e,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[e]=d,f}var _get=function get(g,j,k){null===g&&(g=Function.prototype);var i=Object.getOwnPropertyDescriptor(g,j);if(void 0===i){var l=Object.getPrototypeOf(g);return null===l?void 0:get(l,j,k)}if("value" in i){return i.value}var h=i.get;if(void 0!==h){return h.call(k)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,a,l){var n,k=m("./src/export/Base.js"),j=m("./src/export/css/CssVariableManager.js"),i=new j;k.apply(k,(n={css:i,CssExport:j,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(n,"Types",m("./src/export/type/Types.js")),_defineProperty(n,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(n,"Output",m("./src/export/Output.js")),_defineProperty(n,"Runtime",m("./src/export/Runtime.js")),n)),a.exports=k},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(Z,N,T){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function aa(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?aa(d,c):g[e]=c):g[e]=c}}return g}function R(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function P(c){return c&&"function"==typeof c}function V(d,c){console.log(R("[DBG] "+d,c))}function ab(d,c){console.log(R("[LOG] "+d,c))}function G(d,c){console.log(R("[INF] "+d,c))}function H(d,c){console.log(R("[WRN] "+d,c))}function I(d,c){console.log(R("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function W(d,c){var e;c&&(d=R(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function X(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function Y(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function O(c){return c.length&&c[c.length-1]}function Q(c){return c.length>2?c.slice(1):[]}function M(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function L(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;M(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function U(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?U(e,d-1,g):g.push(e)}return g}var S=Z("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&aa(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return O(this.items)}},{key:"tail",value:function(){return Q(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};N.exports={EmptyArray:[],getJsName:S.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:aa,createMessage:R,isFunction:P,debug:V,log:ab,info:G,warn:H,error:I,raise:F,raiseAt:W,filter:X,convert:Y,first:E,last:O,tail:Q,mixin:L,flatten:U}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(F,u,B){var t=F("./Base.js"),a=t.Base,v=F("./type/Type.js"),A=F("./type/List.js"),E=F("./type/Bool.js"),w=F("./type/Color.js"),x=F("./type/ColorRGBA.js"),C=F("./type/Text.js"),s=F("./type/Literal.js"),D=F("./type/Statics.js"),G=F("./type/TypeVisitor.js"),z=F("./type/Types.js"),H=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(H.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var y=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:D.boxType,unbox:D.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(o,m){for(var k,j={},i=0,l=0;l<o.length;l++){var n=o[l];if(void 0!==n){if(n===!0||n===!1){j[m[i]]=n,i++}else{if(void 0===n.type){for(k in n){j[k.replace(/^\$/,"")]=n[k]}}else{k=m[i],k instanceof Array?(k=k[0],j[k]=j[k]||new A,j[k].add(n)):(j[k]=n,i++)}}}}return j},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new E(f)}},{key:"color",value:function d(f){var g=w.map[f],h=new x(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new C(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(g){g=g||this.types;for(var i,f=Object.getOwnPropertyNames(g),j=[],h=0;h<f.length;h++){i=f[h],j.push(i+" = Types."+i),j.push("__"+i+" = "+i)}return 0===j.length?"":"var "+j.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(f){f=f||this.constructor.prototype;for(var g,i,j=[];f;){g=Object.getOwnPropertyNames(f);for(var h=0;h<g.length;h++){i=g[h],"function"==typeof f[i]&&j.push("__rt_"+i+" = __rt."+i+".bind(__rt)")}f=Object.getPrototypeOf(f)}return 0===j.length?"":"var "+j.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var h,f=Object.getOwnPropertyNames(this),i=[],g=0;g<f.length;g++){h=f[g],i.push("__rt_"+h+" = __rt."+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new G(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new H(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(g,i,f){var h=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(f),h.map[g]=i,i}},{key:"setDynamic",value:function(h,k,g){var j,i=t.getJsName(h),f=this._globalScope;return k&&k.$isFashionLiteral||(k=this.box(k)),k.ast=k.ast||this.getAstNode(g),k.$referenceName||k.$constant?(j=k.clone(),j.$previousReference=k,k=j,k.ast=this.getAstNode(g)):k.$referenceName=h,f.map[i]=k,k}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new A(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,j,f,k,h=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(k=i.getItems(),f=0;f<k.length;f++){j=k[f],j&&(j.splatSeparator=i.separator),h.push(j)}}else{h.push(i)}i&&(i.splat=void 0)}return h}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(a);t.apply(y.prototype,{box:v.box,unbox:v.unbox,Scope:H,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:z,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),u.exports=y},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(n,a,j){var k=n("../Base.js"),m=n("../Runtime.js"),o=n("../parse/ValueParser.js"),l=n("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new m}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(h){var z,y,e,B,f,x,d,g=this,A=g.getRuntime(),C=new o,D=g.variableMap;y=new A.Scope;for(B in h){z=k.getJsName(B.replace(g.nameRe,"")),0!==z.indexOf("$")&&(z="$"+z),y.put(z,C.parse(h[B]))}A._globalScope=y,A._currentScope=y;for(var i=0;i<g.calcFns.length;i++){g.calcFns[i](A)}e=new l,h={};for(B in D){f=D[B];for(var i=0;i<f.length;i++){z=f[i],x="$"+k.getJsName(z),d=y.get(x),d&&(d.$isWrapper&&(d=d.value),h[z]=e.toSource(d))}}return h}},{key:"applyVariables",value:function(u){var t=this,h=t.variableMap;for(var g in h){var i=h[g],e=document.querySelectorAll(g);if(e){for(var v=0;v<e.length;v++){for(var d=0;d<i.length;d++){var f=i[d];e[v].style.setProperty("--"+f,u[f])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return k.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var t=this,h=t.variableMap,d={};for(var g in h){var i=h[g],e=document.querySelectorAll(g);if(e){for(var u=0;u<e.length;u++){for(var v=0;v<i.length;v++){var f=i[v];d[f]=e[u].style.getPropertyValue("--"+f)}}}}return d}}]),c}();k.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),a.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,y,u){var A=x("../Base.js"),z=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),a=v.Color,C=v.Text,D=v.Numeric,B=v.List,E=v.Bool,r=v.Literal,s=v.ColorRGBA,F=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var g,f=this,j="",k=f.str,h=k.length,i=!1,d=!1,e=0;f.index<h;){if(g=k[f.index],f.index++,g<=" "&&!i&&!e){if(j.length){break}}else{if(";"===g&&!i&&!d){break}if("("===g&&e++,")"===g&&e&&e--,","===g&&!i&&!d&&!e){if(j.length){f.index--;break}return g}"\\"===g&&i?(d=1,f.index++):('"'!==g&&"'"!==g||(i?i===g&&(i=!1):i=g),d=!1,j+=g)}}return j}},{key:"parseValue",value:function(d){var e,k,j={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===d[0]||"'"===d[0]){return k=d=d.substring(1,d.length-1),new C(k,d[0])}if("true"===d){return new E((!0))}if("false"===d){return new E((!1))}if("null"===d){return r.Null}if("none"===d){return r.None}if(A.Color.map[d]){var f=a.map[d],i=new s(f[0],f[1],f[2],f[3]);return i.stringified=d,i}if(e=j.number.exec(d)){return new D(parseFloat(e[1]),e[2])}if(e=j.shortHexColor.exec(d)){return s.fromHex(e[1])}if(e=j.longHexColor.exec(d)){return s.fromHex(e[1])}if(e=j.functionCall.exec(d)){var g=e[1],h=this.parse(e[2]).items;return"hsla"===g||"hsl"===g?new F(z.unbox(h[0]),z.unbox(h[1]),z.unbox(h[2]),z.unbox(h[3])||1):"rgba"===g||"rgb"===g?new s(z.unbox(h[0]),z.unbox(h[1]),z.unbox(h[2]),z.unbox(h[3])||1):new t(g,h)}return(e=j.parenList.exec(d))?new t(this.parse(e[1])):new A.Literal(d)}},{key:"parse",value:function(e){var h,g=this,f=[],j=[],d=null;for(g.str=e,g.index=0;h=g._advance();){f.push(h)}for(var i=0;i<f.length;i++){h=f[i].trim(),","===f[i+1]?(d=d||[],d.push(g.parseValue(h)),i++):d?(d.push(g.parseValue(h)),j.push(new B(d,", ")),d=null):j.push(g.parseValue(h))}return 1===j.length?j[0]:new B(j," ")}}]),c}();y.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(n,m,o){var a=n("../Base.js"),p=n("./Type.js"),j=n("./Bool.js"),k=n("./Numeric.js"),l=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return j.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(i,f){var e,g=c.units[f],h=c.types[f],r=c.comps[f];return e="hsla"==h?i.getHSLA():i.getRGBA(),new k(e[r],g)}},{key:"adjust",value:function(i,f,h){var e=i.getHSLA().copy(),g=c.comps[f],r=h.value;return e[g]+=r,e.h=c.constrainDegrees(e.h),e.s=c.constrainPercentage(e.s),e.l=c.constrainPercentage(e.l),e.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);a.apply(l,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),a.apply(l.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),m.exports=l},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,j){var n=m("../Base.js"),l=m("./Color.js"),k=m("./ColorRGBA.js"),i=function(c){function d(g,h,e,f){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=l.constrainDegrees(g),p.s=h,p.l=e,void 0!==f&&(p.a=f),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return k.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(g,h,e,f){return new d(l.constrainDegrees(this.h+g),l.constrainPercentage(this.s+h),l.constrainPercentage(this.l+e),l.constrainAlpha(this.a*f))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=l.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=l.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var z=g.r/255,r=g.g/255,x=g.b/255,h=g.a,s=Math.max(z,r,x),f=Math.min(z,r,x),B=s-f,e=0,A=0,y=0.5*(s+f);return f!=s&&(A=y<0.5?B/(s+f):B/(2-s-f),e=z==s?60*(r-x)/B:r==s?120+60*(x-z)/B:240+60*(z-r)/B,e<0&&(e+=360),e>=360&&(e-=360)),new d(l.constrainDegrees(e),l.constrainPercentage(100*A),l.constrainPercentage(100*y),h)}}]),d}(l);k.prototype.getHSLA=function(){return i.fromRGBA(this)},n.apply(i.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=i},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,j){function i(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var n=m("../Base.js"),l=m("./Color.js"),k=function(d){function c(h,e,g,f){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,h)),p.g=Math.min(255,Math.max(0,e)),p.b=Math.min(255,Math.max(0,g)),void 0!==f&&(p.a=Math.min(1,Math.max(0,f))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,r=e(h.r),s=e(h.g),f=e(h.b),g=h.a,t="";return t=1===g?"#"+i(r)+i(s)+i(f):"rgba("+r+", "+s+", "+f+", "+g+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var h=this,e=Math.round,q=e(h.r),g=e(h.g),r=e(h.b),f=e(255*h.a);return"#"+i(f)+i(q)+i(g)+i(r)}},{key:"add",value:function(h,e,g,f){return new c(this.r+h,this.g+e,this.b+g,this.a*f)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(h){"#"==h.charAt(0)&&(h=h.substr(1));var e,f,g;3===h.length?(e=parseInt(h.charAt(0),16),f=parseInt(h.charAt(1),16),g=parseInt(h.charAt(2),16),e=(e<<4)+e,f=(f<<4)+f,g=(g<<4)+g):(e=parseInt(h.substring(0,2),16),f=parseInt(h.substring(2,4),16),g=parseInt(h.substring(4,6),16));var p=new c(e,f,g);return c.preserveInputStrings&&(p.stringified="#"+h),p}},{key:"fromHSLA",value:function(g){function s(o){return o<0&&++o,o>1&&--o,6*o<1?A+(B-A)*o*6:2*o<1?B:3*o<2?A+(B-A)*(2/3-o)*6:A}if(g.$isFashionRGBA){return g.clone()}var D=g,f=D.h/360,z=D.s/100,h=D.l/100,C=D.a,B=h<=0.5?h*(z+1):h+z-h*z,A=2*h-B,y=l.constrainChannel(255*s(f+1/3)),e=l.constrainChannel(255*s(f)),r=l.constrainChannel(255*s(f-1/3));return new c(y,e,r,C)}}]),c}(l);n.apply(k,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),n.apply(k.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new k(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new k(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=k,function(f,u,x,h){var v,e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],g=Object.keys(x);for(g.sort(),v=0;v<g.length;v++){var d=g[v],c=x[d],w=new f(c[0],c[1],c[2],c[3]),t=w.stringify();u[t]=d}e.forEach(function(p){var o=p+p;e.forEach(function(r){var q=r+r;e.forEach(function(F){var E=F+F,D="#"+p+r+F,C="#"+o+q+E;if(h[C]){var s=h[C];D=s.length>D.length?D:s}h[C]=D})})})}(k,k.stringifiedMap,l.map,k.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,a,l){var k=m("../Base.js"),n=m("./Type.js"),i=m("./Numeric.js"),j=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new i(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(n);k.apply(j.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),a.exports=j},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,a,n){var j=m("../Base.js"),l=m("./Type.js"),i=m("./List.js"),k=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new i(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(l);j.apply(k.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),a.exports=k},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("top"),n.push("bottom"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(linear, "+n.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var g=this.items,n=g.length,f=[],e=0;e<n;e++){f.push(g[e].clone())}return new c(f,this.separator)}},{key:"clone",value:function(e,r){if(r&&this.matches(e)){return r.clone()}for(var s=this.items,f=s.length,g=[],q=0;q<f;q++){g.push(s[q].clone(e,r))}var t=new c(g,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(e){for(var n=[],g=0;g<this.items.length;g++){var f=this.items[g];f&&n.push(f.toPrefixedString(e))}return n.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(m,a,n){var k=m("../Base.js"),o=m("./Type.js"),j=m("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=o.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=o.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new j(f+1)}}},{key:"insert",value:function(h,f){var g=o.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(o);k.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var l=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);k.apply(l.prototype,{$isFashionNull:!0,$constant:!0}),l.prototype.$isFashionNull=!0,p.Null=new l(null),p.None=new p("none"),a.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(s,a,q){var m=s("../Base.js"),o=s("./List.js"),n=s("./Type.js"),r=s("./Literal.js"),p=r.Null,t=s("./Numeric.js"),l=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof t&&(e=n.unbox(e)),"number"==typeof e?new o([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||p)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(o);m.apply(l.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),a.exports=l},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(m,a,n){var k=m("../Base.js"),o=m("./Type.js"),j=m("./Bool.js"),p=m("./Literal.js"),l=function(c){function d(g,h,f,i){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.value=g,e.unit=h,h&&!f?e.numeratorUnits=[h]:e.numeratorUnits=f||[],e.denominatorUnits=i||[],e}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(f,e){var g;this.unit||e.unit;return e.$isFashionRGBA||e.$isFashionHSLA?new p(this+f+e):e.$isFashionNumber?this.numericOperate(f,e):e.$isFashionLiteral&&(g=this.tryCoerce(e))?this.performOperation(f,g):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,f,e)}},{key:"tryNormalize",value:function(f){var g=f.value,e=f.unit;if(f.$isFashionNumber){switch(this.unit){case"mm":switch(e){case"in":return new d(25.4*g,"mm");case"cm":return new d(2.54*g,"mm")}break;case"cm":switch(e){case"in":return new d(2.54*g,"cm");case"mm":return new d(g/10,"cm")}break;case"in":switch(e){case"mm":return new d(g/25.4,"in");case"cm":return new d(g/2.54,"in")}break;case"ms":switch(e){case"s":return new d(1000*g,"ms")}break;case"s":switch(e){case"ms":return new d(g/1000,"s")}break;case"Hz":switch(e){case"kHz":return new d(1000*g,"Hz")}break;case"kHz":switch(e){case"Hz":return new d(g/1000,"kHz")}break;case"%":switch(e){default:return new d(g)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(f){var g=this.unit,e=f.unit;return !!f.$isFashionNumber&&(g===e||"mm"===g&&("in"===e||"cm"===e)||"cm"===g&&("in"===e||"mm"===e)||"in"===g&&("mm"===e||"cm"===e)||"ms"===g&&"s"===e||"s"===g&&"ms"===e||"Hz"===g&&"kHz"===e||"kHz"===g&&"Hz"===e)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=k.filter(e.num,function(f){return !!f}),e.den=k.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(y,g){this.normalizeUnits(),g.normalizeUnits();var f,h=this,i=g,z=d.OPERATIONS,e=d.NON_COERCE_OPERATIONS,x=z[y];if(x){try{h.unitless()?h=h.coerceUnits(i.numeratorUnits,i.denominatorUnits):i=i.coerceUnits(h.numeratorUnits,h.denominatorUnits)}catch(v){if("=="==y){return j.False}if("!="==y){return j.True}throw v}}else{x=e[y]}if(x&&(f=x(h.value,i.value)),"number"==typeof f){var w=this.computeUnits(h,i,y);return new d(f,w.num.length?w.num[0]:null,w.num,w.den)}return new j(f)}},{key:"computeUnits",value:function(e,f,g){switch(g){case"*":return{num:e.numeratorUnits.slice().concat(f.numeratorUnits),den:e.denominatorUnits.slice().concat(f.denominatorUnits)};case"/":return{num:e.numeratorUnits.slice().concat(f.denominatorUnits),den:e.denominatorUnits.slice().concat(f.numeratorUnits)};default:return{num:e.numeratorUnits,den:e.denominatorUnits}}}},{key:"coerceUnits",value:function(f,e){var g=this.value;return this.unitless()||(g=g*this.coercionFactor(this.numeratorUnits,f)/this.coercionFactor(this.denominatorUnits,e)),new d(g,f&&f[0],f,e)}},{key:"coercionFactor",value:function(i,z){var h=this.removeCommonUnits(i,z),f=h.num,x=h.den;f.length===x.length&&this.convertable(f||x)||k.raise("Incompatible units: "+f.join("*")+" and "+x.join("*"));for(var v=0;v<f.length;v++){for(var y=f[v],w=0;w<x.length;w++){var e=x[w],g=this.conversionFactor(y,e);if(null!==g){return g}}}return 1}},{key:"conversionFactor",value:function(g,h){var f=d.CONVERTABLE_UNITS,e=d.CONVERSION_TABLE,i=null;return f[g]&&f[h]&&(i=e[f[g]][f[h]]),null===i&&f[h]&&f[g]&&(i=1/e[f[h]][f[g]]),i}},{key:"convertable",value:function(f){if(f&&!Array.isArray(f)&&(f=[f]),f&&f.length){for(var g=d.CONVERTABLE_UNITS,e=0;e<f.length;e++){if(void 0===g[f[e]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(i,s){var e,t,t,g={},f=[],h=[];for(e=0;e<i.length;e++){t=i[e],g[t]=(g[t]||0)+1}for(e=0;e<s.length;e++){t=s[e],g[t]=(g[t]||0)-1}for(e=0;e<i.length;e++){t=i[e],g[t]>0&&(f.push(t),g[t]--)}for(e=0;e<s.length;e++){t=s[e],g[t]<0&&(h.push(t),g[t]++)}return{num:f,den:h}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(o);k.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),k.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),a.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(n,f,e){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.position=n,g.stops=e,g.shape=f,g}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("center 0%"),n.push("center 100%"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(radial, "+n.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,a,n){var k=m("../Base.js"),j=m("./TypeVisitor.js"),i=m("../Output.js"),l=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(f){for(var y,u=this.output,z=f.items,e=u.output.length,w=f.separator,x=w&&w.length,v=w&&w.indexOf(" ")>-1,h=u.output,g=0;g<z.length;g++){z[g]&&(this.visit(z[g]),y=u.output.length-e,!y&&x&&g>0&&(u.output=h),h=u.output,g<z.length-1&&x&&(u.add(w),v||u.space()),e=u.output.length)}}},{key:"map",value:function(h){var g,q,e=this.output,f=h.items;this.currDeclaration&&k.raise("("+h+") isn't a valid CSS value.");for(var r=0;r<f.length-1;r+=2){g=f[r],q=f[r+1],g&&q&&(r>0&&(e.add(","),e.space()),this.visit(g),e.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new i,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(j);k.apply(l.prototype,{output:null}),a.exports=l},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(q,e,o,r){e=e||"fashion",o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+q+"s*$"),r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+q+"\\s*$");var f=this.docs;if(f&&f.length){for(var d=0;d<this.docs.length;d++){var p=f[d];if(o.test(p)){return !0}if(r.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(q,e,o,r):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var _get=function get(f,c,b){null===f&&(f=Function.prototype);var d=Object.getOwnPropertyDescriptor(f,c);if(void 0===d){var a=Object.getPrototypeOf(f);return null===a?void 0:get(a,c,b)}if("value" in d){return d.value}var e=d.get;if(void 0!==e){return e.call(b)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,c){var h,e=b("./src/export/Base.js"),f=b("./src/export/css/CssVariableManager.js"),g=new f;e.apply(e,(h={css:g,CssExport:f,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(h,"Types",b("./src/export/type/Types.js")),_defineProperty(h,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(h,"Output",b("./src/export/Output.js")),_defineProperty(h,"Runtime",b("./src/export/Runtime.js")),h)),d.exports=e},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(b,n,h){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function B(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?B(F,G):C[E]=G):C[E]=G}}return C}function j(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function l(C){return C&&"function"==typeof C}function f(C,D){console.log(j("[DBG] "+C,D))}function A(C,D){console.log(j("[LOG] "+C,D))}function u(C,D){console.log(j("[INF] "+C,D))}function t(C,D){console.log(j("[WRN] "+C,D))}function s(C,D){console.log(j("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function e(D,E){var C;E&&(D=j(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function d(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function c(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function m(C){return C.length&&C[C.length-1]}function k(C){return C.length>2?C.slice(1):[]}function o(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function p(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;o(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function g(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?g(E,F-1,C):C.push(E)}return C}var i=b("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&B(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return m(this.items)}},{key:"tail",value:function(){return k(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};n.exports={EmptyArray:[],getJsName:i.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:B,createMessage:j,isFunction:l,debug:f,log:A,info:u,warn:t,error:s,raise:v,raiseAt:e,filter:d,convert:c,first:w,last:m,tail:k,mixin:p,flatten:g}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(o,n,d){var p=o("./Base.js"),i=p.Base,l=o("./type/Type.js"),e=o("./type/List.js"),r=o("./type/Bool.js"),j=o("./type/Color.js"),h=o("./type/ColorRGBA.js"),c=o("./type/Text.js"),q=o("./type/Literal.js"),b=o("./type/Statics.js"),m=o("./type/TypeVisitor.js"),f=o("./type/Types.js"),k=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(k.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var g=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:b.boxType,unbox:b.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(D,y){for(var A,B={},C=0,z=0;z<D.length;z++){var E=D[z];if(void 0!==E){if(E===!0||E===!1){B[y[C]]=E,C++}else{if(void 0===E.type){for(A in E){B[A.replace(/^\$/,"")]=E[A]}}else{A=y[C],A instanceof Array?(A=A[0],B[A]=B[A]||new e,B[A].add(E)):(B[A]=E,C++)}}}}return B},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new r(v)}},{key:"color",value:function t(x){var w=j.map[x],v=new h(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new c(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(y){y=y||this.types;for(var w,z=Object.getOwnPropertyNames(y),v=[],x=0;x<z.length;x++){w=z[x],v.push(w+" = Types."+w),v.push("__"+w+" = "+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(z){z=z||this.constructor.prototype;for(var y,w,v=[];z;){y=Object.getOwnPropertyNames(z);for(var x=0;x<y.length;x++){w=y[x],"function"==typeof z[w]&&v.push("__rt_"+w+" = __rt."+w+".bind(__rt)")}z=Object.getPrototypeOf(z)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var w,y=Object.getOwnPropertyNames(this),v=[],x=0;x<y.length;x++){w=y[x],v.push("__rt_"+w+" = __rt."+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new m(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new k(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(x,v,y){var w=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(y),w.map[x]=v,v}},{key:"setDynamic",value:function(y,v,z){var w,x=p.getJsName(y),A=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(z),v.$referenceName||v.$constant?(w=v.clone(),w.$previousReference=v,v=w,v.ast=this.getAstNode(z)):v.$referenceName=y,A.map[x]=v,v}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new e(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,x,B,w,z=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(w=y.getItems(),B=0;B<w.length;B++){x=w[B],x&&(x.splatSeparator=y.separator),z.push(x)}}else{z.push(y)}y&&(y.splat=void 0)}return z}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(i);p.apply(g.prototype,{box:l.box,unbox:l.unbox,Scope:k,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:f,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),n.exports=g},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(i,d,f){var e=i("../Base.js"),b=i("../Runtime.js"),h=i("../parse/ValueParser.js"),c=i("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new b}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(p){var u,v,s,m,r,w,t,q=this,n=q.getRuntime(),l=new h,k=q.variableMap;v=new n.Scope;for(m in p){u=e.getJsName(m.replace(q.nameRe,"")),0!==u.indexOf("$")&&(u="$"+u),v.put(u,l.parse(p[m]))}n._globalScope=v,n._currentScope=v;for(var o=0;o<q.calcFns.length;o++){q.calcFns[o](n)}s=new c,p={};for(m in k){r=k[m];for(var o=0;o<r.length;o++){u=r[o],w="$"+e.getJsName(u),t=v.get(w),t&&(t.$isWrapper&&(t=t.value),p[u]=s.toSource(t))}}return p}},{key:"applyVariables",value:function(r){var s=this,l=s.variableMap;for(var m in l){var k=l[m],o=document.querySelectorAll(m);if(o){for(var q=0;q<o.length;q++){for(var p=0;p<k.length;p++){var n=k[p];o[q].style.setProperty("--"+n,r[n])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return e.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var s=this,l=s.variableMap,p={};for(var m in l){var k=l[m],o=document.querySelectorAll(m);if(o){for(var r=0;r<o.length;r++){for(var q=0;q<k.length;q++){var n=k[q];p[n]=o[r].style.getPropertyValue("--"+n)}}}}return p}}]),j}();e.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),d.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,h,m){var f=j("../Base.js"),g=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),i=l.Color,d=l.Text,c=l.Numeric,e=l.List,q=l.Bool,b=l.Literal,p=l.ColorRGBA,o=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var w,x=this,t="",s=x.str,v=s.length,u=!1,z=!1,y=0;x.index<v;){if(w=s[x.index],x.index++,w<=" "&&!u&&!y){if(t.length){break}}else{if(";"===w&&!u&&!z){break}if("("===w&&y++,")"===w&&y&&y--,","===w&&!u&&!z&&!y){if(t.length){x.index--;break}return w}"\\"===w&&u?(z=1,x.index++):('"'!==w&&"'"!==w||(u?u===w&&(u=!1):u=w),z=!1,t+=w)}}return t}},{key:"parseValue",value:function(z){var y,s,t={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===z[0]||"'"===z[0]){return s=z=z.substring(1,z.length-1),new d(s,z[0])}if("true"===z){return new q((!0))}if("false"===z){return new q((!1))}if("null"===z){return b.Null}if("none"===z){return b.None}if(f.Color.map[z]){var x=i.map[z],u=new p(x[0],x[1],x[2],x[3]);return u.stringified=z,u}if(y=t.number.exec(z)){return new c(parseFloat(y[1]),y[2])}if(y=t.shortHexColor.exec(z)){return p.fromHex(y[1])}if(y=t.longHexColor.exec(z)){return p.fromHex(y[1])}if(y=t.functionCall.exec(z)){var w=y[1],v=this.parse(y[2]).items;return"hsla"===w||"hsl"===w?new o(g.unbox(v[0]),g.unbox(v[1]),g.unbox(v[2]),g.unbox(v[3])||1):"rgba"===w||"rgb"===w?new p(g.unbox(v[0]),g.unbox(v[1]),g.unbox(v[2]),g.unbox(v[3])||1):new n(w,v)}return(y=t.parenList.exec(z))?new n(this.parse(y[1])):new f.Literal(z)}},{key:"parse",value:function(x){var u,v=this,w=[],s=[],y=null;for(v.str=x,v.index=0;u=v._advance();){w.push(u)}for(var t=0;t<w.length;t++){u=w[t].trim(),","===w[t+1]?(y=y||[],y.push(v.parseValue(u)),t++):y?(y.push(v.parseValue(u)),s.push(new e(y,", ")),y=null):s.push(v.parseValue(u))}return 1===s.length?s[0]:new e(s," ")}}]),r}();h.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(i,b,h){var d=i("../Base.js"),g=i("./Type.js"),f=i("./Bool.js"),e=i("./Numeric.js"),c=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return f.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(l,p){var q,o=k.units[p],m=k.types[p],n=k.comps[p];return q="hsla"==m?l.getHSLA():l.getRGBA(),new e(q[n],o)}},{key:"adjust",value:function(l,p,m){var q=l.getHSLA().copy(),o=k.comps[p],n=m.value;return q[o]+=n,q.h=k.constrainDegrees(q.h),q.s=k.constrainPercentage(q.s),q.l=k.constrainPercentage(q.l),q.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);d.apply(c,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),d.apply(c.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),b.exports=c},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,f){var h=b("../Base.js"),c=b("./Color.js"),e=b("./ColorRGBA.js"),g=function(j){function i(l,k,o,m){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=c.constrainDegrees(l),n.s=k,n.l=o,void 0!==m&&(n.a=m),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return e.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(l,k,n,m){return new i(c.constrainDegrees(this.h+l),c.constrainPercentage(this.s+k),c.constrainPercentage(this.l+n),c.constrainAlpha(this.a*m))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=c.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=c.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var t=o.r/255,k=o.g/255,v=o.b/255,n=o.a,w=Math.max(t,k,v),p=Math.min(t,k,v),l=w-p,q=0,m=0,u=0.5*(w+p);return p!=w&&(m=u<0.5?l/(w+p):l/(2-w-p),q=t==w?60*(k-v)/l:k==w?120+60*(v-t)/l:240+60*(t-k)/l,q<0&&(q+=360),q>=360&&(q-=360)),new i(c.constrainDegrees(q),c.constrainPercentage(100*m),c.constrainPercentage(100*u),n)}}]),i}(c);e.prototype.getHSLA=function(){return g.fromRGBA(this)},h.apply(g.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=g},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,f){function g(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var h=b("../Base.js"),c=b("./Color.js"),e=function(i){function j(k,o,l,m){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,k)),n.g=Math.min(255,Math.max(0,o)),n.b=Math.min(255,Math.max(0,l)),void 0!==m&&(n.a=Math.min(1,Math.max(0,m))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,o=q(m.r),l=q(m.g),p=q(m.b),n=m.a,k="";return k=1===n?"#"+g(o)+g(l)+g(p):"rgba("+o+", "+l+", "+p+", "+n+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var k=this,p=Math.round,o=p(k.r),m=p(k.g),l=p(k.b),n=p(255*k.a);return"#"+g(n)+g(o)+g(m)+g(l)}},{key:"add",value:function(k,n,l,m){return new j(this.r+k,this.g+n,this.b+l,this.a*m)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(k){"#"==k.charAt(0)&&(k=k.substr(1));var o,m,l;3===k.length?(o=parseInt(k.charAt(0),16),m=parseInt(k.charAt(1),16),l=parseInt(k.charAt(2),16),o=(o<<4)+o,m=(m<<4)+m,l=(l<<4)+l):(o=parseInt(k.substring(0,2),16),m=parseInt(k.substring(2,4),16),l=parseInt(k.substring(4,6),16));var n=new j(o,m,l);return j.preserveInputStrings&&(n.stringified="#"+k),n}},{key:"fromHSLA",value:function(q){function x(r){return r<0&&++r,r>1&&--r,6*r<1?o+(n-o)*r*6:2*r<1?n:3*r<2?o+(n-o)*(2/3-r)*6:o}if(q.$isFashionRGBA){return q.clone()}var l=q,t=l.h/360,v=l.s/100,p=l.l/100,m=l.a,n=p<=0.5?p*(v+1):p+v-p*v,o=2*p-n,w=c.constrainChannel(255*x(t+1/3)),u=c.constrainChannel(255*x(t)),k=c.constrainChannel(255*x(t-1/3));return new j(w,u,k,m)}}]),j}(c);h.apply(e,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),h.apply(e.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new e(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new e(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=e,function(k,r,o,i){var q,l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],j=Object.keys(o);for(j.sort(),q=0;q<j.length;q++){var m=j[q],n=o[m],p=new k(n[0],n[1],n[2],n[3]),s=p.stringify();r[s]=m}l.forEach(function(t){var u=t+t;l.forEach(function(v){var w=v+v;l.forEach(function(y){var z=y+y,A="#"+t+v+y,B="#"+u+w+z;if(i[B]){var x=i[B];A=x.length>A.length?A:x}i[B]=A})})})}(e,e.stringifiedMap,c.map,e.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,c){var e=b("../Base.js"),h=b("./Type.js"),g=b("./Numeric.js"),f=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new g(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(h);e.apply(f.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=f},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,d,h){var f=b("../Base.js"),c=b("./Type.js"),g=b("./List.js"),e=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new g(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(c);f.apply(e.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),d.exports=e},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("top"),m.push("bottom"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(linear, "+m.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var j=this.items,m=j.length,k=[],l=0;l<m;l++){k.push(j[l].clone())}return new i(k,this.separator)}},{key:"clone",value:function(p,m){if(m&&this.matches(p)){return m.clone()}for(var k=this.items,o=k.length,l=[],n=0;n<o;n++){l.push(k[n].clone(p,m))}var j=new i(l,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(l){for(var m=[],j=0;j<this.items.length;j++){var k=this.items[j];k&&m.push(k.toPrefixedString(l))}return m.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(b,d,i){var e=b("../Base.js"),h=b("./Type.js"),f=b("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=h.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=h.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new f(l+1)}}},{key:"insert",value:function(l,n){var m=h.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(h);e.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);e.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),d.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(k,i,c){var g=k("../Base.js"),e=k("./List.js"),f=k("./Type.js"),b=k("./Literal.js"),d=b.Null,j=k("./Numeric.js"),h=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof j&&(n=f.unbox(n)),"number"==typeof n?new e([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||d)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(e);g.apply(h.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),i.exports=h},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(b,d,i){var e=b("../Base.js"),h=b("./Type.js"),f=b("./Bool.js"),g=b("./Literal.js"),c=function(k){function j(n,m,o,l){_classCallCheck(this,j);var p=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return p.value=n,p.unit=m,m&&!o?p.numeratorUnits=[m]:p.numeratorUnits=o||[],p.denominatorUnits=l||[],p}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(m,n){var l;this.unit||n.unit;return n.$isFashionRGBA||n.$isFashionHSLA?new g(this+m+n):n.$isFashionNumber?this.numericOperate(m,n):n.$isFashionLiteral&&(l=this.tryCoerce(n))?this.performOperation(m,l):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,m,n)}},{key:"tryNormalize",value:function(m){var l=m.value,n=m.unit;if(m.$isFashionNumber){switch(this.unit){case"mm":switch(n){case"in":return new j(25.4*l,"mm");case"cm":return new j(2.54*l,"mm")}break;case"cm":switch(n){case"in":return new j(2.54*l,"cm");case"mm":return new j(l/10,"cm")}break;case"in":switch(n){case"mm":return new j(l/25.4,"in");case"cm":return new j(l/2.54,"in")}break;case"ms":switch(n){case"s":return new j(1000*l,"ms")}break;case"s":switch(n){case"ms":return new j(l/1000,"s")}break;case"Hz":switch(n){case"kHz":return new j(1000*l,"Hz")}break;case"kHz":switch(n){case"Hz":return new j(l/1000,"kHz")}break;case"%":switch(n){default:return new j(l)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(m){var l=this.unit,n=m.unit;return !!m.$isFashionNumber&&(l===n||"mm"===l&&("in"===n||"cm"===n)||"cm"===l&&("in"===n||"mm"===n)||"in"===l&&("mm"===n||"cm"===n)||"ms"===l&&"s"===n||"s"===l&&"ms"===n||"Hz"===l&&"kHz"===n||"kHz"===l&&"Hz"===n)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=e.filter(l.num,function(m){return !!m}),l.den=e.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(r,n){this.normalizeUnits(),n.normalizeUnits();var o,m=this,l=n,q=j.OPERATIONS,p=j.NON_COERCE_OPERATIONS,s=q[r];if(s){try{m.unitless()?m=m.coerceUnits(l.numeratorUnits,l.denominatorUnits):l=l.coerceUnits(m.numeratorUnits,m.denominatorUnits)}catch(u){if("=="==r){return f.False}if("!="==r){return f.True}throw u}}else{s=p[r]}if(s&&(o=s(m.value,l.value)),"number"==typeof o){var t=this.computeUnits(m,l,r);return new j(o,t.num.length?t.num[0]:null,t.num,t.den)}return new f(o)}},{key:"computeUnits",value:function(n,m,l){switch(l){case"*":return{num:n.numeratorUnits.slice().concat(m.numeratorUnits),den:n.denominatorUnits.slice().concat(m.denominatorUnits)};case"/":return{num:n.numeratorUnits.slice().concat(m.denominatorUnits),den:n.denominatorUnits.slice().concat(m.numeratorUnits)};default:return{num:n.numeratorUnits,den:n.denominatorUnits}}}},{key:"coerceUnits",value:function(m,n){var l=this.value;return this.unitless()||(l=l*this.coercionFactor(this.numeratorUnits,m)/this.coercionFactor(this.denominatorUnits,n)),new j(l,m&&m[0],m,n)}},{key:"coercionFactor",value:function(l,q){var m=this.removeCommonUnits(l,q),o=m.num,s=m.den;o.length===s.length&&this.convertable(o||s)||e.raise("Incompatible units: "+o.join("*")+" and "+s.join("*"));for(var u=0;u<o.length;u++){for(var r=o[u],t=0;t<s.length;t++){var p=s[t],n=this.conversionFactor(r,p);if(null!==n){return n}}}return 1}},{key:"conversionFactor",value:function(n,m){var o=j.CONVERTABLE_UNITS,p=j.CONVERSION_TABLE,l=null;return o[n]&&o[m]&&(l=p[o[n]][o[m]]),null===l&&o[m]&&o[n]&&(l=1/p[o[m]][o[n]]),l}},{key:"convertable",value:function(m){if(m&&!Array.isArray(m)&&(m=[m]),m&&m.length){for(var l=j.CONVERTABLE_UNITS,n=0;n<m.length;n++){if(void 0===l[m[n]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(m,o){var r,l,l,p={},q=[],n=[];for(r=0;r<m.length;r++){l=m[r],p[l]=(p[l]||0)+1}for(r=0;r<o.length;r++){l=o[r],p[l]=(p[l]||0)-1}for(r=0;r<m.length;r++){l=m[r],p[l]>0&&(q.push(l),p[l]--)}for(r=0;r<o.length;r++){l=o[r],p[l]<0&&(n.push(l),p[l]++)}return{num:q,den:n}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(h);e.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),e.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),d.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(m,k,l){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.position=m,j.stops=l,j.shape=k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("center 0%"),m.push("center 100%"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(radial, "+m.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,d,h){var e=b("../Base.js"),f=b("./TypeVisitor.js"),g=b("../Output.js"),c=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(m){for(var p,t=this.output,o=m.items,n=t.output.length,r=m.separator,q=r&&r.length,s=r&&r.indexOf(" ")>-1,k=t.output,l=0;l<o.length;l++){o[l]&&(this.visit(o[l]),p=t.output.length-n,!p&&q&&l>0&&(t.output=k),k=t.output,l<o.length-1&&q&&(t.add(r),s||t.space()),n=t.output.length)}}},{key:"map",value:function(k){var m,o,p=this.output,n=k.items;this.currDeclaration&&e.raise("("+k+") isn't a valid CSS value.");for(var l=0;l<n.length-1;l+=2){m=n[l],o=n[l+1],m&&o&&(l>0&&(p.add(","),p.space()),this.visit(m),p.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new g,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(f);e.apply(c.prototype,{output:null}),d.exports=c},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(j,l,n,h){l=l||"fashion",n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+j+"s*$"),h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+j+"\\s*$");var i=this.docs;if(i&&i.length){for(var m=0;m<this.docs.length;m++){var k=i[m];if(n.test(k)){return !0}if(h.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(j,l,n,h):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(e,d,f){return d in e?Object.defineProperty(e,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):e[d]=f,e}var _get=function get(i,l,g){null===i&&(i=Function.prototype);var k=Object.getOwnPropertyDescriptor(i,l);if(void 0===k){var h=Object.getPrototypeOf(i);return null===h?void 0:get(h,l,g)}if("value" in k){return k.value}var j=k.get;if(void 0!==j){return j.call(g)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,m,n){var i,l=a("./src/export/Base.js"),k=a("./src/export/css/CssVariableManager.js"),j=new k;l.apply(l,(i={css:j,CssExport:k,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(i,"Types",a("./src/export/type/Types.js")),_defineProperty(i,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(i,"Output",a("./src/export/Output.js")),_defineProperty(i,"Runtime",a("./src/export/Runtime.js")),i)),m.exports=l},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(ab,P,V){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function L(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?L(d,c):g[e]=c):g[e]=c}}return g}function T(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function R(c){return c&&"function"==typeof c}function X(d,c){console.log(T("[DBG] "+d,c))}function N(d,c){console.log(T("[LOG] "+d,c))}function G(d,c){console.log(T("[INF] "+d,c))}function H(d,c){console.log(T("[WRN] "+d,c))}function I(d,c){console.log(T("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function Y(d,c){var e;c&&(d=T(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function Z(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function aa(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function Q(c){return c.length&&c[c.length-1]}function S(c){return c.length>2?c.slice(1):[]}function O(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function M(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;O(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function W(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?W(e,d-1,g):g.push(e)}return g}var U=ab("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&L(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return Q(this.items)}},{key:"tail",value:function(){return S(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};P.exports={EmptyArray:[],getJsName:U.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:L,createMessage:T,isFunction:R,debug:X,log:N,info:G,warn:H,error:I,raise:F,raiseAt:Y,filter:Z,convert:aa,first:E,last:Q,tail:S,mixin:M,flatten:W}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(u,v,F){var t=u("./Base.js"),A=t.Base,x=u("./type/Type.js"),E=u("./type/List.js"),a=u("./type/Bool.js"),z=u("./type/Color.js"),B=u("./type/ColorRGBA.js"),G=u("./type/Text.js"),s=u("./type/Literal.js"),H=u("./type/Statics.js"),w=u("./type/TypeVisitor.js"),D=u("./type/Types.js"),y=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(y.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var C=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:H.boxType,unbox:H.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(k,o){for(var i,n={},m=0,l=0;l<k.length;l++){var j=k[l];if(void 0!==j){if(j===!0||j===!1){n[o[m]]=j,m++}else{if(void 0===j.type){for(i in j){n[i.replace(/^\$/,"")]=j[i]}}else{i=o[m],i instanceof Array?(i=i[0],n[i]=n[i]||new E,n[i].add(j)):(n[i]=j,m++)}}}}return n},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new a(f)}},{key:"color",value:function d(f){var g=z.map[f],h=new B(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new G(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(j){j=j||this.types;for(var g,i=Object.getOwnPropertyNames(j),h=[],f=0;f<i.length;f++){g=i[f],h.push(g+" = Types."+g),h.push("__"+g+" = "+g)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(i){i=i||this.constructor.prototype;for(var j,g,h=[];i;){j=Object.getOwnPropertyNames(i);for(var f=0;f<j.length;f++){g=j[f],"function"==typeof i[g]&&h.push("__rt_"+g+" = __rt."+g+".bind(__rt)")}i=Object.getPrototypeOf(i)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var g,i=Object.getOwnPropertyNames(this),h=[],f=0;f<i.length;f++){g=i[f],h.push("__rt_"+g+" = __rt."+g)}return 0===h.length?"":"var "+h.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new w(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new y(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(f,h,i){var g=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),g.map[f]=h,h}},{key:"setDynamic",value:function(k,i,j){var h,g=t.getJsName(k),f=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(j),i.$referenceName||i.$constant?(h=i.clone(),h.$previousReference=i,i=h,i.ast=this.getAstNode(j)):i.$referenceName=k,f.map[g]=i,i}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new E(m,k)}},{key:"applySplatArgs",value:function(g){var l,i,f,k,h,j=[];for(i=0;i<g.length;i++){if(l=g[i],l&&l.splat&&l.$isFashionList){for(h=l.getItems(),k=0;k<h.length;k++){f=h[k],f&&(f.splatSeparator=l.separator),j.push(f)}}else{j.push(l)}l&&(l.splat=void 0)}return j}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(A);t.apply(C.prototype,{box:x.box,unbox:x.unbox,Scope:y,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:D,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),v.exports=C},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(j,o,m){var n=j("../Base.js"),a=j("../Runtime.js"),k=j("../parse/ValueParser.js"),p=j("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new a}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(f){var B,A,D,i,d,z,C,e=this,h=e.getRuntime(),x=new k,y=e.variableMap;A=new h.Scope;for(i in f){B=n.getJsName(i.replace(e.nameRe,"")),0!==B.indexOf("$")&&(B="$"+B),A.put(B,x.parse(f[i]))}h._globalScope=A,h._currentScope=A;for(var g=0;g<e.calcFns.length;g++){e.calcFns[g](h)}D=new p,f={};for(i in y){d=y[i];for(var g=0;g<d.length;g++){B=d[g],z="$"+n.getJsName(B),C=A.get(z),C&&(C.$isWrapper&&(C=C.value),f[B]=D.toSource(C))}}return f}},{key:"applyVariables",value:function(d){var v=this,t=v.variableMap;for(var i in t){var u=t[i],g=document.querySelectorAll(i);if(g){for(var e=0;e<g.length;e++){for(var f=0;f<u.length;f++){var h=u[f];g[e].style.setProperty("--"+h,d[h])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return n.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var v=this,t=v.variableMap,f={};for(var i in t){var u=t[i],g=document.querySelectorAll(i);if(g){for(var d=0;d<g.length;d++){for(var e=0;e<u.length;e++){var h=u[e];f[h]=g[d].style.getPropertyValue("--"+h)}}}}return f}}]),c}();n.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),o.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,z,u){var B=x("../Base.js"),A=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),y=v.Color,D=v.Text,E=v.Numeric,C=v.List,a=v.Bool,F=v.Literal,r=v.ColorRGBA,s=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var e,d=this,h="",i=d.str,f=i.length,g=!1,j=!1,k=0;d.index<f;){if(e=i[d.index],d.index++,e<=" "&&!g&&!k){if(h.length){break}}else{if(";"===e&&!g&&!j){break}if("("===e&&k++,")"===e&&k&&k--,","===e&&!g&&!j&&!k){if(h.length){d.index--;break}return e}"\\"===e&&g?(j=1,d.index++):('"'!==e&&"'"!==e||(g?g===e&&(g=!1):g=e),j=!1,h+=e)}}return h}},{key:"parseValue",value:function(j){var k,i,h={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===j[0]||"'"===j[0]){return i=j=j.substring(1,j.length-1),new D(i,j[0])}if("true"===j){return new a((!0))}if("false"===j){return new a((!1))}if("null"===j){return F.Null}if("none"===j){return F.None}if(B.Color.map[j]){var d=y.map[j],g=new r(d[0],d[1],d[2],d[3]);return g.stringified=j,g}if(k=h.number.exec(j)){return new E(parseFloat(k[1]),k[2])}if(k=h.shortHexColor.exec(j)){return r.fromHex(k[1])}if(k=h.longHexColor.exec(j)){return r.fromHex(k[1])}if(k=h.functionCall.exec(j)){var e=k[1],f=this.parse(k[2]).items;return"hsla"===e||"hsl"===e?new s(A.unbox(f[0]),A.unbox(f[1]),A.unbox(f[2]),A.unbox(f[3])||1):"rgba"===e||"rgb"===e?new r(A.unbox(f[0]),A.unbox(f[1]),A.unbox(f[2]),A.unbox(f[3])||1):new t(e,f)}return(k=h.parenList.exec(j))?new t(this.parse(k[1])):new B.Literal(j)}},{key:"parse",value:function(d){var g,f=this,e=[],i=[],j=null;for(f.str=d,f.index=0;g=f._advance();){e.push(g)}for(var h=0;h<e.length;h++){g=e[h].trim(),","===e[h+1]?(j=j||[],j.push(f.parseValue(g)),h++):j?(j.push(f.parseValue(g)),i.push(new C(j,", ")),j=null):i.push(f.parseValue(g))}return 1===i.length?i[0]:new C(i," ")}}]),c}();z.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(j,a,k){var o=j("../Base.js"),l=j("./Type.js"),m=j("./Bool.js"),n=j("./Numeric.js"),p=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return m.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(f,h){var g,i=c.units[h],e=c.types[h],r=c.comps[h];return g="hsla"==e?f.getHSLA():f.getRGBA(),new n(g[r],i)}},{key:"adjust",value:function(f,h,e){var g=f.getHSLA().copy(),i=c.comps[h],r=e.value;return g[i]+=r,g.h=c.constrainDegrees(g.h),g.s=c.constrainPercentage(g.s),g.l=c.constrainPercentage(g.l),g.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);o.apply(p,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),o.apply(p.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),a.exports=p},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,k){var i=a("../Base.js"),n=a("./Color.js"),l=a("./ColorRGBA.js"),j=function(c){function d(f,g,h,e){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=n.constrainDegrees(f),p.s=g,p.l=h,void 0!==e&&(p.a=e),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return l.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(f,g,h,e){return new d(n.constrainDegrees(this.h+f),n.constrainPercentage(this.s+g),n.constrainPercentage(this.l+h),n.constrainAlpha(this.a*e))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=n.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=n.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var B=g.r/255,x=g.g/255,z=g.b/255,h=g.a,y=Math.max(B,x,z),f=Math.min(B,x,z),s=y-f,e=0,r=0,A=0.5*(y+f);return f!=y&&(r=A<0.5?s/(y+f):s/(2-y-f),e=B==y?60*(x-z)/s:x==y?120+60*(z-B)/s:240+60*(B-x)/s,e<0&&(e+=360),e>=360&&(e-=360)),new d(n.constrainDegrees(e),n.constrainPercentage(100*r),n.constrainPercentage(100*A),h)}}]),d}(n);l.prototype.getHSLA=function(){return j.fromRGBA(this)},i.apply(j.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=j},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,k){function j(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var i=a("../Base.js"),n=a("./Color.js"),l=function(d){function c(g,h,f,e){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,g)),p.g=Math.min(255,Math.max(0,h)),p.b=Math.min(255,Math.max(0,f)),void 0!==e&&(p.a=Math.min(1,Math.max(0,e))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,s=h(e.r),f=h(e.g),r=h(e.b),t=e.a,g="";return g=1===t?"#"+j(s)+j(f)+j(r):"rgba("+s+", "+f+", "+r+", "+t+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var g=this,h=Math.round,q=h(g.r),e=h(g.g),f=h(g.b),r=h(255*g.a);return"#"+j(r)+j(q)+j(e)+j(f)}},{key:"add",value:function(g,h,f,e){return new c(this.r+g,this.g+h,this.b+f,this.a*e)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(g){"#"==g.charAt(0)&&(g=g.substr(1));var h,e,f;3===g.length?(h=parseInt(g.charAt(0),16),e=parseInt(g.charAt(1),16),f=parseInt(g.charAt(2),16),h=(h<<4)+h,e=(e<<4)+e,f=(f<<4)+f):(h=parseInt(g.substring(0,2),16),e=parseInt(g.substring(2,4),16),f=parseInt(g.substring(4,6),16));var p=new c(h,e,f);return c.preserveInputStrings&&(p.stringified="#"+g),p}},{key:"fromHSLA",value:function(e){function z(o){return o<0&&++o,o>1&&--o,6*o<1?g+(h-g)*o*6:2*o<1?h:3*o<2?g+(h-g)*(2/3-o)*6:g}if(e.$isFashionRGBA){return e.clone()}var s=e,D=s.h/360,B=s.s/100,f=s.l/100,r=s.a,h=f<=0.5?f*(B+1):f+B-f*B,g=2*f-h,A=n.constrainChannel(255*z(D+1/3)),C=n.constrainChannel(255*z(D)),y=n.constrainChannel(255*z(D-1/3));return new c(A,C,y,r)}}]),c}(n);i.apply(l,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),i.apply(l.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new l(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new l(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=l,function(u,c,f,w){var d,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],v=Object.keys(f);for(v.sort(),d=0;d<v.length;d++){var h=v[d],g=f[h],e=new u(g[0],g[1],g[2],g[3]),x=e.stringify();c[x]=h}t.forEach(function(p){var o=p+p;t.forEach(function(r){var q=r+r;t.forEach(function(F){var D=F+F,C="#"+p+r+F,E="#"+o+q+D;if(w[E]){var s=w[E];C=s.length>C.length?C:s}w[E]=C})})})}(l,l.stringifiedMap,n.map,l.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,m,n){var l=a("../Base.js"),i=a("./Type.js"),j=a("./Numeric.js"),k=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new j(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(i);l.apply(k.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),m.exports=k},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,m,i){var k=a("../Base.js"),n=a("./Type.js"),j=a("./List.js"),l=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new j(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(n);k.apply(l.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),m.exports=l},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("top"),e.push("bottom"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(linear, "+e.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var n=this.items,e=n.length,g=[],f=0;f<e;f++){g.push(n[f].clone())}return new c(g,this.separator)}},{key:"clone",value:function(r,e){if(e&&this.matches(r)){return e.clone()}for(var g=this.items,s=g.length,f=[],t=0;t<s;t++){f.push(g[t].clone(r,e))}var q=new c(f,this.separator);return q.$referenceName=this.$referenceName,q.$referenceBase=this.$referenceBase,q.$previousReference=this.$previousReference,q}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(f){for(var e=[],n=0;n<this.items.length;n++){var g=this.items[n];g&&e.push(g.toPrefixedString(f))}return e.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(a,o,j){var n=a("../Base.js"),k=a("./Type.js"),m=a("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=k.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=k.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new m(f+1)}}},{key:"insert",value:function(f,h){var e=k.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(k);n.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var p=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);n.apply(p.prototype,{$isFashionNull:!0,$constant:!0}),p.prototype.$isFashionNull=!0,l.Null=new p(null),l.None=new l("none"),o.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(a,m,s){var o=a("../Base.js"),q=a("./List.js"),p=a("./Type.js"),t=a("./Literal.js"),r=t.Null,l=a("./Numeric.js"),n=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof l&&(e=p.unbox(e)),"number"==typeof e?new q([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||r)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(q);o.apply(n.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),m.exports=n},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(a,o,j){var n=a("../Base.js"),k=a("./Type.js"),m=a("./Bool.js"),l=a("./Literal.js"),p=function(c){function d(i,e,h,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.value=i,g.unit=e,e&&!h?g.numeratorUnits=[e]:g.numeratorUnits=h||[],g.denominatorUnits=f||[],g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(e,g){var f;this.unit||g.unit;return g.$isFashionRGBA||g.$isFashionHSLA?new l(this+e+g):g.$isFashionNumber?this.numericOperate(e,g):g.$isFashionLiteral&&(f=this.tryCoerce(g))?this.performOperation(e,f):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,e,g)}},{key:"tryNormalize",value:function(e){var f=e.value,g=e.unit;if(e.$isFashionNumber){switch(this.unit){case"mm":switch(g){case"in":return new d(25.4*f,"mm");case"cm":return new d(2.54*f,"mm")}break;case"cm":switch(g){case"in":return new d(2.54*f,"cm");case"mm":return new d(f/10,"cm")}break;case"in":switch(g){case"mm":return new d(f/25.4,"in");case"cm":return new d(f/2.54,"in")}break;case"ms":switch(g){case"s":return new d(1000*f,"ms")}break;case"s":switch(g){case"ms":return new d(f/1000,"s")}break;case"Hz":switch(g){case"kHz":return new d(1000*f,"Hz")}break;case"kHz":switch(g){case"Hz":return new d(f/1000,"kHz")}break;case"%":switch(g){default:return new d(f)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(e){var f=this.unit,g=e.unit;return !!e.$isFashionNumber&&(f===g||"mm"===f&&("in"===g||"cm"===g)||"cm"===f&&("in"===g||"mm"===g)||"in"===f&&("mm"===g||"cm"===g)||"ms"===f&&"s"===g||"s"===f&&"ms"===g||"Hz"===f&&"kHz"===g||"kHz"===f&&"Hz"===g)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=n.filter(e.num,function(f){return !!f}),e.den=n.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(e,i){this.normalizeUnits(),i.normalizeUnits();var h,v=this,w=i,f=d.OPERATIONS,g=d.NON_COERCE_OPERATIONS,z=f[e];if(z){try{v.unitless()?v=v.coerceUnits(w.numeratorUnits,w.denominatorUnits):w=w.coerceUnits(v.numeratorUnits,v.denominatorUnits)}catch(x){if("=="==e){return m.False}if("!="==e){return m.True}throw x}}else{z=g[e]}if(z&&(h=z(v.value,w.value)),"number"==typeof h){var y=this.computeUnits(v,w,e);return new d(h,y.num.length?y.num[0]:null,y.num,y.den)}return new m(h)}},{key:"computeUnits",value:function(g,e,f){switch(f){case"*":return{num:g.numeratorUnits.slice().concat(e.numeratorUnits),den:g.denominatorUnits.slice().concat(e.denominatorUnits)};case"/":return{num:g.numeratorUnits.slice().concat(e.denominatorUnits),den:g.denominatorUnits.slice().concat(e.numeratorUnits)};default:return{num:g.numeratorUnits,den:g.denominatorUnits}}}},{key:"coerceUnits",value:function(e,g){var f=this.value;return this.unitless()||(f=f*this.coercionFactor(this.numeratorUnits,e)/this.coercionFactor(this.denominatorUnits,g)),new d(f,e&&e[0],e,g)}},{key:"coercionFactor",value:function(w,f){var v=this.removeCommonUnits(w,f),h=v.num,z=v.den;h.length===z.length&&this.convertable(h||z)||n.raise("Incompatible units: "+h.join("*")+" and "+z.join("*"));for(var x=0;x<h.length;x++){for(var e=h[x],y=0;y<z.length;y++){var g=z[y],i=this.conversionFactor(e,g);if(null!==i){return i}}}return 1}},{key:"conversionFactor",value:function(i,e){var h=d.CONVERTABLE_UNITS,g=d.CONVERSION_TABLE,f=null;return h[i]&&h[e]&&(f=g[h[i]][h[e]]),null===f&&h[e]&&h[i]&&(f=1/g[h[e]][h[i]]),f}},{key:"convertable",value:function(e){if(e&&!Array.isArray(e)&&(e=[e]),e&&e.length){for(var f=d.CONVERTABLE_UNITS,g=0;g<e.length;g++){if(void 0===f[e[g]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(e,s){var g,f,f,i={},h=[],t=[];for(g=0;g<e.length;g++){f=e[g],i[f]=(i[f]||0)+1}for(g=0;g<s.length;g++){f=s[g],i[f]=(i[f]||0)-1}for(g=0;g<e.length;g++){f=e[g],i[f]>0&&(h.push(f),i[f]--)}for(g=0;g<s.length;g++){f=s[g],i[f]<0&&(t.push(f),i[f]++)}return{num:h,den:t}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(k);n.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),n.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),o.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(e,g,f){_classCallCheck(this,c);var n=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return n.position=e,n.stops=f,n.shape=g,n}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var n,e=[],f=this.stops.items,g=f.length;for(e.push("center 0%"),e.push("center 100%"),n=0;n<g;n++){e.push(f[n].toOriginalWebkitString())}return"-webkit-gradient(radial, "+e.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,m,i){var l=a("../Base.js"),k=a("./TypeVisitor.js"),j=a("../Output.js"),n=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(v){for(var g,y=this.output,h=v.items,u=y.output.length,e=v.separator,f=e&&e.length,z=e&&e.indexOf(" ")>-1,x=y.output,w=0;w<h.length;w++){h[w]&&(this.visit(h[w]),g=y.output.length-u,!g&&f&&w>0&&(y.output=x),x=y.output,w<h.length-1&&f&&(y.add(e),z||y.space()),u=y.output.length)}}},{key:"map",value:function(g){var e,q,h=this.output,r=g.items;this.currDeclaration&&l.raise("("+g+") isn't a valid CSS value.");for(var f=0;f<r.length-1;f+=2){e=r[f],q=r[f+1],e&&q&&(f>0&&(h.add(","),h.space()),this.visit(e),h.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new j,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(k);l.apply(n.prototype,{output:null}),m.exports=n},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(o,e,r,q){e=e||"fashion",r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+o+"s*$"),q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+o+"\\s*$");var p=this.docs;if(p&&p.length){for(var d=0;d<this.docs.length;d++){var f=p[d];if(r.test(f)){return !0}if(q.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(o,e,r,q):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(b,c,a){return c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a,b}var _get=function get(d,a,f){null===d&&(d=Function.prototype);var b=Object.getOwnPropertyDescriptor(d,a);if(void 0===b){var e=Object.getPrototypeOf(d);return null===e?void 0:get(e,a,f)}if("value" in b){return b.value}var c=b.get;if(void 0!==c){return c.call(f)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,b,h){var g,c=d("./src/export/Base.js"),e=d("./src/export/css/CssVariableManager.js"),f=new e;c.apply(c,(g={css:f,CssExport:e,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(g,"Types",d("./src/export/type/Types.js")),_defineProperty(g,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(g,"Output",d("./src/export/Output.js")),_defineProperty(g,"Runtime",d("./src/export/Runtime.js")),g)),b.exports=c},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(A,l,f){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function p(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?p(F,G):C[E]=G):C[E]=G}}return C}function h(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function j(C){return C&&"function"==typeof C}function d(C,D){console.log(h("[DBG] "+C,D))}function n(C,D){console.log(h("[LOG] "+C,D))}function u(C,D){console.log(h("[INF] "+C,D))}function t(C,D){console.log(h("[WRN] "+C,D))}function s(C,D){console.log(h("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function c(D,E){var C;E&&(D=h(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function b(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function B(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function k(C){return C.length&&C[C.length-1]}function i(C){return C.length>2?C.slice(1):[]}function m(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function o(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;m(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function e(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?e(E,F-1,C):C.push(E)}return C}var g=A("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&p(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return k(this.items)}},{key:"tail",value:function(){return i(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};l.exports={EmptyArray:[],getJsName:g.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:p,createMessage:h,isFunction:j,debug:d,log:n,info:u,warn:t,error:s,raise:v,raiseAt:c,filter:b,convert:B,first:w,last:k,tail:i,mixin:o,flatten:e}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(n,l,o){var p=n("./Base.js"),e=p.Base,i=n("./type/Type.js"),r=n("./type/List.js"),h=n("./type/Bool.js"),f=n("./type/Color.js"),d=n("./type/ColorRGBA.js"),m=n("./type/Text.js"),q=n("./type/Literal.js"),k=n("./type/Statics.js"),j=n("./type/TypeVisitor.js"),b=n("./type/Types.js"),g=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(g.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var c=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:k.boxType,unbox:k.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(A,D){for(var C,E={},y=0,z=0;z<A.length;z++){var B=A[z];if(void 0!==B){if(B===!0||B===!1){E[D[y]]=B,y++}else{if(void 0===B.type){for(C in B){E[C.replace(/^\$/,"")]=B[C]}}else{C=D[y],C instanceof Array?(C=C[0],E[C]=E[C]||new r,E[C].add(B)):(E[C]=B,y++)}}}}return E},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new h(v)}},{key:"color",value:function t(x){var w=f.map[x],v=new d(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new m(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(v){v=v||this.types;for(var y,w=Object.getOwnPropertyNames(v),x=[],z=0;z<w.length;z++){y=w[z],x.push(y+" = Types."+y),x.push("__"+y+" = "+y)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(w){w=w||this.constructor.prototype;for(var v,y,x=[];w;){v=Object.getOwnPropertyNames(w);for(var z=0;z<v.length;z++){y=v[z],"function"==typeof w[y]&&x.push("__rt_"+y+" = __rt."+y+".bind(__rt)")}w=Object.getPrototypeOf(w)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var x,v=Object.getOwnPropertyNames(this),w=[],y=0;y<v.length;y++){x=v[y],w.push("__rt_"+x+" = __rt."+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new j(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new g(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(y,w,v){var x=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),x.map[y]=w,w}},{key:"setDynamic",value:function(v,x,w){var y,z=p.getJsName(v),A=this._globalScope;return x&&x.$isFashionLiteral||(x=this.box(x)),x.ast=x.ast||this.getAstNode(w),x.$referenceName||x.$constant?(y=x.clone(),y.$previousReference=x,x=y,x.ast=this.getAstNode(w)):x.$referenceName=v,A.map[z]=x,x}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new r(w,y)}},{key:"applySplatArgs",value:function(A){var v,y,B,w,z,x=[];for(y=0;y<A.length;y++){if(v=A[y],v&&v.splat&&v.$isFashionList){for(z=v.getItems(),w=0;w<z.length;w++){B=z[w],B&&(B.splatSeparator=v.separator),x.push(B)}}else{x.push(v)}v&&(v.splat=void 0)}return x}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(e);p.apply(c.prototype,{box:i.box,unbox:i.unbox,Scope:g,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:b,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),l.exports=c},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(f,h,b){var i=f("../Base.js"),d=f("../Runtime.js"),e=f("../parse/ValueParser.js"),g=f("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new d}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(r){var m,n,k,o,t,u,l,s=this,p=s.getRuntime(),w=new e,v=s.variableMap;n=new p.Scope;for(o in r){m=i.getJsName(o.replace(s.nameRe,"")),0!==m.indexOf("$")&&(m="$"+m),n.put(m,w.parse(r[o]))}p._globalScope=n,p._currentScope=n;for(var q=0;q<s.calcFns.length;q++){s.calcFns[q](p)}k=new g,r={};for(o in v){t=v[o];for(var q=0;q<t.length;q++){m=t[q],u="$"+i.getJsName(m),l=n.get(u),l&&(l.$isWrapper&&(l=l.value),r[m]=k.toSource(l))}}return r}},{key:"applyVariables",value:function(p){var q=this,s=q.variableMap;for(var k in s){var r=s[k],m=document.querySelectorAll(k);if(m){for(var o=0;o<m.length;o++){for(var n=0;n<r.length;n++){var l=r[n];m[o].style.setProperty("--"+l,p[l])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return i.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var q=this,s=q.variableMap,n={};for(var k in s){var r=s[k],m=document.querySelectorAll(k);if(m){for(var p=0;p<m.length;p++){for(var o=0;o<r.length;o++){var l=r[o];n[l]=m[p].style.getPropertyValue("--"+l)}}}}return n}}]),j}();i.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),h.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,g,m){var e=j("../Base.js"),f=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),h=l.Color,c=l.Text,q=l.Numeric,d=l.List,i=l.Bool,o=l.Literal,b=l.ColorRGBA,p=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var y,z=this,v="",u=z.str,x=u.length,w=!1,t=!1,s=0;z.index<x;){if(y=u[z.index],z.index++,y<=" "&&!w&&!s){if(v.length){break}}else{if(";"===y&&!w&&!t){break}if("("===y&&s++,")"===y&&s&&s--,","===y&&!w&&!t&&!s){if(v.length){z.index--;break}return y}"\\"===y&&w?(t=1,z.index++):('"'!==y&&"'"!==y||(w?w===y&&(w=!1):w=y),t=!1,v+=y)}}return v}},{key:"parseValue",value:function(t){var s,u,v={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===t[0]||"'"===t[0]){return u=t=t.substring(1,t.length-1),new c(u,t[0])}if("true"===t){return new i((!0))}if("false"===t){return new i((!1))}if("null"===t){return o.Null}if("none"===t){return o.None}if(e.Color.map[t]){var z=h.map[t],w=new b(z[0],z[1],z[2],z[3]);return w.stringified=t,w}if(s=v.number.exec(t)){return new q(parseFloat(s[1]),s[2])}if(s=v.shortHexColor.exec(t)){return b.fromHex(s[1])}if(s=v.longHexColor.exec(t)){return b.fromHex(s[1])}if(s=v.functionCall.exec(t)){var y=s[1],x=this.parse(s[2]).items;return"hsla"===y||"hsl"===y?new p(f.unbox(x[0]),f.unbox(x[1]),f.unbox(x[2]),f.unbox(x[3])||1):"rgba"===y||"rgb"===y?new b(f.unbox(x[0]),f.unbox(x[1]),f.unbox(x[2]),f.unbox(x[3])||1):new n(y,x)}return(s=v.parenList.exec(t))?new n(this.parse(s[1])):new e.Literal(t)}},{key:"parse",value:function(y){var v,w=this,x=[],t=[],s=null;for(w.str=y,w.index=0;v=w._advance();){x.push(v)}for(var u=0;u<x.length;u++){v=x[u].trim(),","===x[u+1]?(s=s||[],s.push(w.parseValue(v)),u++):s?(s.push(w.parseValue(v)),t.push(new d(s,", ")),s=null):t.push(w.parseValue(v))}return 1===t.length?t[0]:new d(t," ")}}]),r}();g.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(f,d,e){var h=f("../Base.js"),c=f("./Type.js"),b=f("./Bool.js"),i=f("./Numeric.js"),g=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return b.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(p,m){var o,l=k.units[m],q=k.types[m],n=k.comps[m];return o="hsla"==q?p.getHSLA():p.getRGBA(),new i(o[n],l)}},{key:"adjust",value:function(p,m,q){var o=p.getHSLA().copy(),l=k.comps[m],n=q.value;return o[l]+=n,o.h=k.constrainDegrees(o.h),o.s=k.constrainPercentage(o.s),o.l=k.constrainPercentage(o.l),o.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);h.apply(g,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),h.apply(g.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),d.exports=g},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,e){var g=d("../Base.js"),h=d("./Color.js"),c=d("./ColorRGBA.js"),f=function(j){function i(m,l,k,o){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=h.constrainDegrees(m),n.s=l,n.l=k,void 0!==o&&(n.a=o),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return c.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(m,l,k,n){return new i(h.constrainDegrees(this.h+m),h.constrainPercentage(this.s+l),h.constrainPercentage(this.l+k),h.constrainAlpha(this.a*n))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=h.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=h.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var l=o.r/255,v=o.g/255,t=o.b/255,n=o.a,u=Math.max(l,v,t),p=Math.min(l,v,t),w=u-p,q=0,k=0,m=0.5*(u+p);return p!=u&&(k=m<0.5?w/(u+p):w/(2-u-p),q=l==u?60*(v-t)/w:v==u?120+60*(t-l)/w:240+60*(l-v)/w,q<0&&(q+=360),q>=360&&(q-=360)),new i(h.constrainDegrees(q),h.constrainPercentage(100*k),h.constrainPercentage(100*m),n)}}]),i}(h);c.prototype.getHSLA=function(){return f.fromRGBA(this)},g.apply(f.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=f},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,e){function f(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var g=d("../Base.js"),h=d("./Color.js"),c=function(i){function j(l,k,m,o){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,l)),n.g=Math.min(255,Math.max(0,k)),n.b=Math.min(255,Math.max(0,m)),void 0!==o&&(n.a=Math.min(1,Math.max(0,o))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,l=m(q.r),p=m(q.g),o=m(q.b),k=q.a,n="";return n=1===k?"#"+f(l)+f(p)+f(o):"rgba("+l+", "+p+", "+o+", "+k+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var m=this,k=Math.round,o=k(m.r),p=k(m.g),n=k(m.b),l=k(255*m.a);return"#"+f(l)+f(o)+f(p)+f(n)}},{key:"add",value:function(l,k,m,n){return new j(this.r+l,this.g+k,this.b+m,this.a*n)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(l){"#"==l.charAt(0)&&(l=l.substr(1));var k,o,m;3===l.length?(k=parseInt(l.charAt(0),16),o=parseInt(l.charAt(1),16),m=parseInt(l.charAt(2),16),k=(k<<4)+k,o=(o<<4)+o,m=(m<<4)+m):(k=parseInt(l.substring(0,2),16),o=parseInt(l.substring(2,4),16),m=parseInt(l.substring(4,6),16));var n=new j(k,o,m);return j.preserveInputStrings&&(n.stringified="#"+l),n}},{key:"fromHSLA",value:function(u){function v(r){return r<0&&++r,r>1&&--r,6*r<1?q+(p-q)*r*6:2*r<1?p:3*r<2?q+(p-q)*(2/3-r)*6:q}if(u.$isFashionRGBA){return u.clone()}var x=u,k=x.h/360,n=x.s/100,t=x.l/100,l=x.a,p=t<=0.5?t*(n+1):t+n-t*n,q=2*t-p,o=h.constrainChannel(255*v(k+1/3)),m=h.constrainChannel(255*v(k)),w=h.constrainChannel(255*v(k-1/3));return new j(o,m,w,l)}}]),j}(h);g.apply(c,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),g.apply(c.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new c(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new c(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=c,function(r,n,k,p){var m,s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],q=Object.keys(k);for(q.sort(),m=0;m<q.length;m++){var i=q[m],j=k[i],l=new r(j[0],j[1],j[2],j[3]),o=l.stringify();n[o]=i}s.forEach(function(t){var u=t+t;s.forEach(function(v){var w=v+v;s.forEach(function(y){var A=y+y,B="#"+t+v+y,z="#"+u+w+A;if(p[z]){var x=p[z];B=x.length>B.length?B:x}p[z]=B})})})}(c,c.stringifiedMap,h.map,c.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,b,h){var c=d("../Base.js"),g=d("./Type.js"),f=d("./Numeric.js"),e=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new f(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(g);c.apply(e.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),b.exports=e},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,b,g){var e=d("../Base.js"),h=d("./Type.js"),f=d("./List.js"),c=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new f(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(h);e.apply(c.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),b.exports=c},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("top"),l.push("bottom"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(linear, "+l.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var m=this.items,l=m.length,j=[],k=0;k<l;k++){j.push(m[k].clone())}return new i(j,this.separator)}},{key:"clone",value:function(m,p){if(p&&this.matches(m)){return p.clone()}for(var l=this.items,k=l.length,o=[],j=0;j<k;j++){o.push(l[j].clone(m,p))}var n=new i(o,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(k){for(var l=[],m=0;m<this.items.length;m++){var j=this.items[m];j&&l.push(j.toPrefixedString(k))}return l.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(d,h,f){var i=d("../Base.js"),e=d("./Type.js"),b=d("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=e.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=e.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new b(l+1)}}},{key:"insert",value:function(n,l){var o=e.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(e);i.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var g=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);i.apply(g.prototype,{$isFashionNull:!0,$constant:!0}),g.prototype.$isFashionNull=!0,c.Null=new g(null),c.None=new c("none"),h.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(i,g,k){var e=i("../Base.js"),c=i("./List.js"),d=i("./Type.js"),j=i("./Literal.js"),b=j.Null,h=i("./Numeric.js"),f=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof h&&(n=d.unbox(n)),"number"==typeof n?new c([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||b)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(c);e.apply(f.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),g.exports=f},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(d,h,f){var i=d("../Base.js"),e=d("./Type.js"),b=d("./Bool.js"),c=d("./Literal.js"),g=function(k){function j(l,p,m,o){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.value=l,n.unit=p,p&&!m?n.numeratorUnits=[p]:n.numeratorUnits=m||[],n.denominatorUnits=o||[],n}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(n,l){var m;this.unit||l.unit;return l.$isFashionRGBA||l.$isFashionHSLA?new c(this+n+l):l.$isFashionNumber?this.numericOperate(n,l):l.$isFashionLiteral&&(m=this.tryCoerce(l))?this.performOperation(n,m):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,n,l)}},{key:"tryNormalize",value:function(n){var m=n.value,l=n.unit;if(n.$isFashionNumber){switch(this.unit){case"mm":switch(l){case"in":return new j(25.4*m,"mm");case"cm":return new j(2.54*m,"mm")}break;case"cm":switch(l){case"in":return new j(2.54*m,"cm");case"mm":return new j(m/10,"cm")}break;case"in":switch(l){case"mm":return new j(m/25.4,"in");case"cm":return new j(m/2.54,"in")}break;case"ms":switch(l){case"s":return new j(1000*m,"ms")}break;case"s":switch(l){case"ms":return new j(m/1000,"s")}break;case"Hz":switch(l){case"kHz":return new j(1000*m,"Hz")}break;case"kHz":switch(l){case"Hz":return new j(m/1000,"kHz")}break;case"%":switch(l){default:return new j(m)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(n){var m=this.unit,l=n.unit;return !!n.$isFashionNumber&&(m===l||"mm"===m&&("in"===l||"cm"===l)||"cm"===m&&("in"===l||"mm"===l)||"in"===m&&("mm"===l||"cm"===l)||"ms"===m&&"s"===l||"s"===m&&"ms"===l||"Hz"===m&&"kHz"===l||"kHz"===m&&"Hz"===l)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=i.filter(l.num,function(m){return !!m}),l.den=i.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(p,l){this.normalizeUnits(),l.normalizeUnits();var m,u=this,t=l,o=j.OPERATIONS,n=j.NON_COERCE_OPERATIONS,q=o[p];if(q){try{u.unitless()?u=u.coerceUnits(t.numeratorUnits,t.denominatorUnits):t=t.coerceUnits(u.numeratorUnits,u.denominatorUnits)}catch(s){if("=="==p){return b.False}if("!="==p){return b.True}throw s}}else{q=n[p]}if(q&&(m=q(u.value,t.value)),"number"==typeof m){var r=this.computeUnits(u,t,p);return new j(m,r.num.length?r.num[0]:null,r.num,r.den)}return new b(m)}},{key:"computeUnits",value:function(l,n,m){switch(m){case"*":return{num:l.numeratorUnits.slice().concat(n.numeratorUnits),den:l.denominatorUnits.slice().concat(n.denominatorUnits)};case"/":return{num:l.numeratorUnits.slice().concat(n.denominatorUnits),den:l.denominatorUnits.slice().concat(n.numeratorUnits)};default:return{num:l.numeratorUnits,den:l.denominatorUnits}}}},{key:"coerceUnits",value:function(n,l){var m=this.value;return this.unitless()||(m=m*this.coercionFactor(this.numeratorUnits,n)/this.coercionFactor(this.denominatorUnits,l)),new j(m,n&&n[0],n,l)}},{key:"coercionFactor",value:function(t,o){var u=this.removeCommonUnits(t,o),m=u.num,q=u.den;m.length===q.length&&this.convertable(m||q)||i.raise("Incompatible units: "+m.join("*")+" and "+q.join("*"));for(var s=0;s<m.length;s++){for(var p=m[s],r=0;r<q.length;r++){var n=q[r],l=this.conversionFactor(p,n);if(null!==l){return l}}}return 1}},{key:"conversionFactor",value:function(l,p){var m=j.CONVERTABLE_UNITS,n=j.CONVERSION_TABLE,o=null;return m[l]&&m[p]&&(o=n[m[l]][m[p]]),null===o&&m[p]&&m[l]&&(o=1/n[m[p]][m[l]]),o}},{key:"convertable",value:function(n){if(n&&!Array.isArray(n)&&(n=[n]),n&&n.length){for(var m=j.CONVERTABLE_UNITS,l=0;l<n.length;l++){if(void 0===m[n[l]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(r,o){var p,q,q,m={},n=[],l=[];for(p=0;p<r.length;p++){q=r[p],m[q]=(m[q]||0)+1}for(p=0;p<o.length;p++){q=o[p],m[q]=(m[q]||0)-1}for(p=0;p<r.length;p++){q=r[p],m[q]>0&&(n.push(q),m[q]--)}for(p=0;p<o.length;p++){q=o[p],m[q]<0&&(l.push(q),m[q]++)}return{num:n,den:l}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(e);i.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),i.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),h.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(l,j,k){_classCallCheck(this,i);var m=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return m.position=l,m.stops=k,m.shape=j,m}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var m,l=[],k=this.stops.items,j=k.length;for(l.push("center 0%"),l.push("center 100%"),m=0;m<j;m++){l.push(k[m].toOriginalWebkitString())}return"-webkit-gradient(radial, "+l.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,b,g){var c=d("../Base.js"),e=d("./TypeVisitor.js"),f=d("../Output.js"),h=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(s){for(var l,p=this.output,k=s.items,t=p.output.length,n=s.separator,m=n&&n.length,o=n&&n.indexOf(" ")>-1,q=p.output,r=0;r<k.length;r++){k[r]&&(this.visit(k[r]),l=p.output.length-t,!l&&m&&r>0&&(p.output=q),q=p.output,r<k.length-1&&m&&(p.add(n),o||p.space()),t=p.output.length)}}},{key:"map",value:function(m){var p,o,k=this.output,l=m.items;this.currDeclaration&&c.raise("("+m+") isn't a valid CSS value.");for(var n=0;n<l.length-1;n+=2){p=l[n],o=l[n+1],p&&o&&(n>0&&(k.add(","),k.space()),this.visit(p),k.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new f,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(e);c.apply(h.prototype,{output:null}),b.exports=h},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(n,l,h,j){l=l||"fashion",h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+n+"s*$"),j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+n+"\\s*$");var k=this.docs;if(k&&k.length){for(var m=0;m<this.docs.length;m++){var i=k[m];if(h.test(i)){return !0}if(j.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(n,l,h,j):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(d,f,e){return f in d?Object.defineProperty(d,f,{value:e,enumerable:!0,configurable:!0,writable:!0}):d[f]=e,d}var _get=function get(k,h,i){null===k&&(k=Function.prototype);var g=Object.getOwnPropertyDescriptor(k,h);if(void 0===g){var j=Object.getPrototypeOf(k);return null===j?void 0:get(j,h,i)}if("value" in g){return g.value}var l=g.get;if(void 0!==l){return l.call(i)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,a,i){var j,n=m("./src/export/Base.js"),l=m("./src/export/css/CssVariableManager.js"),k=new l;n.apply(n,(j={css:k,CssExport:l,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(j,"Types",m("./src/export/type/Types.js")),_defineProperty(j,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(j,"Output",m("./src/export/Output.js")),_defineProperty(j,"Runtime",m("./src/export/Runtime.js")),j)),a.exports=n},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(M,R,X){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function N(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?N(d,c):g[e]=c):g[e]=c}}return g}function V(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function T(c){return c&&"function"==typeof c}function Z(d,c){console.log(V("[DBG] "+d,c))}function P(d,c){console.log(V("[LOG] "+d,c))}function G(d,c){console.log(V("[INF] "+d,c))}function H(d,c){console.log(V("[WRN] "+d,c))}function I(d,c){console.log(V("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function aa(d,c){var e;c&&(d=V(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function ab(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function L(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function S(c){return c.length&&c[c.length-1]}function U(c){return c.length>2?c.slice(1):[]}function Q(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function O(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;Q(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function Y(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?Y(e,d-1,g):g.push(e)}return g}var W=M("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&N(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return S(this.items)}},{key:"tail",value:function(){return U(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};R.exports={EmptyArray:[],getJsName:W.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:N,createMessage:V,isFunction:T,debug:Z,log:P,info:G,warn:H,error:I,raise:F,raiseAt:aa,filter:ab,convert:L,first:E,last:S,tail:U,mixin:O,flatten:Y}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(v,x,u){var t=v("./Base.js"),E=t.Base,A=v("./type/Type.js"),a=v("./type/List.js"),B=v("./type/Bool.js"),D=v("./type/Color.js"),F=v("./type/ColorRGBA.js"),w=v("./type/Text.js"),s=v("./type/Literal.js"),y=v("./type/Statics.js"),z=v("./type/TypeVisitor.js"),H=v("./type/Types.js"),C=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(C.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var G=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:y.boxType,unbox:y.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(i,k){for(var m,j={},o=0,l=0;l<i.length;l++){var n=i[l];if(void 0!==n){if(n===!0||n===!1){j[k[o]]=n,o++}else{if(void 0===n.type){for(m in n){j[m.replace(/^\$/,"")]=n[m]}}else{m=k[o],m instanceof Array?(m=m[0],j[m]=j[m]||new a,j[m].add(n)):(j[m]=n,o++)}}}}return j},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new B(f)}},{key:"color",value:function d(f){var g=D.map[f],h=new F(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new w(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(h){h=h||this.types;for(var j,g=Object.getOwnPropertyNames(h),f=[],i=0;i<g.length;i++){j=g[i],f.push(j+" = Types."+j),f.push("__"+j+" = "+j)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(g){g=g||this.constructor.prototype;for(var h,j,f=[];g;){h=Object.getOwnPropertyNames(g);for(var i=0;i<h.length;i++){j=h[i],"function"==typeof g[j]&&f.push("__rt_"+j+" = __rt."+j+".bind(__rt)")}g=Object.getPrototypeOf(g)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var f,h=Object.getOwnPropertyNames(this),g=[],i=0;i<h.length;i++){f=h[i],g.push("__rt_"+f+" = __rt."+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new z(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new C(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(i,g,h){var f=this._globalScope;return g&&g.$isFashionLiteral||(g=this.box(g)),g.ast=g.ast||this.getAstNode(h),f.map[i]=g,g}},{key:"setDynamic",value:function(i,g,h){var k,j=t.getJsName(i),f=this._globalScope;return g&&g.$isFashionLiteral||(g=this.box(g)),g.ast=g.ast||this.getAstNode(h),g.$referenceName||g.$constant?(k=g.clone(),k.$previousReference=g,g=k,g.ast=this.getAstNode(h)):g.$referenceName=i,f.map[j]=g,g}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new a(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,k,h,j,f=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(j=i.getItems(),h=0;h<j.length;h++){k=j[h],k&&(k.splatSeparator=i.separator),f.push(k)}}else{f.push(i)}i&&(i.splat=void 0)}return f}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(E);t.apply(G.prototype,{box:A.box,unbox:A.unbox,Scope:C,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:H,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),x.exports=G},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(m,k,a){var j=m("../Base.js"),o=m("../Runtime.js"),n=m("../parse/ValueParser.js"),l=m("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new o}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(d){var i,h,y,g,C,B,x,D=this,f=D.getRuntime(),z=new n,A=D.variableMap;h=new f.Scope;for(g in d){i=j.getJsName(g.replace(D.nameRe,"")),0!==i.indexOf("$")&&(i="$"+i),h.put(i,z.parse(d[g]))}f._globalScope=h,f._currentScope=h;for(var e=0;e<D.calcFns.length;e++){D.calcFns[e](f)}y=new l,d={};for(g in A){C=A[g];for(var e=0;e<C.length;e++){i=C[e],B="$"+j.getJsName(i),x=h.get(B),x&&(x.$isWrapper&&(x=x.value),d[i]=y.toSource(x))}}return d}},{key:"applyVariables",value:function(f){var e=this,v=e.variableMap;for(var u in v){var d=v[u],i=document.querySelectorAll(u);if(i){for(var g=0;g<i.length;g++){for(var h=0;h<d.length;h++){var t=d[h];i[g].style.setProperty("--"+t,f[t])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return j.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var e=this,v=e.variableMap,h={};for(var u in v){var d=v[u],i=document.querySelectorAll(u);if(i){for(var f=0;f<i.length;f++){for(var g=0;g<d.length;g++){var t=d[g];h[t]=i[f].style.getPropertyValue("--"+t)}}}}return h}}]),c}();j.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),k.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,A,u){var C=x("../Base.js"),B=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),z=v.Color,E=v.Text,a=v.Numeric,D=v.List,y=v.Bool,s=v.Literal,F=v.ColorRGBA,r=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var k,j=this,f="",g=j.str,d=g.length,e=!1,h=!1,i=0;j.index<d;){if(k=g[j.index],j.index++,k<=" "&&!e&&!i){if(f.length){break}}else{if(";"===k&&!e&&!h){break}if("("===k&&i++,")"===k&&i&&i--,","===k&&!e&&!h&&!i){if(f.length){j.index--;break}return k}"\\"===k&&e?(h=1,j.index++):('"'!==k&&"'"!==k||(e?e===k&&(e=!1):e=k),h=!1,f+=k)}}return f}},{key:"parseValue",value:function(h){var i,g,f={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===h[0]||"'"===h[0]){return g=h=h.substring(1,h.length-1),new E(g,h[0])}if("true"===h){return new y((!0))}if("false"===h){return new y((!1))}if("null"===h){return s.Null}if("none"===h){return s.None}if(C.Color.map[h]){var j=z.map[h],e=new F(j[0],j[1],j[2],j[3]);return e.stringified=h,e}if(i=f.number.exec(h)){return new a(parseFloat(i[1]),i[2])}if(i=f.shortHexColor.exec(h)){return F.fromHex(i[1])}if(i=f.longHexColor.exec(h)){return F.fromHex(i[1])}if(i=f.functionCall.exec(h)){var k=i[1],d=this.parse(i[2]).items;return"hsla"===k||"hsl"===k?new r(B.unbox(d[0]),B.unbox(d[1]),B.unbox(d[2]),B.unbox(d[3])||1):"rgba"===k||"rgb"===k?new F(B.unbox(d[0]),B.unbox(d[1]),B.unbox(d[2]),B.unbox(d[3])||1):new t(k,d)}return(i=f.parenList.exec(h))?new t(this.parse(i[1])):new C.Literal(h)}},{key:"parse",value:function(j){var f,e=this,d=[],h=[],i=null;for(e.str=j,e.index=0;f=e._advance();){d.push(f)}for(var g=0;g<d.length;g++){f=d[g].trim(),","===d[g+1]?(i=i||[],i.push(e.parseValue(f)),g++):i?(i.push(e.parseValue(f)),h.push(new D(i,", ")),i=null):h.push(e.parseValue(f))}return 1===h.length?h[0]:new D(h," ")}}]),c}();A.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(m,o,n){var k=m("../Base.js"),p=m("./Type.js"),a=m("./Bool.js"),j=m("./Numeric.js"),l=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return a.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(h,e){var i,f=c.units[e],g=c.types[e],r=c.comps[e];return i="hsla"==g?h.getHSLA():h.getRGBA(),new j(i[r],f)}},{key:"adjust",value:function(h,e,g){var i=h.getHSLA().copy(),f=c.comps[e],r=g.value;return i[f]+=r,i.h=c.constrainDegrees(i.h),i.s=c.constrainPercentage(i.s),i.l=c.constrainPercentage(i.l),i.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);k.apply(l,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),k.apply(l.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),o.exports=l},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,l){var j=m("../Base.js"),i=m("./Color.js"),n=m("./ColorRGBA.js"),k=function(c){function d(e,f,g,h){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=i.constrainDegrees(e),p.s=f,p.l=g,void 0!==h&&(p.a=h),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return n.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(e,f,g,h){return new d(i.constrainDegrees(this.h+e),i.constrainPercentage(this.s+f),i.constrainPercentage(this.l+g),i.constrainAlpha(this.a*h))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=i.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=i.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var s=g.r/255,z=g.g/255,B=g.b/255,h=g.a,A=Math.max(s,z,B),f=Math.min(s,z,B),y=A-f,e=0,x=0,r=0.5*(A+f);return f!=A&&(x=r<0.5?y/(A+f):y/(2-A-f),e=s==A?60*(z-B)/y:z==A?120+60*(B-s)/y:240+60*(s-z)/y,e<0&&(e+=360),e>=360&&(e-=360)),new d(i.constrainDegrees(e),i.constrainPercentage(100*x),i.constrainPercentage(100*r),h)}}]),d}(i);n.prototype.getHSLA=function(){return k.fromRGBA(this)},j.apply(k.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=k},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,l){function k(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var j=m("../Base.js"),i=m("./Color.js"),n=function(d){function c(f,g,e,h){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,f)),p.g=Math.min(255,Math.max(0,g)),p.b=Math.min(255,Math.max(0,e)),void 0!==h&&(p.a=Math.min(1,Math.max(0,h))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,f=e(h.r),r=e(h.g),s=e(h.b),g=h.a,t="";return t=1===g?"#"+k(f)+k(r)+k(s):"rgba("+f+", "+r+", "+s+", "+g+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var e=this,g=Math.round,q=g(e.r),h=g(e.g),r=g(e.b),f=g(255*e.a);return"#"+k(f)+k(q)+k(h)+k(r)}},{key:"add",value:function(f,g,e,h){return new c(this.r+f,this.g+g,this.b+e,this.a*h)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(f){"#"==f.charAt(0)&&(f=f.substr(1));var g,h,e;3===f.length?(g=parseInt(f.charAt(0),16),h=parseInt(f.charAt(1),16),e=parseInt(f.charAt(2),16),g=(g<<4)+g,h=(h<<4)+h,e=(e<<4)+e):(g=parseInt(f.substring(0,2),16),h=parseInt(f.substring(2,4),16),e=parseInt(f.substring(4,6),16));var p=new c(g,h,e);return c.preserveInputStrings&&(p.stringified="#"+f),p}},{key:"fromHSLA",value:function(C){function B(o){return o<0&&++o,o>1&&--o,6*o<1?e+(f-e)*o*6:2*o<1?f:3*o<2?e+(f-e)*(2/3-o)*6:e}if(C.$isFashionRGBA){return C.clone()}var z=C,y=z.h/360,h=z.s/100,D=z.l/100,s=z.a,f=D<=0.5?D*(h+1):D+h-D*h,e=2*D-f,g=i.constrainChannel(255*B(y+1/3)),r=i.constrainChannel(255*B(y)),A=i.constrainChannel(255*B(y-1/3));return new c(g,r,A,s)}}]),c}(i);j.apply(n,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),j.apply(n.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new n(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new n(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=n,function(c,g,u,e){var h,x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=Object.keys(u);for(d.sort(),h=0;h<d.length;h++){var w=d[h],v=u[w],t=new c(v[0],v[1],v[2],v[3]),f=t.stringify();g[f]=w}x.forEach(function(p){var o=p+p;x.forEach(function(r){var q=r+r;x.forEach(function(F){var C=F+F,E="#"+p+r+F,D="#"+o+q+C;if(e[D]){var s=e[D];E=s.length>E.length?E:s}e[D]=E})})})}(n,n.stringifiedMap,i.map,n.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,a,i){var n=m("../Base.js"),j=m("./Type.js"),k=m("./Numeric.js"),l=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new k(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(j);n.apply(l.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),a.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,a,j){var l=m("../Base.js"),i=m("./Type.js"),k=m("./List.js"),n=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new k(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(i);l.apply(n.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),a.exports=n},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("top"),f.push("bottom"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(linear, "+f.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var e=this.items,f=e.length,n=[],g=0;g<f;g++){n.push(e[g].clone())}return new c(n,this.separator)}},{key:"clone",value:function(e,r){if(r&&this.matches(e)){return r.clone()}for(var f=this.items,g=f.length,s=[],q=0;q<g;q++){s.push(f[q].clone(e,r))}var t=new c(s,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(g){for(var f=[],e=0;e<this.items.length;e++){var n=this.items[e];n&&f.push(n.toPrefixedString(g))}return f.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(o,k,m){var j=o("../Base.js"),n=o("./Type.js"),a=o("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=n.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=n.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new a(f+1)}}},{key:"insert",value:function(h,f){var g=n.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(n);j.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var l=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);j.apply(l.prototype,{$isFashionNull:!0,$constant:!0}),l.prototype.$isFashionNull=!0,p.Null=new l(null),p.None=new p("none"),k.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(m,o,a){var q=m("../Base.js"),s=m("./List.js"),r=m("./Type.js"),l=m("./Literal.js"),t=l.Null,n=m("./Numeric.js"),p=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof n&&(e=r.unbox(e)),"number"==typeof e?new s([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||t)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(s);q.apply(p.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),o.exports=p},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(o,k,m){var j=o("../Base.js"),n=o("./Type.js"),a=o("./Bool.js"),p=o("./Literal.js"),l=function(c){function d(f,g,e,h){_classCallCheck(this,d);var i=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return i.value=f,i.unit=g,g&&!e?i.numeratorUnits=[g]:i.numeratorUnits=e||[],i.denominatorUnits=h||[],i}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(g,f){var e;this.unit||f.unit;return f.$isFashionRGBA||f.$isFashionHSLA?new p(this+g+f):f.$isFashionNumber?this.numericOperate(g,f):f.$isFashionLiteral&&(e=this.tryCoerce(f))?this.performOperation(g,e):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,g,f)}},{key:"tryNormalize",value:function(g){var e=g.value,f=g.unit;if(g.$isFashionNumber){switch(this.unit){case"mm":switch(f){case"in":return new d(25.4*e,"mm");case"cm":return new d(2.54*e,"mm")}break;case"cm":switch(f){case"in":return new d(2.54*e,"cm");case"mm":return new d(e/10,"cm")}break;case"in":switch(f){case"mm":return new d(e/25.4,"in");case"cm":return new d(e/2.54,"in")}break;case"ms":switch(f){case"s":return new d(1000*e,"ms")}break;case"s":switch(f){case"ms":return new d(e/1000,"s")}break;case"Hz":switch(f){case"kHz":return new d(1000*e,"Hz")}break;case"kHz":switch(f){case"Hz":return new d(e/1000,"kHz")}break;case"%":switch(f){default:return new d(e)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(g){var e=this.unit,f=g.unit;return !!g.$isFashionNumber&&(e===f||"mm"===e&&("in"===f||"cm"===f)||"cm"===e&&("in"===f||"mm"===f)||"in"===e&&("mm"===f||"cm"===f)||"ms"===e&&"s"===f||"s"===e&&"ms"===f||"Hz"===e&&"kHz"===f||"kHz"===e&&"Hz"===f)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=j.filter(e.num,function(f){return !!f}),e.den=j.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(g,w){this.normalizeUnits(),w.normalizeUnits();var v,x=this,y=w,h=d.OPERATIONS,i=d.NON_COERCE_OPERATIONS,f=h[g];if(f){try{x.unitless()?x=x.coerceUnits(y.numeratorUnits,y.denominatorUnits):y=y.coerceUnits(x.numeratorUnits,x.denominatorUnits)}catch(z){if("=="==g){return a.False}if("!="==g){return a.True}throw z}}else{f=i[g]}if(f&&(v=f(x.value,y.value)),"number"==typeof v){var e=this.computeUnits(x,y,g);return new d(v,e.num.length?e.num[0]:null,e.num,e.den)}return new a(v)}},{key:"computeUnits",value:function(f,g,e){switch(e){case"*":return{num:f.numeratorUnits.slice().concat(g.numeratorUnits),den:f.denominatorUnits.slice().concat(g.denominatorUnits)};case"/":return{num:f.numeratorUnits.slice().concat(g.denominatorUnits),den:f.denominatorUnits.slice().concat(g.numeratorUnits)};default:return{num:f.numeratorUnits,den:f.denominatorUnits}}}},{key:"coerceUnits",value:function(g,f){var e=this.value;return this.unitless()||(e=e*this.coercionFactor(this.numeratorUnits,g)/this.coercionFactor(this.denominatorUnits,f)),new d(e,g&&g[0],g,f)}},{key:"coercionFactor",value:function(y,h){var x=this.removeCommonUnits(y,h),v=x.num,f=x.den;v.length===f.length&&this.convertable(v||f)||j.raise("Incompatible units: "+v.join("*")+" and "+f.join("*"));for(var z=0;z<v.length;z++){for(var g=v[z],e=0;e<f.length;e++){var i=f[e],w=this.conversionFactor(g,i);if(null!==w){return w}}}return 1}},{key:"conversionFactor",value:function(f,g){var e=d.CONVERTABLE_UNITS,i=d.CONVERSION_TABLE,h=null;return e[f]&&e[g]&&(h=i[e[f]][e[g]]),null===h&&e[g]&&e[f]&&(h=1/i[e[g]][e[f]]),h}},{key:"convertable",value:function(g){if(g&&!Array.isArray(g)&&(g=[g]),g&&g.length){for(var e=d.CONVERTABLE_UNITS,f=0;f<g.length;f++){if(void 0===e[g[f]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(g,s){var i,h,h,e={},t=[],f=[];for(i=0;i<g.length;i++){h=g[i],e[h]=(e[h]||0)+1}for(i=0;i<s.length;i++){h=s[i],e[h]=(e[h]||0)-1}for(i=0;i<g.length;i++){h=g[i],e[h]>0&&(t.push(h),e[h]--)}for(i=0;i<s.length;i++){h=s[i],e[h]<0&&(f.push(h),e[h]++)}return{num:t,den:f}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(n);j.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),j.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),k.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(f,n,g){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=f,e.stops=g,e.shape=n,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var e,f=[],g=this.stops.items,n=g.length;for(f.push("center 0%"),f.push("center 100%"),e=0;e<n;e++){f.push(g[e].toOriginalWebkitString())}return"-webkit-gradient(radial, "+f.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,a,j){var n=m("../Base.js"),l=m("./TypeVisitor.js"),k=m("../Output.js"),i=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(z){for(var w,g=this.output,x=z.items,y=g.output.length,u=z.separator,v=u&&u.length,h=u&&u.indexOf(" ")>-1,f=g.output,e=0;e<x.length;e++){x[e]&&(this.visit(x[e]),w=g.output.length-y,!w&&v&&e>0&&(g.output=f),f=g.output,e<x.length-1&&v&&(g.add(u),h||g.space()),y=g.output.length)}}},{key:"map",value:function(e){var h,q,g=this.output,f=e.items;this.currDeclaration&&n.raise("("+e+") isn't a valid CSS value.");for(var r=0;r<f.length-1;r+=2){h=f[r],q=f[r+1],h&&q&&(r>0&&(g.add(","),g.space()),this.visit(h),g.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new k,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(l);n.apply(i.prototype,{output:null}),a.exports=i},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(r,e,q,o){e=e||"fashion",q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+r+"s*$"),o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+r+"\\s*$");var f=this.docs;if(f&&f.length){for(var d=0;d<this.docs.length;d++){var p=f[d];if(q.test(p)){return !0}if(o.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(r,e,q,o):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(c,a,b){return a in c?Object.defineProperty(c,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[a]=b,c}var _get=function get(b,e,d){null===b&&(b=Function.prototype);var f=Object.getOwnPropertyDescriptor(b,e);if(void 0===f){var c=Object.getPrototypeOf(b);return null===c?void 0:get(c,e,d)}if("value" in f){return f.value}var a=f.get;if(void 0!==a){return a.call(d)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,g){var f,h=b("./src/export/Base.js"),c=b("./src/export/css/CssVariableManager.js"),e=new c;h.apply(h,(f={css:e,CssExport:c,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(f,"Types",b("./src/export/type/Types.js")),_defineProperty(f,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(f,"Output",b("./src/export/Output.js")),_defineProperty(f,"Runtime",b("./src/export/Runtime.js")),f)),d.exports=h},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(o,j,d){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function n(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?n(F,G):C[E]=G):C[E]=G}}return C}function f(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function h(C){return C&&"function"==typeof C}function b(C,D){console.log(f("[DBG] "+C,D))}function l(C,D){console.log(f("[LOG] "+C,D))}function u(C,D){console.log(f("[INF] "+C,D))}function t(C,D){console.log(f("[WRN] "+C,D))}function s(C,D){console.log(f("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function B(D,E){var C;E&&(D=f(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function A(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function p(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function i(C){return C.length&&C[C.length-1]}function g(C){return C.length>2?C.slice(1):[]}function k(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function m(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;k(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function c(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?c(E,F-1,C):C.push(E)}return C}var e=o("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&n(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return i(this.items)}},{key:"tail",value:function(){return g(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};j.exports={EmptyArray:[],getJsName:e.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:n,createMessage:f,isFunction:h,debug:b,log:l,info:u,warn:t,error:s,raise:v,raiseAt:B,filter:A,convert:p,first:w,last:i,tail:g,mixin:m,flatten:c}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(l,i,n){var p=l("./Base.js"),r=p.Base,e=l("./type/Type.js"),h=l("./type/List.js"),d=l("./type/Bool.js"),b=l("./type/Color.js"),o=l("./type/ColorRGBA.js"),j=l("./type/Text.js"),q=l("./type/Literal.js"),g=l("./type/Statics.js"),f=l("./type/TypeVisitor.js"),k=l("./type/Types.js"),c=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(c.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var m=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:g.boxType,unbox:g.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(C,A){for(var y,B={},D=0,z=0;z<C.length;z++){var E=C[z];if(void 0!==E){if(E===!0||E===!1){B[A[D]]=E,D++}else{if(void 0===E.type){for(y in E){B[y.replace(/^\$/,"")]=E[y]}}else{y=A[D],y instanceof Array?(y=y[0],B[y]=B[y]||new h,B[y].add(E)):(B[y]=E,D++)}}}}return B},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new d(v)}},{key:"color",value:function t(x){var w=b.map[x],v=new o(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new j(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(x){x=x||this.types;for(var v,y=Object.getOwnPropertyNames(x),z=[],w=0;w<y.length;w++){v=y[w],z.push(v+" = Types."+v),z.push("__"+v+" = "+v)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(y){y=y||this.constructor.prototype;for(var x,v,z=[];y;){x=Object.getOwnPropertyNames(y);for(var w=0;w<x.length;w++){v=x[w],"function"==typeof y[v]&&z.push("__rt_"+v+" = __rt."+v+".bind(__rt)")}y=Object.getPrototypeOf(y)}return 0===z.length?"":"var "+z.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var y,w=Object.getOwnPropertyNames(this),x=[],v=0;v<w.length;v++){y=w[v],x.push("__rt_"+y+" = __rt."+y)}return 0===x.length?"":"var "+x.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new f(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new c(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(v,x,w){var y=this._globalScope;return x&&x.$isFashionLiteral||(x=this.box(x)),x.ast=x.ast||this.getAstNode(w),y.map[v]=x,x}},{key:"setDynamic",value:function(x,z,y){var v,w=p.getJsName(x),A=this._globalScope;return z&&z.$isFashionLiteral||(z=this.box(z)),z.ast=z.ast||this.getAstNode(y),z.$referenceName||z.$constant?(v=z.clone(),v.$previousReference=z,z=v,z.ast=this.getAstNode(y)):z.$referenceName=x,A.map[w]=z,z}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new h(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,w,z,x,B=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(x=y.getItems(),z=0;z<x.length;z++){w=x[z],w&&(w.splatSeparator=y.separator),B.push(w)}}else{B.push(y)}y&&(y.splat=void 0)}return B}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(r);p.apply(m.prototype,{box:e.box,unbox:e.unbox,Scope:c,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:k,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),i.exports=m},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(b,e,d){var f=b("../Base.js"),h=b("../Runtime.js"),i=b("../parse/ValueParser.js"),c=b("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new h}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(t){var o,p,v,q,l,m,w,k=this,r=k.getRuntime(),u=new i,n=k.variableMap;p=new r.Scope;for(q in t){o=f.getJsName(q.replace(k.nameRe,"")),0!==o.indexOf("$")&&(o="$"+o),p.put(o,u.parse(t[q]))}r._globalScope=p,r._currentScope=p;for(var s=0;s<k.calcFns.length;s++){k.calcFns[s](r)}v=new c,t={};for(q in n){l=n[q];for(var s=0;s<l.length;s++){o=l[s],m="$"+f.getJsName(o),w=p.get(m),w&&(w.$isWrapper&&(w=w.value),t[o]=v.toSource(w))}}return t}},{key:"applyVariables",value:function(n){var o=this,q=o.variableMap;for(var r in q){var p=q[r],k=document.querySelectorAll(r);if(k){for(var m=0;m<k.length;m++){for(var l=0;l<p.length;l++){var s=p[l];k[m].style.setProperty("--"+s,n[s])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return f.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var o=this,q=o.variableMap,l={};for(var r in q){var p=q[r],k=document.querySelectorAll(r);if(k){for(var n=0;n<k.length;n++){for(var m=0;m<p.length;m++){var s=p[m];l[s]=k[n].style.getPropertyValue("--"+s)}}}}return l}}]),j}();f.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),e.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,f,m){var d=j("../Base.js"),e=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),g=l.Color,q=l.Text,i=l.Numeric,c=l.List,h=l.Bool,p=l.Literal,o=l.ColorRGBA,b=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var s,t=this,x="",w=t.str,z=w.length,y=!1,v=!1,u=0;t.index<z;){if(s=w[t.index],t.index++,s<=" "&&!y&&!u){if(x.length){break}}else{if(";"===s&&!y&&!v){break}if("("===s&&u++,")"===s&&u&&u--,","===s&&!y&&!v&&!u){if(x.length){t.index--;break}return s}"\\"===s&&y?(v=1,t.index++):('"'!==s&&"'"!==s||(y?y===s&&(y=!1):y=s),v=!1,x+=s)}}return x}},{key:"parseValue",value:function(v){var u,w,x={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===v[0]||"'"===v[0]){return w=v=v.substring(1,v.length-1),new q(w,v[0])}if("true"===v){return new h((!0))}if("false"===v){return new h((!1))}if("null"===v){return p.Null}if("none"===v){return p.None}if(d.Color.map[v]){var t=g.map[v],y=new o(t[0],t[1],t[2],t[3]);return y.stringified=v,y}if(u=x.number.exec(v)){return new i(parseFloat(u[1]),u[2])}if(u=x.shortHexColor.exec(v)){return o.fromHex(u[1])}if(u=x.longHexColor.exec(v)){return o.fromHex(u[1])}if(u=x.functionCall.exec(v)){var s=u[1],z=this.parse(u[2]).items;return"hsla"===s||"hsl"===s?new b(e.unbox(z[0]),e.unbox(z[1]),e.unbox(z[2]),e.unbox(z[3])||1):"rgba"===s||"rgb"===s?new o(e.unbox(z[0]),e.unbox(z[1]),e.unbox(z[2]),e.unbox(z[3])||1):new n(s,z)}return(u=x.parenList.exec(v))?new n(this.parse(u[1])):new d.Literal(v)}},{key:"parse",value:function(s){var w,x=this,y=[],u=[],t=null;for(x.str=s,x.index=0;w=x._advance();){y.push(w)}for(var v=0;v<y.length;v++){w=y[v].trim(),","===y[v+1]?(t=t||[],t.push(x.parseValue(w)),v++):t?(t.push(x.parseValue(w)),u.push(new c(t,", ")),t=null):u.push(x.parseValue(w))}return 1===u.length?u[0]:new c(u," ")}}]),r}();f.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(b,h,i){var e=b("../Base.js"),g=b("./Type.js"),d=b("./Bool.js"),f=b("./Numeric.js"),c=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return d.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(m,q){var l,p=k.units[q],o=k.types[q],n=k.comps[q];return l="hsla"==o?m.getHSLA():m.getRGBA(),new f(l[n],p)}},{key:"adjust",value:function(m,q,o){var l=m.getHSLA().copy(),p=k.comps[q],n=o.value;return l[p]+=n,l.h=k.constrainDegrees(l.h),l.s=k.constrainPercentage(l.s),l.l=k.constrainPercentage(l.l),l.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);e.apply(c,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),e.apply(c.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),h.exports=c},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,c){var f=b("../Base.js"),g=b("./Color.js"),h=b("./ColorRGBA.js"),e=function(j){function i(o,m,l,k){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=g.constrainDegrees(o),n.s=m,n.l=l,void 0!==k&&(n.a=k),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return h.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(n,m,l,k){return new i(g.constrainDegrees(this.h+n),g.constrainPercentage(this.s+m),g.constrainPercentage(this.l+l),g.constrainAlpha(this.a*k))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=g.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=g.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var w=o.r/255,t=o.g/255,l=o.b/255,n=o.a,m=Math.max(w,t,l),p=Math.min(w,t,l),u=m-p,q=0,v=0,k=0.5*(m+p);return p!=m&&(v=k<0.5?u/(m+p):u/(2-m-p),q=w==m?60*(t-l)/u:t==m?120+60*(l-w)/u:240+60*(w-t)/u,q<0&&(q+=360),q>=360&&(q-=360)),new i(g.constrainDegrees(q),g.constrainPercentage(100*v),g.constrainPercentage(100*k),n)}}]),i}(g);h.prototype.getHSLA=function(){return e.fromRGBA(this)},f.apply(e.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=e},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,c){function e(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var f=b("../Base.js"),g=b("./Color.js"),h=function(i){function j(m,l,o,k){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,m)),n.g=Math.min(255,Math.max(0,l)),n.b=Math.min(255,Math.max(0,o)),void 0!==k&&(n.a=Math.min(1,Math.max(0,k))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,p=q(m.r),o=q(m.g),l=q(m.b),n=m.a,k="";return k=1===n?"#"+e(p)+e(o)+e(l):"rgba("+p+", "+o+", "+l+", "+n+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var p=this,m=Math.round,o=m(p.r),k=m(p.g),l=m(p.b),n=m(255*p.a);return"#"+e(n)+e(o)+e(k)+e(l)}},{key:"add",value:function(m,l,n,k){return new j(this.r+m,this.g+l,this.b+n,this.a*k)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(m){"#"==m.charAt(0)&&(m=m.substr(1));var l,k,o;3===m.length?(l=parseInt(m.charAt(0),16),k=parseInt(m.charAt(1),16),o=parseInt(m.charAt(2),16),l=(l<<4)+l,k=(k<<4)+k,o=(o<<4)+o):(l=parseInt(m.substring(0,2),16),k=parseInt(m.substring(2,4),16),o=parseInt(m.substring(4,6),16));var n=new j(l,k,o);return j.preserveInputStrings&&(n.stringified="#"+m),n}},{key:"fromHSLA",value:function(m){function n(r){return r<0&&++r,r>1&&--r,6*r<1?u+(t-u)*r*6:2*r<1?t:3*r<2?u+(t-u)*(2/3-r)*6:u}if(m.$isFashionRGBA){return m.clone()}var v=m,w=v.h/360,p=v.s/100,l=v.l/100,x=v.a,t=l<=0.5?l*(p+1):l+p-l*p,u=2*l-t,q=g.constrainChannel(255*n(w+1/3)),k=g.constrainChannel(255*n(w)),o=g.constrainChannel(255*n(w-1/3));return new j(q,k,o,x)}}]),j}(g);f.apply(h,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),f.apply(h.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new h(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new h(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=h,function(n,j,r,l){var i,o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],m=Object.keys(r);for(m.sort(),i=0;i<m.length;i++){var p=m[i],q=r[p],s=new n(q[0],q[1],q[2],q[3]),k=s.stringify();j[k]=p}o.forEach(function(t){var u=t+t;o.forEach(function(v){var w=v+v;o.forEach(function(y){var B=y+y,z="#"+t+v+y,A="#"+u+w+B;if(l[A]){var x=l[A];z=x.length>z.length?z:x}l[A]=z})})})}(h,h.stringifiedMap,g.map,h.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,g){var h=b("../Base.js"),f=b("./Type.js"),e=b("./Numeric.js"),c=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new e(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(f);h.apply(c.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,d,f){var c=b("../Base.js"),g=b("./Type.js"),e=b("./List.js"),h=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new e(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(g);c.apply(h.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),d.exports=h},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("top"),k.push("bottom"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(linear, "+k.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var l=this.items,k=l.length,m=[],j=0;j<k;j++){m.push(l[j].clone())}return new i(m,this.separator)}},{key:"clone",value:function(p,m){if(m&&this.matches(p)){return m.clone()}for(var o=this.items,l=o.length,k=[],n=0;n<l;n++){k.push(o[n].clone(p,m))}var j=new i(k,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(j){for(var k=[],l=0;l<this.items.length;l++){var m=this.items[l];m&&k.push(m.toPrefixedString(j))}return k.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(h,e,b){var f=h("../Base.js"),i=h("./Type.js"),d=h("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=i.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=i.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new d(l+1)}}},{key:"insert",value:function(l,n){var m=i.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(i);f.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);f.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),e.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(g,e,i){var c=g("../Base.js"),k=g("./List.js"),b=g("./Type.js"),h=g("./Literal.js"),j=h.Null,f=g("./Numeric.js"),d=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof f&&(n=b.unbox(n)),"number"==typeof n?new k([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||j)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(k);c.apply(d.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),e.exports=d},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(h,e,b){var f=h("../Base.js"),i=h("./Type.js"),d=h("./Bool.js"),g=h("./Literal.js"),c=function(k){function j(o,n,p,m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=o,l.unit=n,n&&!p?l.numeratorUnits=[n]:l.numeratorUnits=p||[],l.denominatorUnits=m||[],l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(l,m){var n;this.unit||m.unit;return m.$isFashionRGBA||m.$isFashionHSLA?new g(this+l+m):m.$isFashionNumber?this.numericOperate(l,m):m.$isFashionLiteral&&(n=this.tryCoerce(m))?this.performOperation(l,n):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,l,m)}},{key:"tryNormalize",value:function(l){var n=l.value,m=l.unit;if(l.$isFashionNumber){switch(this.unit){case"mm":switch(m){case"in":return new j(25.4*n,"mm");case"cm":return new j(2.54*n,"mm")}break;case"cm":switch(m){case"in":return new j(2.54*n,"cm");case"mm":return new j(n/10,"cm")}break;case"in":switch(m){case"mm":return new j(n/25.4,"in");case"cm":return new j(n/2.54,"in")}break;case"ms":switch(m){case"s":return new j(1000*n,"ms")}break;case"s":switch(m){case"ms":return new j(n/1000,"s")}break;case"Hz":switch(m){case"kHz":return new j(1000*n,"Hz")}break;case"kHz":switch(m){case"Hz":return new j(n/1000,"kHz")}break;case"%":switch(m){default:return new j(n)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(l){var n=this.unit,m=l.unit;return !!l.$isFashionNumber&&(n===m||"mm"===n&&("in"===m||"cm"===m)||"cm"===n&&("in"===m||"mm"===m)||"in"===n&&("mm"===m||"cm"===m)||"ms"===n&&"s"===m||"s"===n&&"ms"===m||"Hz"===n&&"kHz"===m||"kHz"===n&&"Hz"===m)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=f.filter(l.num,function(m){return !!m}),l.den=f.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(n,t){this.normalizeUnits(),t.normalizeUnits();var u,s=this,r=t,m=j.OPERATIONS,l=j.NON_COERCE_OPERATIONS,o=m[n];if(o){try{s.unitless()?s=s.coerceUnits(r.numeratorUnits,r.denominatorUnits):r=r.coerceUnits(s.numeratorUnits,s.denominatorUnits)}catch(q){if("=="==n){return d.False}if("!="==n){return d.True}throw q}}else{o=l[n]}if(o&&(u=o(s.value,r.value)),"number"==typeof u){var p=this.computeUnits(s,r,n);return new j(u,p.num.length?p.num[0]:null,p.num,p.den)}return new d(u)}},{key:"computeUnits",value:function(m,l,n){switch(n){case"*":return{num:m.numeratorUnits.slice().concat(l.numeratorUnits),den:m.denominatorUnits.slice().concat(l.denominatorUnits)};case"/":return{num:m.numeratorUnits.slice().concat(l.denominatorUnits),den:m.denominatorUnits.slice().concat(l.numeratorUnits)};default:return{num:m.numeratorUnits,den:m.denominatorUnits}}}},{key:"coerceUnits",value:function(l,m){var n=this.value;return this.unitless()||(n=n*this.coercionFactor(this.numeratorUnits,l)/this.coercionFactor(this.denominatorUnits,m)),new j(n,l&&l[0],l,m)}},{key:"coercionFactor",value:function(r,m){var s=this.removeCommonUnits(r,m),u=s.num,o=s.den;u.length===o.length&&this.convertable(u||o)||f.raise("Incompatible units: "+u.join("*")+" and "+o.join("*"));for(var q=0;q<u.length;q++){for(var n=u[q],p=0;p<o.length;p++){var l=o[p],t=this.conversionFactor(n,l);if(null!==t){return t}}}return 1}},{key:"conversionFactor",value:function(o,n){var p=j.CONVERTABLE_UNITS,l=j.CONVERSION_TABLE,m=null;return p[o]&&p[n]&&(m=l[p[o]][p[n]]),null===m&&p[n]&&p[o]&&(m=1/l[p[n]][p[o]]),m}},{key:"convertable",value:function(l){if(l&&!Array.isArray(l)&&(l=[l]),l&&l.length){for(var n=j.CONVERTABLE_UNITS,m=0;m<l.length;m++){if(void 0===n[l[m]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(p,o){var m,n,n,r={},l=[],q=[];for(m=0;m<p.length;m++){n=p[m],r[n]=(r[n]||0)+1}for(m=0;m<o.length;m++){n=o[m],r[n]=(r[n]||0)-1}for(m=0;m<p.length;m++){n=p[m],r[n]>0&&(l.push(n),r[n]--)}for(m=0;m<o.length;m++){n=o[m],r[n]<0&&(q.push(n),r[n]++)}return{num:l,den:q}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(i);f.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),f.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),e.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(k,m,j){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=k,l.stops=j,l.shape=m,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var l,k=[],j=this.stops.items,m=j.length;for(k.push("center 0%"),k.push("center 100%"),l=0;l<m;l++){k.push(j[l].toOriginalWebkitString())}return"-webkit-gradient(radial, "+k.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,d,f){var h=b("../Base.js"),c=b("./TypeVisitor.js"),e=b("../Output.js"),g=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(o){for(var r,l=this.output,q=o.items,p=l.output.length,t=o.separator,s=t&&t.length,k=t&&t.indexOf(" ")>-1,m=l.output,n=0;n<q.length;n++){q[n]&&(this.visit(q[n]),r=l.output.length-p,!r&&s&&n>0&&(l.output=m),m=l.output,n<q.length-1&&s&&(l.add(t),k||l.space()),p=l.output.length)}}},{key:"map",value:function(p){var k,o,m=this.output,n=p.items;this.currDeclaration&&h.raise("("+p+") isn't a valid CSS value.");for(var l=0;l<n.length-1;l+=2){k=n[l],o=n[l+1],k&&o&&(l>0&&(m.add(","),m.space()),this.visit(k),m.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new e,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(c);h.apply(g.prototype,{output:null}),d.exports=g},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(h,l,j,n){l=l||"fashion",j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+h+"s*$"),n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+h+"\\s*$");var i=this.docs;if(i&&i.length){for(var m=0;m<this.docs.length;m++){var k=i[m];if(j.test(k)){return !0}if(n.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(h,l,j,n):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(f,e,d){return e in f?Object.defineProperty(f,e,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[e]=d,f}var _get=function get(g,j,k){null===g&&(g=Function.prototype);var i=Object.getOwnPropertyDescriptor(g,j);if(void 0===i){var l=Object.getPrototypeOf(g);return null===l?void 0:get(l,j,k)}if("value" in i){return i.value}var h=i.get;if(void 0!==h){return h.call(k)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(n){var m=l[c][1][n];return k(m?m:n)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(a,m,j){var k,i=a("./src/export/Base.js"),n=a("./src/export/css/CssVariableManager.js"),l=new n;i.apply(i,(k={css:l,CssExport:n,Types:a("./src/export/type/Types.js"),ValueParser:a("./src/export/parse/ValueParser.js"),Type:a("./src/export/type/Type.js"),Bool:a("./src/export/type/Bool.js"),Literal:a("./src/export/type/Literal.js"),ParentheticalExpression:a("./src/export/type/ParentheticalExpression.js"),Text:a("./src/export/type/Text.js"),Numeric:a("./src/export/type/Numeric.js"),List:a("./src/export/type/List.js"),Map:a("./src/export/type/Map.js"),Color:a("./src/export/type/Color.js"),ColorRGBA:a("./src/export/type/ColorRGBA.js"),ColorHSLA:a("./src/export/type/ColorHSLA.js"),ColorStop:a("./src/export/type/ColorStop.js"),FunctionCall:a("./src/export/type/FunctionCall.js"),LinearGradient:a("./src/export/type/LinearGradient.js"),RadialGradient:a("./src/export/type/RadialGradient.js"),Statics:a("./src/export/type/Statics.js"),SourceBuilder:a("./src/export/type/SourceBuilder.js")},_defineProperty(k,"Types",a("./src/export/type/Types.js")),_defineProperty(k,"TypeVisitor",a("./src/export/type/TypeVisitor.js")),_defineProperty(k,"Output",a("./src/export/Output.js")),_defineProperty(k,"Runtime",a("./src/export/Runtime.js")),k)),m.exports=i},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(O,T,Z){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function P(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?P(d,c):g[e]=c):g[e]=c}}return g}function X(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function V(c){return c&&"function"==typeof c}function ab(d,c){console.log(X("[DBG] "+d,c))}function R(d,c){console.log(X("[LOG] "+d,c))}function G(d,c){console.log(X("[INF] "+d,c))}function H(d,c){console.log(X("[WRN] "+d,c))}function I(d,c){console.log(X("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function L(d,c){var e;c&&(d=X(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function M(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function N(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function U(c){return c.length&&c[c.length-1]}function W(c){return c.length>2?c.slice(1):[]}function S(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function Q(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;S(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function aa(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?aa(e,d-1,g):g.push(e)}return g}var Y=O("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&P(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return U(this.items)}},{key:"tail",value:function(){return W(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};T.exports={EmptyArray:[],getJsName:Y.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:P,createMessage:X,isFunction:V,debug:ab,log:R,info:G,warn:H,error:I,raise:F,raiseAt:L,filter:M,convert:N,first:E,last:U,tail:W,mixin:Q,flatten:aa}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(x,A,v){var t=x("./Base.js"),a=t.Base,E=x("./type/Type.js"),B=x("./type/List.js"),F=x("./type/Bool.js"),H=x("./type/Color.js"),u=x("./type/ColorRGBA.js"),z=x("./type/Text.js"),s=x("./type/Literal.js"),C=x("./type/Statics.js"),D=x("./type/TypeVisitor.js"),y=x("./type/Types.js"),G=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(G.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var w=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:C.boxType,unbox:C.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(m,i){for(var o,n={},k=0,l=0;l<m.length;l++){var j=m[l];if(void 0!==j){if(j===!0||j===!1){n[i[k]]=j,k++}else{if(void 0===j.type){for(o in j){n[o.replace(/^\$/,"")]=j[o]}}else{o=i[k],o instanceof Array?(o=o[0],n[o]=n[o]||new B,n[o].add(j)):(n[o]=j,k++)}}}}return n},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new F(f)}},{key:"color",value:function d(f){var g=H.map[f],h=new u(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new z(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(f){f=f||this.types;for(var h,j=Object.getOwnPropertyNames(f),i=[],g=0;g<j.length;g++){h=j[g],i.push(h+" = Types."+h),i.push("__"+h+" = "+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(j){j=j||this.constructor.prototype;for(var f,h,i=[];j;){f=Object.getOwnPropertyNames(j);for(var g=0;g<f.length;g++){h=f[g],"function"==typeof j[h]&&i.push("__rt_"+h+" = __rt."+h+".bind(__rt)")}j=Object.getPrototypeOf(j)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var i,g=Object.getOwnPropertyNames(this),f=[],h=0;h<g.length;h++){i=g[h],f.push("__rt_"+i+" = __rt."+i)}return 0===f.length?"":"var "+f.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,i,k){var j=m||h,l=k||{};return j.reset(),i&&(i.$isScope?j._globalScope=i:j._globalScope.map=i),k&&(j._dynamics=k),j._currentScope=j._globalScope,j._scopeStack=[j._currentScope],f(h.types,j,j._globalScope,void 0,l),j._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new D(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new G(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(h,f,g){var i=this._globalScope;return f&&f.$isFashionLiteral||(f=this.box(f)),f.ast=f.ast||this.getAstNode(g),i.map[h]=f,f}},{key:"setDynamic",value:function(g,j,k){var i,h=t.getJsName(g),f=this._globalScope;return j&&j.$isFashionLiteral||(j=this.box(j)),j.ast=j.ast||this.getAstNode(k),j.$referenceName||j.$constant?(i=j.clone(),i.$previousReference=j,j=i,j.ast=this.getAstNode(k)):j.$referenceName=g,f.map[h]=j,j}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new B(m,k)}},{key:"applySplatArgs",value:function(g){var l,i,h,j,f,k=[];for(i=0;i<g.length;i++){if(l=g[i],l&&l.splat&&l.$isFashionList){for(f=l.getItems(),j=0;j<f.length;j++){h=f[j],h&&(h.splatSeparator=l.separator),k.push(h)}}else{k.push(l)}l&&(l.splat=void 0)}return k}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(a);t.apply(w.prototype,{box:E.box,unbox:E.unbox,Scope:G,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:y,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),A.exports=w},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(a,n,o){var m=a("../Base.js"),k=a("../Runtime.js"),j=a("../parse/ValueParser.js"),p=a("../type/SourceBuilder.js"),l=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new k}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(C){var g,f,A,e,x,i,z,y=this,d=y.getRuntime(),B=new j,h=y.variableMap;f=new d.Scope;for(e in C){g=m.getJsName(e.replace(y.nameRe,"")),0!==g.indexOf("$")&&(g="$"+g),f.put(g,B.parse(C[e]))}d._globalScope=f,d._currentScope=f;for(var D=0;D<y.calcFns.length;D++){y.calcFns[D](d)}A=new p,C={};for(e in h){x=h[e];for(var D=0;D<x.length;D++){g=x[D],i="$"+m.getJsName(g),z=f.get(i),z&&(z.$isWrapper&&(z=z.value),C[g]=A.toSource(z))}}return C}},{key:"applyVariables",value:function(h){var g=this,e=g.variableMap;for(var d in e){var f=e[d],u=document.querySelectorAll(d);if(u){for(var i=0;i<u.length;i++){for(var t=0;t<f.length;t++){var v=f[t];u[i].style.setProperty("--"+v,h[v])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(d,h,e){if(d&&this.initFns.push(d),h&&this.calcFns.push(h),e){var f=this.variableMap;for(var i in e){var g=f[i];g?g.push.apply(g,e[i]):f[i]=e[i]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return m.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var g=this,e=g.variableMap,t={};for(var d in e){var f=e[d],u=document.querySelectorAll(d);if(u){for(var h=0;h<u.length;h++){for(var i=0;i<f.length;i++){var v=f[i];t[v]=u[h].style.getPropertyValue("--"+v)}}}}return t}}]),c}();m.apply(l.prototype,{$isExport:!0,nameRe:/^--/}),n.exports=l},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,B,u){var D=x("../Base.js"),C=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),A=v.Color,a=v.Text,y=v.Numeric,E=v.List,z=v.Bool,r=v.Literal,s=v.ColorRGBA,F=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var i,h=this,d="",e=h.str,j=e.length,k=!1,f=!1,g=0;h.index<j;){if(i=e[h.index],h.index++,i<=" "&&!k&&!g){if(d.length){break}}else{if(";"===i&&!k&&!f){break}if("("===i&&g++,")"===i&&g&&g--,","===i&&!k&&!f&&!g){if(d.length){h.index--;break}return i}"\\"===i&&k?(f=1,h.index++):('"'!==i&&"'"!==i||(k?k===i&&(k=!1):k=i),f=!1,d+=i)}}return d}},{key:"parseValue",value:function(f){var g,e,d={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===f[0]||"'"===f[0]){return e=f=f.substring(1,f.length-1),new a(e,f[0])}if("true"===f){return new z((!0))}if("false"===f){return new z((!1))}if("null"===f){return r.Null}if("none"===f){return r.None}if(D.Color.map[f]){var h=A.map[f],k=new s(h[0],h[1],h[2],h[3]);return k.stringified=f,k}if(g=d.number.exec(f)){return new y(parseFloat(g[1]),g[2])}if(g=d.shortHexColor.exec(f)){return s.fromHex(g[1])}if(g=d.longHexColor.exec(f)){return s.fromHex(g[1])}if(g=d.functionCall.exec(f)){var i=g[1],j=this.parse(g[2]).items;return"hsla"===i||"hsl"===i?new F(C.unbox(j[0]),C.unbox(j[1]),C.unbox(j[2]),C.unbox(j[3])||1):"rgba"===i||"rgb"===i?new s(C.unbox(j[0]),C.unbox(j[1]),C.unbox(j[2]),C.unbox(j[3])||1):new t(i,j)}return(g=d.parenList.exec(f))?new t(this.parse(g[1])):new D.Literal(f)}},{key:"parse",value:function(i){var e,d=this,j=[],g=[],h=null;for(d.str=i,d.index=0;e=d._advance();){j.push(e)}for(var f=0;f<j.length;f++){e=j[f].trim(),","===j[f+1]?(h=h||[],h.push(d.parseValue(e)),f++):h?(h.push(d.parseValue(e)),g.push(new E(h,", ")),h=null):g.push(d.parseValue(e))}return 1===g.length?g[0]:new E(g," ")}}]),c}();B.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(a,k,j){var n=a("../Base.js"),l=a("./Type.js"),o=a("./Bool.js"),m=a("./Numeric.js"),p=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return o.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(e,g){var f,h=c.units[g],i=c.types[g],r=c.comps[g];return f="hsla"==i?e.getHSLA():e.getRGBA(),new m(f[r],h)}},{key:"adjust",value:function(e,g,i){var f=e.getHSLA().copy(),h=c.comps[g],r=i.value;return f[h]+=r,f.h=c.constrainDegrees(f.h),f.s=c.constrainPercentage(f.s),f.l=c.constrainPercentage(f.l),f.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(l);n.apply(p,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),n.apply(p.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),k.exports=p},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(a,m,n){var k=a("../Base.js"),j=a("./Color.js"),i=a("./ColorRGBA.js"),l=function(c){function d(h,e,f,g){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=j.constrainDegrees(h),p.s=e,p.l=f,void 0!==g&&(p.a=g),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return i.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(h,e,f,g){return new d(j.constrainDegrees(this.h+h),j.constrainPercentage(this.s+e),j.constrainPercentage(this.l+f),j.constrainAlpha(this.a*g))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=j.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=j.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var y=g.r/255,B=g.g/255,s=g.b/255,h=g.a,r=Math.max(y,B,s),f=Math.min(y,B,s),A=r-f,e=0,z=0,x=0.5*(r+f);return f!=r&&(z=x<0.5?A/(r+f):A/(2-r-f),e=y==r?60*(B-s)/A:B==r?120+60*(s-y)/A:240+60*(y-B)/A,e<0&&(e+=360),e>=360&&(e-=360)),new d(j.constrainDegrees(e),j.constrainPercentage(100*z),j.constrainPercentage(100*x),h)}}]),d}(j);i.prototype.getHSLA=function(){return l.fromRGBA(this)},k.apply(l.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),m.exports=l},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(a,m,n){function l(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var k=a("../Base.js"),j=a("./Color.js"),i=function(d){function c(e,f,h,g){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,e)),p.g=Math.min(255,Math.max(0,f)),p.b=Math.min(255,Math.max(0,h)),void 0!==g&&(p.a=Math.min(1,Math.max(0,g))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var e=this,h=Math.round,r=h(e.r),s=h(e.g),f=h(e.b),t=e.a,g="";return g=1===t?"#"+l(r)+l(s)+l(f):"rgba("+r+", "+s+", "+f+", "+t+")",g=g.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var h=this,e=Math.round,q=e(h.r),g=e(h.g),f=e(h.b),r=e(255*h.a);return"#"+l(r)+l(q)+l(g)+l(f)}},{key:"add",value:function(e,f,h,g){return new c(this.r+e,this.g+f,this.b+h,this.a*g)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(e){"#"==e.charAt(0)&&(e=e.substr(1));var f,g,h;3===e.length?(f=parseInt(e.charAt(0),16),g=parseInt(e.charAt(1),16),h=parseInt(e.charAt(2),16),f=(f<<4)+f,g=(g<<4)+g,h=(h<<4)+h):(f=parseInt(e.substring(0,2),16),g=parseInt(e.substring(2,4),16),h=parseInt(e.substring(4,6),16));var p=new c(f,g,h);return c.preserveInputStrings&&(p.stringified="#"+e),p}},{key:"fromHSLA",value:function(r){function h(o){return o<0&&++o,o>1&&--o,6*o<1?C+(D-C)*o*6:2*o<1?D:3*o<2?C+(D-C)*(2/3-o)*6:C}if(r.$isFashionRGBA){return r.clone()}var B=r,A=B.h/360,f=B.s/100,s=B.l/100,z=B.a,D=s<=0.5?s*(f+1):s+f-s*f,C=2*s-D,e=j.constrainChannel(255*h(A+1/3)),y=j.constrainChannel(255*h(A)),g=j.constrainChannel(255*h(A-1/3));return new c(e,y,g,z)}}]),c}(j);k.apply(i,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),k.apply(i.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new i(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new i(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),m.exports=i,function(g,v,c,t){var w,f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=Object.keys(c);for(h.sort(),w=0;w<h.length;w++){var e=h[w],d=c[e],x=new g(d[0],d[1],d[2],d[3]),u=x.stringify();v[u]=e}f.forEach(function(p){var o=p+p;f.forEach(function(r){var q=r+r;f.forEach(function(F){var E=F+F,D="#"+p+r+F,C="#"+o+q+E;if(t[C]){var s=t[C];D=s.length>D.length?D:s}t[C]=D})})})}(i,i.stringifiedMap,j.map,i.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,m,j){var i=a("../Base.js"),k=a("./Type.js"),l=a("./Numeric.js"),n=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new l(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(k);i.apply(n.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),m.exports=n},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,m,k){var n=a("../Base.js"),j=a("./Type.js"),l=a("./List.js"),i=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new l(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(j);n.apply(i.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),m.exports=i},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("top"),g.push("bottom"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(linear, "+g.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var f=this.items,g=f.length,e=[],n=0;n<g;n++){e.push(f[n].clone())}return new c(e,this.separator)}},{key:"clone",value:function(r,e){if(e&&this.matches(r)){return e.clone()}for(var s=this.items,f=s.length,g=[],t=0;t<f;t++){g.push(s[t].clone(r,e))}var q=new c(g,this.separator);return q.$referenceName=this.$referenceName,q.$referenceBase=this.$referenceBase,q.$previousReference=this.$previousReference,q}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(n){for(var g=[],f=0;f<this.items.length;f++){var e=this.items[f];e&&g.push(e.toPrefixedString(n))}return g.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(k,n,a){var m=k("../Base.js"),j=k("./Type.js"),o=k("./Numeric.js"),l=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=j.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=j.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new o(f+1)}}},{key:"insert",value:function(f,h){var e=j.unbox(h)||0,g=this.value;return e>0&&(e=Math.min(e-1,g.length)),e<0&&(e=g.length+e+1,e=Math.max(e,0)),g=g.substring(0,e)+f.value+g.substring(e),new d(d.deEscape(g))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(f){var h,g,e="";for(h=0;h<f.length;h++){g=f.charAt(h),"\\"===g&&(h++,g=f.charAt(h)),e+=g}return e}}]),d}(j);m.apply(l.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var p=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(l);m.apply(p.prototype,{$isFashionNull:!0,$constant:!0}),p.prototype.$isFashionNull=!0,l.Null=new p(null),l.None=new l("none"),n.exports=l},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(o,q,m){var s=o("../Base.js"),a=o("./List.js"),t=o("./Type.js"),n=o("./Literal.js"),l=n.Null,p=o("./Numeric.js"),r=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof p&&(e=t.unbox(e)),"number"==typeof e?new a([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||l)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(a);s.apply(r.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),q.exports=r},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(k,n,a){var m=k("../Base.js"),j=k("./Type.js"),o=k("./Bool.js"),l=k("./Literal.js"),p=function(c){function d(h,i,g,e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=h,f.unit=i,i&&!g?f.numeratorUnits=[i]:f.numeratorUnits=g||[],f.denominatorUnits=e||[],f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new l(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new l(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(f,e){var g;this.unit||e.unit;return e.$isFashionRGBA||e.$isFashionHSLA?new l(this+f+e):e.$isFashionNumber?this.numericOperate(f,e):e.$isFashionLiteral&&(g=this.tryCoerce(e))?this.performOperation(f,g):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,f,e)}},{key:"tryNormalize",value:function(f){var g=f.value,e=f.unit;if(f.$isFashionNumber){switch(this.unit){case"mm":switch(e){case"in":return new d(25.4*g,"mm");case"cm":return new d(2.54*g,"mm")}break;case"cm":switch(e){case"in":return new d(2.54*g,"cm");case"mm":return new d(g/10,"cm")}break;case"in":switch(e){case"mm":return new d(g/25.4,"in");case"cm":return new d(g/2.54,"in")}break;case"ms":switch(e){case"s":return new d(1000*g,"ms")}break;case"s":switch(e){case"ms":return new d(g/1000,"s")}break;case"Hz":switch(e){case"kHz":return new d(1000*g,"Hz")}break;case"kHz":switch(e){case"Hz":return new d(g/1000,"kHz")}break;case"%":switch(e){default:return new d(g)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(f){var g=this.unit,e=f.unit;return !!f.$isFashionNumber&&(g===e||"mm"===g&&("in"===e||"cm"===e)||"cm"===g&&("in"===e||"mm"===e)||"in"===g&&("mm"===e||"cm"===e)||"ms"===g&&"s"===e||"s"===g&&"ms"===e||"Hz"===g&&"kHz"===e||"kHz"===g&&"Hz"===e)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=m.filter(e.num,function(f){return !!f}),e.den=m.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(i,y){this.normalizeUnits(),y.normalizeUnits();var x,z=this,e=y,v=d.OPERATIONS,w=d.NON_COERCE_OPERATIONS,h=v[i];if(h){try{z.unitless()?z=z.coerceUnits(e.numeratorUnits,e.denominatorUnits):e=e.coerceUnits(z.numeratorUnits,z.denominatorUnits)}catch(f){if("=="==i){return o.False}if("!="==i){return o.True}throw f}}else{h=w[i]}if(h&&(x=h(z.value,e.value)),"number"==typeof x){var g=this.computeUnits(z,e,i);return new d(x,g.num.length?g.num[0]:null,g.num,g.den)}return new o(x)}},{key:"computeUnits",value:function(e,f,g){switch(g){case"*":return{num:e.numeratorUnits.slice().concat(f.numeratorUnits),den:e.denominatorUnits.slice().concat(f.denominatorUnits)};case"/":return{num:e.numeratorUnits.slice().concat(f.denominatorUnits),den:e.denominatorUnits.slice().concat(f.numeratorUnits)};default:return{num:e.numeratorUnits,den:e.denominatorUnits}}}},{key:"coerceUnits",value:function(f,e){var g=this.value;return this.unitless()||(g=g*this.coercionFactor(this.numeratorUnits,f)/this.coercionFactor(this.denominatorUnits,e)),new d(g,f&&f[0],f,e)}},{key:"coercionFactor",value:function(e,v){var z=this.removeCommonUnits(e,v),x=z.num,h=z.den;x.length===h.length&&this.convertable(x||h)||m.raise("Incompatible units: "+x.join("*")+" and "+h.join("*"));for(var f=0;f<x.length;f++){for(var i=x[f],g=0;g<h.length;g++){var w=h[g],y=this.conversionFactor(i,w);if(null!==y){return y}}}return 1}},{key:"conversionFactor",value:function(h,i){var g=d.CONVERTABLE_UNITS,f=d.CONVERSION_TABLE,e=null;return g[h]&&g[i]&&(e=f[g[h]][g[i]]),null===e&&g[i]&&g[h]&&(e=1/f[g[i]][g[h]]),e}},{key:"convertable",value:function(f){if(f&&!Array.isArray(f)&&(f=[f]),f&&f.length){for(var g=d.CONVERTABLE_UNITS,e=0;e<f.length;e++){if(void 0===g[f[e]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(i,s){var e,t,t,g={},f=[],h=[];for(e=0;e<i.length;e++){t=i[e],g[t]=(g[t]||0)+1}for(e=0;e<s.length;e++){t=s[e],g[t]=(g[t]||0)-1}for(e=0;e<i.length;e++){t=i[e],g[t]>0&&(f.push(t),g[t]--)}for(e=0;e<s.length;e++){t=s[e],g[t]<0&&(h.push(t),g[t]++)}return{num:f,den:h}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(j);m.apply(p,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),m.apply(p.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),n.exports=p},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(g,e,n){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.position=g,f.stops=n,f.shape=e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var f,g=[],n=this.stops.items,e=n.length;for(g.push("center 0%"),g.push("center 100%"),f=0;f<e;f++){g.push(n[f].toOriginalWebkitString())}return"-webkit-gradient(radial, "+g.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,m,k){var i=a("../Base.js"),n=a("./TypeVisitor.js"),l=a("../Output.js"),j=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(h){for(var e,w=this.output,f=h.items,g=w.output.length,y=h.separator,z=y&&y.length,x=y&&y.indexOf(" ")>-1,v=w.output,u=0;u<f.length;u++){f[u]&&(this.visit(f[u]),e=w.output.length-g,!e&&z&&u>0&&(w.output=v),v=w.output,u<f.length-1&&z&&(w.add(y),x||w.space()),g=w.output.length)}}},{key:"map",value:function(h){var g,q,e=this.output,r=h.items;this.currDeclaration&&i.raise("("+h+") isn't a valid CSS value.");for(var f=0;f<r.length-1;f+=2){g=r[f],q=r[f+1],g&&q&&(f>0&&(e.add(","),e.space()),this.visit(g),e.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new l,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(n);i.apply(j.prototype,{output:null}),m.exports=j},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,p,w){var q=a("../Base.js"),r=a("./Type.js"),n=a("./Text.js"),x=a("./Numeric.js"),v=a("./Bool.js"),t=v.True,u=v.False,o=a("./Literal.js"),s=o.Null;p.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return s}if(c===!0){return t}if(c===!1){return u}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new n(c);case"number":return new x(c)}return c}},q.apply(r,{box:p.exports.boxType,unbox:p.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(q,e,o,r){e=e||"fashion",o=o||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+q+"s*$"),r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+q+"\\s*$");var p=this.docs;if(p&&p.length){for(var d=0;d<this.docs.length;d++){var f=p[d];if(o.test(f)){return !0}if(r.test(f)){return !1}}}return this.parentNode?this.parentNode.hasTag(q,e,o,r):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var _get=function get(f,c,b){null===f&&(f=Function.prototype);var d=Object.getOwnPropertyDescriptor(f,c);if(void 0===d){var a=Object.getPrototypeOf(f);return null===a?void 0:get(a,c,b)}if("value" in d){return d.value}var e=d.get;if(void 0!==e){return e.call(b)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(p){var o=c[l][1][p];return d(o?o:p)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(d,b,f){var e,g=d("./src/export/Base.js"),h=d("./src/export/css/CssVariableManager.js"),c=new h;g.apply(g,(e={css:c,CssExport:h,Types:d("./src/export/type/Types.js"),ValueParser:d("./src/export/parse/ValueParser.js"),Type:d("./src/export/type/Type.js"),Bool:d("./src/export/type/Bool.js"),Literal:d("./src/export/type/Literal.js"),ParentheticalExpression:d("./src/export/type/ParentheticalExpression.js"),Text:d("./src/export/type/Text.js"),Numeric:d("./src/export/type/Numeric.js"),List:d("./src/export/type/List.js"),Map:d("./src/export/type/Map.js"),Color:d("./src/export/type/Color.js"),ColorRGBA:d("./src/export/type/ColorRGBA.js"),ColorHSLA:d("./src/export/type/ColorHSLA.js"),ColorStop:d("./src/export/type/ColorStop.js"),FunctionCall:d("./src/export/type/FunctionCall.js"),LinearGradient:d("./src/export/type/LinearGradient.js"),RadialGradient:d("./src/export/type/RadialGradient.js"),Statics:d("./src/export/type/Statics.js"),SourceBuilder:d("./src/export/type/SourceBuilder.js")},_defineProperty(e,"Types",d("./src/export/type/Types.js")),_defineProperty(e,"TypeVisitor",d("./src/export/type/TypeVisitor.js")),_defineProperty(e,"Output",d("./src/export/Output.js")),_defineProperty(e,"Runtime",d("./src/export/Runtime.js")),e)),b.exports=g},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(m,h,b){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function l(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?l(F,G):C[E]=G):C[E]=G}}return C}function d(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function f(C){return C&&"function"==typeof C}function A(C,D){console.log(d("[DBG] "+C,D))}function j(C,D){console.log(d("[LOG] "+C,D))}function u(C,D){console.log(d("[INF] "+C,D))}function t(C,D){console.log(d("[WRN] "+C,D))}function s(C,D){console.log(d("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function p(D,E){var C;E&&(D=d(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function o(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function n(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function g(C){return C.length&&C[C.length-1]}function e(C){return C.length>2?C.slice(1):[]}function i(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function k(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;i(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function B(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?B(E,F-1,C):C.push(E)}return C}var c=m("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&l(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return g(this.items)}},{key:"tail",value:function(){return e(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};h.exports={EmptyArray:[],getJsName:c.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:l,createMessage:d,isFunction:f,debug:A,log:j,info:u,warn:t,error:s,raise:v,raiseAt:p,filter:o,convert:n,first:w,last:g,tail:e,mixin:k,flatten:B}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(i,e,l){var p=i("./Base.js"),h=p.Base,r=i("./type/Type.js"),d=i("./type/List.js"),o=i("./type/Bool.js"),k=i("./type/Color.js"),n=i("./type/ColorRGBA.js"),f=i("./type/Text.js"),q=i("./type/Literal.js"),c=i("./type/Statics.js"),b=i("./type/TypeVisitor.js"),g=i("./type/Types.js"),m=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(m.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var j=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:c.boxType,unbox:c.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(y,C){for(var D,E={},A=0,z=0;z<y.length;z++){var B=y[z];if(void 0!==B){if(B===!0||B===!1){E[C[A]]=B,A++}else{if(void 0===B.type){for(D in B){E[D.replace(/^\$/,"")]=B[D]}}else{D=C[A],D instanceof Array?(D=D[0],E[D]=E[D]||new d,E[D].add(B)):(E[D]=B,A++)}}}}return E},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new o(v)}},{key:"color",value:function t(x){var w=k.map[x],v=new n(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new f(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(z){z=z||this.types;for(var x,v=Object.getOwnPropertyNames(z),w=[],y=0;y<v.length;y++){x=v[y],w.push(x+" = Types."+x),w.push("__"+x+" = "+x)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(v){v=v||this.constructor.prototype;for(var z,x,w=[];v;){z=Object.getOwnPropertyNames(v);for(var y=0;y<z.length;y++){x=z[y],"function"==typeof v[x]&&w.push("__rt_"+x+" = __rt."+x+".bind(__rt)")}v=Object.getPrototypeOf(v)}return 0===w.length?"":"var "+w.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var v,x=Object.getOwnPropertyNames(this),y=[],w=0;w<x.length;w++){v=x[w],y.push("__rt_"+v+" = __rt."+v)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,C,A){var B=y||v,z=A||{};return B.reset(),C&&(C.$isScope?B._globalScope=C:B._globalScope.map=C),A&&(B._dynamics=A),B._currentScope=B._globalScope,B._scopeStack=[B._currentScope],x(v.types,B,B._globalScope,void 0,z),B._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new b(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new m(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(w,y,x){var v=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),v.map[w]=y,y}},{key:"setDynamic",value:function(z,w,v){var x,y=p.getJsName(z),A=this._globalScope;return w&&w.$isFashionLiteral||(w=this.box(w)),w.ast=w.ast||this.getAstNode(v),w.$referenceName||w.$constant?(x=w.clone(),x.$previousReference=w,w=x,w.ast=this.getAstNode(v)):w.$referenceName=z,A.map[y]=w,w}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new d(w,y)}},{key:"applySplatArgs",value:function(A){var v,y,z,x,B,w=[];for(y=0;y<A.length;y++){if(v=A[y],v&&v.splat&&v.$isFashionList){for(B=v.getItems(),x=0;x<B.length;x++){z=B[x],z&&(z.splatSeparator=v.separator),w.push(z)}}else{w.push(v)}v&&(v.splat=void 0)}return w}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(h);p.apply(j.prototype,{box:r.box,unbox:r.unbox,Scope:m,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:g,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),e.exports=j},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(d,i,h){var b=d("../Base.js"),e=d("../Runtime.js"),f=d("../parse/ValueParser.js"),g=d("../type/SourceBuilder.js"),c=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new e}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(l){var q,r,n,s,w,o,u,v=this,t=v.getRuntime(),m=new f,p=v.variableMap;r=new t.Scope;for(s in l){q=b.getJsName(s.replace(v.nameRe,"")),0!==q.indexOf("$")&&(q="$"+q),r.put(q,m.parse(l[s]))}t._globalScope=r,t._currentScope=r;for(var k=0;k<v.calcFns.length;k++){v.calcFns[k](t)}n=new g,l={};for(s in p){w=p[s];for(var k=0;k<w.length;k++){q=w[k],o="$"+b.getJsName(q),u=r.get(o),u&&(u.$isWrapper&&(u=u.value),l[q]=n.toSource(u))}}return l}},{key:"applyVariables",value:function(l){var m=this,o=m.variableMap;for(var p in o){var n=o[p],r=document.querySelectorAll(p);if(r){for(var k=0;k<r.length;k++){for(var s=0;s<n.length;s++){var q=n[s];r[k].style.setProperty("--"+q,l[q])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(p,l,o){if(p&&this.initFns.push(p),l&&this.calcFns.push(l),o){var n=this.variableMap;for(var k in o){var m=n[k];m?m.push.apply(m,o[k]):n[k]=o[k]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return b.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var m=this,o=m.variableMap,s={};for(var p in o){var n=o[p],r=document.querySelectorAll(p);if(r){for(var l=0;l<r.length;l++){for(var k=0;k<n.length;k++){var q=n[k];s[q]=r[l].style.getPropertyValue("--"+q)}}}}return s}}]),j}();b.apply(c.prototype,{$isExport:!0,nameRe:/^--/}),i.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,e,m){var c=j("../Base.js"),d=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),f=l.Color,i=l.Text,h=l.Numeric,q=l.List,g=l.Bool,b=l.Literal,p=l.ColorRGBA,o=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var u,v=this,z="",y=v.str,t=y.length,s=!1,x=!1,w=0;v.index<t;){if(u=y[v.index],v.index++,u<=" "&&!s&&!w){if(z.length){break}}else{if(";"===u&&!s&&!x){break}if("("===u&&w++,")"===u&&w&&w--,","===u&&!s&&!x&&!w){if(z.length){v.index--;break}return u}"\\"===u&&s?(x=1,v.index++):('"'!==u&&"'"!==u||(s?s===u&&(s=!1):s=u),x=!1,z+=u)}}return z}},{key:"parseValue",value:function(x){var w,y,z={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===x[0]||"'"===x[0]){return y=x=x.substring(1,x.length-1),new i(y,x[0])}if("true"===x){return new g((!0))}if("false"===x){return new g((!1))}if("null"===x){return b.Null}if("none"===x){return b.None}if(c.Color.map[x]){var v=f.map[x],s=new p(v[0],v[1],v[2],v[3]);return s.stringified=x,s}if(w=z.number.exec(x)){return new h(parseFloat(w[1]),w[2])}if(w=z.shortHexColor.exec(x)){return p.fromHex(w[1])}if(w=z.longHexColor.exec(x)){return p.fromHex(w[1])}if(w=z.functionCall.exec(x)){var u=w[1],t=this.parse(w[2]).items;return"hsla"===u||"hsl"===u?new o(d.unbox(t[0]),d.unbox(t[1]),d.unbox(t[2]),d.unbox(t[3])||1):"rgba"===u||"rgb"===u?new p(d.unbox(t[0]),d.unbox(t[1]),d.unbox(t[2]),d.unbox(t[3])||1):new n(u,t)}return(w=z.parenList.exec(x))?new n(this.parse(w[1])):new c.Literal(x)}},{key:"parse",value:function(t){var x,y=this,s=[],v=[],u=null;for(y.str=t,y.index=0;x=y._advance();){s.push(x)}for(var w=0;w<s.length;w++){x=s[w].trim(),","===s[w+1]?(u=u||[],u.push(y.parseValue(x)),w++):u?(u.push(y.parseValue(x)),v.push(new q(u,", ")),u=null):v.push(y.parseValue(x))}return 1===v.length?v[0]:new q(v," ")}}]),r}();e.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(d,e,f){var i=d("../Base.js"),c=d("./Type.js"),h=d("./Bool.js"),b=d("./Numeric.js"),g=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return h.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(q,o){var p,m=k.units[o],l=k.types[o],n=k.comps[o];return p="hsla"==l?q.getHSLA():q.getRGBA(),new b(p[n],m)}},{key:"adjust",value:function(q,o,l){var p=q.getHSLA().copy(),m=k.comps[o],n=l.value;return p[m]+=n,p.h=k.constrainDegrees(p.h),p.s=k.constrainPercentage(p.s),p.l=k.constrainPercentage(p.l),p.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(c);i.apply(g,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),i.apply(g.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),e.exports=g},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(d,b,h){var e=d("../Base.js"),f=d("./Color.js"),g=d("./ColorRGBA.js"),c=function(j){function i(k,o,m,l){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=f.constrainDegrees(k),n.s=o,n.l=m,void 0!==l&&(n.a=l),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return g.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(k,n,m,l){return new i(f.constrainDegrees(this.h+k),f.constrainPercentage(this.s+n),f.constrainPercentage(this.l+m),f.constrainAlpha(this.a*l))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=f.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=f.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var u=o.r/255,l=o.g/255,w=o.b/255,n=o.a,k=Math.max(u,l,w),p=Math.min(u,l,w),m=k-p,q=0,t=0,v=0.5*(k+p);return p!=k&&(t=v<0.5?m/(k+p):m/(2-k-p),q=u==k?60*(l-w)/m:l==k?120+60*(w-u)/m:240+60*(u-l)/m,q<0&&(q+=360),q>=360&&(q-=360)),new i(f.constrainDegrees(q),f.constrainPercentage(100*t),f.constrainPercentage(100*v),n)}}]),i}(f);g.prototype.getHSLA=function(){return c.fromRGBA(this)},e.apply(c.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),b.exports=c},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,b,h){function c(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var e=d("../Base.js"),f=d("./Color.js"),g=function(i){function j(o,m,k,l){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,o)),n.g=Math.min(255,Math.max(0,m)),n.b=Math.min(255,Math.max(0,k)),void 0!==l&&(n.a=Math.min(1,Math.max(0,l))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var q=this,m=Math.round,o=m(q.r),l=m(q.g),p=m(q.b),k=q.a,n="";return n=1===k?"#"+c(o)+c(l)+c(p):"rgba("+o+", "+l+", "+p+", "+k+")",n=n.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var k=this,p=Math.round,o=p(k.r),m=p(k.g),n=p(k.b),l=p(255*k.a);return"#"+c(l)+c(o)+c(m)+c(n)}},{key:"add",value:function(n,m,k,l){return new j(this.r+n,this.g+m,this.b+k,this.a*l)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(o){"#"==o.charAt(0)&&(o=o.substr(1));var m,l,k;3===o.length?(m=parseInt(o.charAt(0),16),l=parseInt(o.charAt(1),16),k=parseInt(o.charAt(2),16),m=(m<<4)+m,l=(l<<4)+l,k=(k<<4)+k):(m=parseInt(o.substring(0,2),16),l=parseInt(o.substring(2,4),16),k=parseInt(o.substring(4,6),16));var n=new j(m,l,k);return j.preserveInputStrings&&(n.stringified="#"+o),n}},{key:"fromHSLA",value:function(l){function p(r){return r<0&&++r,r>1&&--r,6*r<1?m+(k-m)*r*6:2*r<1?k:3*r<2?m+(k-m)*(2/3-r)*6:m}if(l.$isFashionRGBA){return l.clone()}var n=l,o=n.h/360,t=n.s/100,x=n.l/100,v=n.a,k=x<=0.5?x*(t+1):x+t-x*t,m=2*x-k,u=f.constrainChannel(255*p(o+1/3)),w=f.constrainChannel(255*p(o)),q=f.constrainChannel(255*p(o-1/3));return new j(u,w,q,v)}}]),j}(f);e.apply(g,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),e.apply(g.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new g(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new g(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),b.exports=g,function(j,q,n,s){var p,k=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i=Object.keys(n);for(i.sort(),p=0;p<i.length;p++){var l=i[p],m=n[l],o=new j(m[0],m[1],m[2],m[3]),r=o.stringify();q[r]=l}k.forEach(function(t){var u=t+t;k.forEach(function(v){var w=v+v;k.forEach(function(y){var z=y+y,A="#"+t+v+y,B="#"+u+w+z;if(s[B]){var x=s[B];A=x.length>A.length?A:x}s[B]=A})})})}(g,g.stringifiedMap,f.map,g.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(d,b,f){var g=d("../Base.js"),e=d("./Type.js"),c=d("./Numeric.js"),h=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new c(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(e);g.apply(h.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),b.exports=h},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(d,b,e){var h=d("../Base.js"),f=d("./Type.js"),c=d("./List.js"),g=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new c(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(f);h.apply(g.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),b.exports=g},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("top"),j.push("bottom"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(linear, "+j.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var k=this.items,j=k.length,l=[],m=0;m<j;m++){l.push(k[m].clone())}return new i(l,this.separator)}},{key:"clone",value:function(m,p){if(p&&this.matches(m)){return p.clone()}for(var k=this.items,o=k.length,l=[],j=0;j<o;j++){l.push(k[j].clone(m,p))}var n=new i(l,this.separator);return n.$referenceName=this.$referenceName,n.$referenceBase=this.$referenceBase,n.$previousReference=this.$previousReference,n}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(m){for(var j=[],k=0;k<this.items.length;k++){var l=this.items[k];l&&j.push(l.toPrefixedString(m))}return j.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(e,i,d){var b=e("../Base.js"),f=e("./Type.js"),h=e("./Numeric.js"),c=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=f.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=f.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new h(l+1)}}},{key:"insert",value:function(n,l){var o=f.unbox(l)||0,m=this.value;return o>0&&(o=Math.min(o-1,m.length)),o<0&&(o=m.length+o+1,o=Math.max(o,0)),m=m.substring(0,o)+n.value+m.substring(o),new j(j.deEscape(m))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(n){var l,m,o="";for(l=0;l<n.length;l++){m=n.charAt(l),"\\"===m&&(l++,m=n.charAt(l)),o+=m}return o}}]),j}(f);b.apply(c.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var g=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(c);b.apply(g.prototype,{$isFashionNull:!0,$constant:!0}),g.prototype.$isFashionNull=!0,c.Null=new g(null),c.None=new c("none"),i.exports=c},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(e,c,g){var k=e("../Base.js"),i=e("./List.js"),j=e("./Type.js"),f=e("./Literal.js"),h=f.Null,d=e("./Numeric.js"),b=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof d&&(n=j.unbox(n)),"number"==typeof n?new i([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||h)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(i);k.apply(b.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),c.exports=b},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(e,i,d){var b=e("../Base.js"),f=e("./Type.js"),h=e("./Bool.js"),c=e("./Literal.js"),g=function(k){function j(m,l,n,p){_classCallCheck(this,j);var o=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return o.value=m,o.unit=l,l&&!n?o.numeratorUnits=[l]:o.numeratorUnits=n||[],o.denominatorUnits=p||[],o}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new c(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new c(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(m,n){var l;this.unit||n.unit;return n.$isFashionRGBA||n.$isFashionHSLA?new c(this+m+n):n.$isFashionNumber?this.numericOperate(m,n):n.$isFashionLiteral&&(l=this.tryCoerce(n))?this.performOperation(m,l):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,m,n)}},{key:"tryNormalize",value:function(m){var l=m.value,n=m.unit;if(m.$isFashionNumber){switch(this.unit){case"mm":switch(n){case"in":return new j(25.4*l,"mm");case"cm":return new j(2.54*l,"mm")}break;case"cm":switch(n){case"in":return new j(2.54*l,"cm");case"mm":return new j(l/10,"cm")}break;case"in":switch(n){case"mm":return new j(l/25.4,"in");case"cm":return new j(l/2.54,"in")}break;case"ms":switch(n){case"s":return new j(1000*l,"ms")}break;case"s":switch(n){case"ms":return new j(l/1000,"s")}break;case"Hz":switch(n){case"kHz":return new j(1000*l,"Hz")}break;case"kHz":switch(n){case"Hz":return new j(l/1000,"kHz")}break;case"%":switch(n){default:return new j(l)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(m){var l=this.unit,n=m.unit;return !!m.$isFashionNumber&&(l===n||"mm"===l&&("in"===n||"cm"===n)||"cm"===l&&("in"===n||"mm"===n)||"in"===l&&("mm"===n||"cm"===n)||"ms"===l&&"s"===n||"s"===l&&"ms"===n||"Hz"===l&&"kHz"===n||"kHz"===l&&"Hz"===n)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=b.filter(l.num,function(m){return !!m}),l.den=b.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(l,r){this.normalizeUnits(),r.normalizeUnits();var s,q=this,p=r,u=j.OPERATIONS,t=j.NON_COERCE_OPERATIONS,m=u[l];if(m){try{q.unitless()?q=q.coerceUnits(p.numeratorUnits,p.denominatorUnits):p=p.coerceUnits(q.numeratorUnits,q.denominatorUnits)}catch(o){if("=="==l){return h.False}if("!="==l){return h.True}throw o}}else{m=t[l]}if(m&&(s=m(q.value,p.value)),"number"==typeof s){var n=this.computeUnits(q,p,l);return new j(s,n.num.length?n.num[0]:null,n.num,n.den)}return new h(s)}},{key:"computeUnits",value:function(n,m,l){switch(l){case"*":return{num:n.numeratorUnits.slice().concat(m.numeratorUnits),den:n.denominatorUnits.slice().concat(m.denominatorUnits)};case"/":return{num:n.numeratorUnits.slice().concat(m.denominatorUnits),den:n.denominatorUnits.slice().concat(m.numeratorUnits)};default:return{num:n.numeratorUnits,den:n.denominatorUnits}}}},{key:"coerceUnits",value:function(m,n){var l=this.value;return this.unitless()||(l=l*this.coercionFactor(this.numeratorUnits,m)/this.coercionFactor(this.denominatorUnits,n)),new j(l,m&&m[0],m,n)}},{key:"coercionFactor",value:function(p,u){var q=this.removeCommonUnits(p,u),s=q.num,m=q.den;s.length===m.length&&this.convertable(s||m)||b.raise("Incompatible units: "+s.join("*")+" and "+m.join("*"));for(var o=0;o<s.length;o++){for(var l=s[o],n=0;n<m.length;n++){var t=m[n],r=this.conversionFactor(l,t);if(null!==r){return r}}}return 1}},{key:"conversionFactor",value:function(m,l){var n=j.CONVERTABLE_UNITS,o=j.CONVERSION_TABLE,p=null;return n[m]&&n[l]&&(p=o[n[m]][n[l]]),null===p&&n[l]&&n[m]&&(p=1/o[n[l]][n[m]]),p}},{key:"convertable",value:function(m){if(m&&!Array.isArray(m)&&(m=[m]),m&&m.length){for(var l=j.CONVERTABLE_UNITS,n=0;n<m.length;n++){if(void 0===l[m[n]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(m,o){var r,l,l,p={},q=[],n=[];for(r=0;r<m.length;r++){l=m[r],p[l]=(p[l]||0)+1}for(r=0;r<o.length;r++){l=o[r],p[l]=(p[l]||0)-1}for(r=0;r<m.length;r++){l=m[r],p[l]>0&&(q.push(l),p[l]--)}for(r=0;r<o.length;r++){l=o[r],p[l]<0&&(n.push(l),p[l]++)}return{num:q,den:n}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(f);b.apply(g,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),b.apply(g.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),i.exports=g},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(j,l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.position=j,k.stops=m,k.shape=l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var k,j=[],m=this.stops.items,l=m.length;for(j.push("center 0%"),j.push("center 100%"),k=0;k<l;k++){j.push(m[k].toOriginalWebkitString())}return"-webkit-gradient(radial, "+j.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(d,b,e){var g=d("../Base.js"),h=d("./TypeVisitor.js"),c=d("../Output.js"),f=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(k){for(var n,r=this.output,m=k.items,l=r.output.length,p=k.separator,o=p&&p.length,q=p&&p.indexOf(" ")>-1,s=r.output,t=0;t<m.length;t++){m[t]&&(this.visit(m[t]),n=r.output.length-l,!n&&o&&t>0&&(r.output=s),s=r.output,t<m.length-1&&o&&(r.add(p),q||r.space()),l=r.output.length)}}},{key:"map",value:function(k){var m,o,p=this.output,l=k.items;this.currDeclaration&&g.raise("("+k+") isn't a valid CSS value.");for(var n=0;n<l.length-1;n+=2){m=l[n],o=l[n+1],m&&o&&(n>0&&(p.add(","),p.space()),this.visit(m),p.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new c,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(h);g.apply(f.prototype,{output:null}),b.exports=f},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(g,d,i){var c=g("../Base.js"),b=g("./Type.js"),f=g("./Text.js"),h=g("./Numeric.js"),j=g("./Bool.js"),l=j.True,k=j.False,e=g("./Literal.js"),m=e.Null;d.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return m}if(o===!0){return l}if(o===!1){return k}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new f(o);case"number":return new h(o)}return o}},c.apply(b,{box:d.exports.boxType,unbox:d.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(j,l,n,h){l=l||"fashion",n=n||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+j+"s*$"),h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+j+"\\s*$");var k=this.docs;if(k&&k.length){for(var m=0;m<this.docs.length;m++){var i=k[m];if(n.test(i)){return !0}if(h.test(i)){return !1}}}return this.parentNode?this.parentNode.hasTag(j,l,n,h):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !c||"object"!=typeof c&&"function"!=typeof c?d:c}function _inherits(c,d){if("function"!=typeof d&&null!==d){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(e,d,f){return d in e?Object.defineProperty(e,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):e[d]=f,e}var _get=function get(i,l,g){null===i&&(i=Function.prototype);var k=Object.getOwnPropertyDescriptor(i,l);if(void 0===k){var h=Object.getPrototypeOf(i);return null===h?void 0:get(h,l,g)}if("value" in k){return k.value}var j=k.get;if(void 0!==j){return j.call(g)}},_createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(e,a,f){return a&&b(e.prototype,a),f&&b(e,f),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};!function(c){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Fashion=c()}}}(function(){return function b(l,h,j){function k(c,e){if(!h[c]){if(!l[c]){var f="function"==typeof require&&require;if(!e&&f){return f(c,!0)}if(a){return a(c,!0)}var d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=h[c]={exports:{}};l[c][0].call(g.exports,function(m){var n=l[c][1][m];return k(n?n:m)},g,g.exports,b,l,h,j)}return h[c].exports}for(var a="function"==typeof require&&require,i=0;i<j.length;i++){k(j[i])}return k}({1:[function(m,a,k){var l,j=m("./src/export/Base.js"),i=m("./src/export/css/CssVariableManager.js"),n=new i;j.apply(j,(l={css:n,CssExport:i,Types:m("./src/export/type/Types.js"),ValueParser:m("./src/export/parse/ValueParser.js"),Type:m("./src/export/type/Type.js"),Bool:m("./src/export/type/Bool.js"),Literal:m("./src/export/type/Literal.js"),ParentheticalExpression:m("./src/export/type/ParentheticalExpression.js"),Text:m("./src/export/type/Text.js"),Numeric:m("./src/export/type/Numeric.js"),List:m("./src/export/type/List.js"),Map:m("./src/export/type/Map.js"),Color:m("./src/export/type/Color.js"),ColorRGBA:m("./src/export/type/ColorRGBA.js"),ColorHSLA:m("./src/export/type/ColorHSLA.js"),ColorStop:m("./src/export/type/ColorStop.js"),FunctionCall:m("./src/export/type/FunctionCall.js"),LinearGradient:m("./src/export/type/LinearGradient.js"),RadialGradient:m("./src/export/type/RadialGradient.js"),Statics:m("./src/export/type/Statics.js"),SourceBuilder:m("./src/export/type/SourceBuilder.js")},_defineProperty(l,"Types",m("./src/export/type/Types.js")),_defineProperty(l,"TypeVisitor",m("./src/export/type/TypeVisitor.js")),_defineProperty(l,"Output",m("./src/export/Output.js")),_defineProperty(l,"Runtime",m("./src/export/Runtime.js")),l)),a.exports=j},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(j,i,k){function l(c){return c.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var a=function(){function c(){_classCallCheck(this,c),this.variableNameMap={}}return _createClass(c,[{key:"convertName",value:function(f){var d=this.variableNameMap,e=d[f];return void 0===e&&(e=d[f]=l(f)),e}}]),c}(),h=new a;i.exports={NameConverter:a,getJsName:function(c){return h.convertName(c)}}},{}],3:[function(Q,V,ab){function D(){}function J(c,d){if(c=c||{},d){for(var e in d){c[e]=d[e]}}return c}function R(g,f){g=g||{};var e,c,d;if(f){for(e in f){c=f[e],c&&c.constructor===Object?(d=g[e],d&&d.constructor===Object?R(d,c):g[e]=c):g[e]=c}}return g}function Z(d,c){return c&&c.isFashionScanner?d+=": "+c.currentFile+":"+c.lineNumber:c&&(d+=": "+c.file+":"+c.lineNumber),d}function X(c){return c&&"function"==typeof c}function M(d,c){console.log(Z("[DBG] "+d,c))}function T(d,c){console.log(Z("[LOG] "+d,c))}function G(d,c){console.log(Z("[INF] "+d,c))}function H(d,c){console.log(Z("[WRN] "+d,c))}function I(d,c){console.log(Z("[ERR] "+d,c))}function F(c,d){throw"string"!=typeof c&&(d=c,c=d.message,delete d.message),J(Error(c),d)}function N(d,c){var e;c&&(d=Z(d,c),e=c.isFashionScanner?{file:c.currentFile,lineNumber:c.lineNumber}:{node:c,lineNumber:c.lineNumber,file:c.file}),F(d,e)}function O(c,d){for(var g=[],f=0;f<c.length;f++){var e=c[f];d(e,f)&&g.push(e)}return g}function P(c,e){for(var d=[],f=0;f<c.length;f++){d.push(e(c[f]))}return d}function E(c){return c.length&&c[0]}function W(c){return c.length&&c[c.length-1]}function Y(c){return c.length>2?c.slice(1):[]}function U(d,h){for(var i,j,c,e,g=[],f={};d&&d!==h;d=Object.getPrototypeOf(d)){for(e=Object.getOwnPropertyNames(d),i=0,c=e.length;i<c;++i){j=e[i],f[j]||(f[j]=!0,g.push(j))}}return g}function S(c,g){Array.isArray(g)||(g=Array.prototype.slice.call(arguments,1));for(var e=c.prototype,h=0;h<g.length;h++){var d=g[h],f=d.prototype;U(f,a.prototype).forEach(function(i){i in f&&(i in e||(e[i]=f[i]))})}}function L(c,d,g){g=g||[],d=void 0===d?1000:d;for(var f=0;f<c.length;f++){var e=c[f];Array.isArray(e)&&d?L(e,d-1,g):g.push(e)}return g}var aa=Q("./../NameConverter.js"),a=function a(c){_classCallCheck(this,a),c&&R(this,c)},C=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"first",value:function(){return E(this.items)}},{key:"last",value:function(){return W(this.items)}},{key:"tail",value:function(){return Y(this.items)}}]),c}();C.prototype.items=null;var K=Object.create||function(c){return D.prototype=c,new D};V.exports={EmptyArray:[],getJsName:aa.getJsName,chain:K,Base:a,BaseSet:C,apply:J,merge:R,createMessage:Z,isFunction:X,debug:M,log:T,info:G,warn:H,error:I,raise:F,raiseAt:N,filter:O,convert:P,first:E,last:W,tail:Y,mixin:S,flatten:L}},{"./../NameConverter.js":2}],4:[function(k,i,l){var h=k("./Base.js"),j=h.Base,a=function(c){function d(){_classCallCheck(this,d);var e=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.output="",e}return _inherits(d,c),_createClass(d,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(e){this.output+=e}},{key:"addComment",value:function(e){this.output+=e}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(e){this.output+="\n"+this.indentation+(e||"")}},{key:"addCommentLn",value:function(e){e&&0===e.indexOf("//")||this.addln(e)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(e){this.addln(e),this.indent()}},{key:"unindentln",value:function(e){this.unindent(),this.addln(e)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),d}(j);h.apply(a.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),i.exports=a},{"./Base.js":3}],5:[function(A,E,x){var t=A("./Base.js"),B=t.Base,a=A("./type/Type.js"),F=A("./type/List.js"),u=A("./type/Bool.js"),y=A("./type/Color.js"),v=A("./type/ColorRGBA.js"),D=A("./type/Text.js"),s=A("./type/Literal.js"),G=A("./type/Statics.js"),H=A("./type/TypeVisitor.js"),C=A("./type/Types.js"),w=function(){function c(d){_classCallCheck(this,c),this.prev=d,this.map={}}return _createClass(c,[{key:"get",value:function(g){for(var e,d=this.map,f=this;d;){if(e=d[g]){return e}f=f.prev,d=f&&f.map}return e}},{key:"has",value:function(f){for(var d=this.map,e=this;d;){if(f in d){return !0}e=e.prev,d=e&&e.map}return !1}},{key:"put",value:function(e,d){return this.map[e]=d,d}},{key:"addEntries",value:function(d){this.prev&&this.prev.addEntries(d);for(var e in this.map){d[e]=this.map[e]}}},{key:"getEntries",value:function(d){return d=d||{},this.addEntries(d),d}}]),c}();t.apply(w.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var z=function(e){function c(h){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h)),g=f;return g.mixins={},g.functions={},g.processors=[],g.registered={runtime:g,box:G.boxType,unbox:G.unboxType,isArray:function(i){return Array.isArray(i)},getRuntime:function(){return this.runtime},handleArgs:function(o,m){for(var k,j={},i=0,l=0;l<o.length;l++){var n=o[l];if(void 0!==n){if(n===!0||n===!1){j[m[i]]=n,i++}else{if(void 0===n.type){for(k in n){j[k.replace(/^\$/,"")]=n[k]}}else{k=m[i],k instanceof Array?(k=k[0],j[k]=j[k]||new F,j[k].add(n)):(j[k]=n,i++)}}}}return j},sliceArgs:function(j,i,k){return this.getRuntime().sliceArgs(j,i,k).items},tailArgs:function(i,j){var k=Array.prototype.slice.call(j,i);return 1==k.length&&this.isArray(k)&&(k=k[0]),k}},f}return _inherits(c,e),_createClass(c,[{key:"bool",value:function(f){return new u(f)}},{key:"color",value:function d(f){var g=y.map[f],h=new v(g[0],g[1],g[2],g[3]);return h.stringified=f,h}},{key:"quote",value:function(f){return"string"===f.type?f:new D(""+f)}},{key:"unquote",value:function(f){return f.$isFashionType?f.unquote():new s(""+f)}},{key:"not",value:function(f){return this.box(0==this.unbox(f))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(f,g){return this.load(f),this.compile(f),this.execute(g)}},{key:"createTypesBlock",value:function(i){i=i||this.types;for(var f,h=Object.getOwnPropertyNames(i),g=[],j=0;j<h.length;j++){f=h[j],g.push(f+" = Types."+f),g.push("__"+f+" = "+f)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(h){h=h||this.constructor.prototype;for(var i,f,g=[];h;){i=Object.getOwnPropertyNames(h);for(var j=0;j<i.length;j++){f=i[j],"function"==typeof h[f]&&g.push("__rt_"+f+" = __rt."+f+".bind(__rt)")}h=Object.getPrototypeOf(h)}return 0===g.length?"":"var "+g.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var h,f=Object.getOwnPropertyNames(this),i=[],g=0;g<f.length;g++){h=f[g],i.push("__rt_"+h+" = __rt."+h)}return 0===i.length?"":"var "+i.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(f){return f=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+f}},{key:"createWrappedFn",value:function(f){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(f))}},{key:"callWrappedFn",value:function(f,g){return f(t,this,this._globalScope,void 0,g||{})}},{key:"compile",value:function(g){var f,h=this;return this.code=g,f=this.createWrappedFn(g),this.fn=function(m,k,i){var l=m||h,j=i||{};return l.reset(),k&&(k.$isScope?l._globalScope=k:l._globalScope.map=k),i&&(l._dynamics=i),l._currentScope=l._globalScope,l._scopeStack=[l._currentScope],f(h.types,l,l._globalScope,void 0,j),l._globalScope},this.fn}},{key:"execute",value:function(f){return this.fn(this,f)}},{key:"load",value:function(f){return this.code=f,this}},{key:"registerProcessor",value:function(f){this.processors.push(new H(f))}},{key:"register",value:function(f){f.dynamic&&(t.error('Cannot register javascript function named "dynamic"'),delete f.dynamic),f.require&&(t.error('Cannot register javascript function named "require"'),delete f.require),t.apply(this.registered,f)}},{key:"isRegistered",value:function(f){return f=this.reserved[f]?"__"+f:f,!!this.registered[f]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(g){var h=g||this._currentScope,f=new w(h);return this.pushScope(f)}},{key:"pushScope",value:function(f){return f.resetScope=this._currentScope,this._currentScope=f,f}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(h){var f=this.getScopeForName(h),g=f.map[h];return void 0===g&&(h in f.map||t.raise("Reference to undeclared variable : "+h)),this.box(g)}},{key:"getScopeForName",value:function(g){for(var f=this._currentScope;f;){if(g in f.map){return f}f=f.prev}return this._currentScope}},{key:"getDefault",value:function(f){if(null!=f&&void 0!==f){if(!f.$isFashionNull){return this.box(f)}if(this.constructor.allowNullDefaults){return f}}}},{key:"getGlobalDefault",value:function(g){var f=this._globalScope.get(g);return this.getDefault(f)}},{key:"getLocalDefault",value:function(g){var f=this._currentScope.get(g);return this.getDefault(f)}},{key:"setGlobal",value:function(g,i,f){var h=this._globalScope;return i&&i.$isFashionLiteral||(i=this.box(i)),i.ast=i.ast||this.getAstNode(f),h.map[g]=i,i}},{key:"setDynamic",value:function(j,h,i){var g,k=t.getJsName(j),f=this._globalScope;return h&&h.$isFashionLiteral||(h=this.box(h)),h.ast=h.ast||this.getAstNode(i),h.$referenceName||h.$constant?(g=h.clone(),g.$previousReference=h,h=g,h.ast=this.getAstNode(i)):h.$referenceName=j,f.map[k]=h,h}},{key:"setScoped",value:function(g,f){var h=this.getScopeForName(g);return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"set",value:function(g,f){var h=this._currentScope;return f&&f.$isFashionLiteral||(f=this.box(f)),h.map[g]=f,f}},{key:"getDocs",value:function(f){if(this.docCache){return this.docCache.get(f)}}},{key:"getString",value:function(f){if(this.stringCache){return this.stringCache.get(f)}}},{key:"getAstNode",value:function(f){if(this.nodeCache){return this.nodeCache.get(f)}}},{key:"applySplat",value:function(f){return f.splat=!0,f}},{key:"sliceArgs",value:function(h,n,l){n=n||0,l=l||h.length;var j,g,f,i=[],m=[],k=", ";for(g=n;g<l;g++){f=h[g],f?f.splat&&f.$isFashionList?(j&&i.push(j),j=f,k=j.separator||k):i.push(f):j||i.push(f)}for(g=0;g<i.length;g++){f=i[g],k=f&&f.splatSeparator||k,m.push(i[g])}return j&&m.push.apply(m,j.items),new F(m,k)}},{key:"applySplatArgs",value:function(g){var i,l,j,f,k,h=[];for(l=0;l<g.length;l++){if(i=g[l],i&&i.splat&&i.$isFashionList){for(k=i.getItems(),f=0;f<k.length;f++){j=k[f],j&&(j.splatSeparator=i.separator),h.push(j)}}else{h.push(i)}i&&(i.splat=void 0)}return h}},{key:"warn",value:function(){t.warn.apply(t,arguments)}},{key:"debug",value:function(){t.debug.apply(t,arguments)}},{key:"setCaches",value:function(f){this.docCache=f.docCache,this.stringCache=f.stringCache,this.nodeCache=f.nodeCache}},{key:"copyRuntimeState",value:function(f){this._dynamics=f._dynamics,this.registered=f.registered,this.functions=f.functions,this.mixins=f.mixins}},{key:"test",value:function(f){return f=this.unbox(f),null!=f&&f!==!1}},{key:"and",value:function(f,g){return this.test(f)?g:f}},{key:"or",value:function(f,g){return this.test(f)?f:g}}]),c}(B);t.apply(z.prototype,{box:a.box,unbox:a.unbox,Scope:w,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:C,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),E.exports=z},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(o,j,k){var a=o("../Base.js"),n=o("../Runtime.js"),m=o("../parse/ValueParser.js"),l=o("../type/SourceBuilder.js"),p=function(){function c(){_classCallCheck(this,c),this.reset()}return _createClass(c,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new n}},{key:"getRuntime",value:function(){var d=this,f=d.runtime;if(!f){f=d.createRuntime();for(var e=0;e<d.initFns.length;e++){d.initFns[e](f)}d.runtime=f}return f}},{key:"calculate",value:function(x){var e,d,h,D,z,g,B,A=this,C=A.getRuntime(),i=new m,f=A.variableMap;d=new C.Scope;for(D in x){e=a.getJsName(D.replace(A.nameRe,"")),0!==e.indexOf("$")&&(e="$"+e),d.put(e,i.parse(x[D]))}C._globalScope=d,C._currentScope=d;for(var y=0;y<A.calcFns.length;y++){A.calcFns[y](C)}h=new l,x={};for(D in f){z=f[D];for(var y=0;y<z.length;y++){e=z[y],g="$"+a.getJsName(e),B=d.get(g),B&&(B.$isWrapper&&(B=B.value),x[e]=h.toSource(B))}}return x}},{key:"applyVariables",value:function(t){var i=this,g=i.variableMap;for(var f in g){var h=g[f],d=document.querySelectorAll(f);if(d){for(var u=0;u<d.length;u++){for(var v=0;v<h.length;v++){var e=h[v];d[u].style.setProperty("--"+e,t[e])}}}}}},{key:"setVariables",value:function(d){this.applyVariables(this.calculate(d))}},{key:"register",value:function(g,e,h){if(g&&this.initFns.push(g),e&&this.calcFns.push(e),h){var i=this.variableMap;for(var f in h){var d=i[f];d?d.push.apply(d,h[f]):i[f]=h[f]}}}},{key:"buildName",value:function(d){return d.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(d){return a.getJsName(d)}},{key:"buildNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildName(d[e])}return f}},{key:"buildJsNames",value:function(d){var e,f={};for(e in d){f[e]=this.buildJsName(d[e])}return f}},{key:"getVariables",value:function(){var i=this,g=i.variableMap,v={};for(var f in g){var h=g[f],d=document.querySelectorAll(f);if(d){for(var t=0;t<d.length;t++){for(var u=0;u<h.length;u++){var e=h[u];v[e]=d[t].style.getPropertyValue("--"+e)}}}}return v}}]),c}();a.apply(p.prototype,{$isExport:!0,nameRe:/^--/}),j.exports=p},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(x,C,u){var E=x("../Base.js"),D=x("../type/Type.js"),v=(x("../type/Statics.js"),x("../type/Types.js")),B=v.Color,y=v.Text,z=v.Numeric,a=v.List,A=v.Bool,F=v.Literal,r=v.ColorRGBA,s=v.ColorHSLA,t=v.FunctionCall,w=function(){function c(){_classCallCheck(this,c),this.index=0}return _createClass(c,[{key:"_advance",value:function(){for(var g,f=this,j="",k=f.str,h=k.length,i=!1,d=!1,e=0;f.index<h;){if(g=k[f.index],f.index++,g<=" "&&!i&&!e){if(j.length){break}}else{if(";"===g&&!i&&!d){break}if("("===g&&e++,")"===g&&e&&e--,","===g&&!i&&!d&&!e){if(j.length){f.index--;break}return g}"\\"===g&&i?(d=1,f.index++):('"'!==g&&"'"!==g||(i?i===g&&(i=!1):i=g),d=!1,j+=g)}}return j}},{key:"parseValue",value:function(d){var e,k,j={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===d[0]||"'"===d[0]){return k=d=d.substring(1,d.length-1),new y(k,d[0])}if("true"===d){return new A((!0))}if("false"===d){return new A((!1))}if("null"===d){return F.Null}if("none"===d){return F.None}if(E.Color.map[d]){var f=B.map[d],i=new r(f[0],f[1],f[2],f[3]);return i.stringified=d,i}if(e=j.number.exec(d)){return new z(parseFloat(e[1]),e[2])}if(e=j.shortHexColor.exec(d)){return r.fromHex(e[1])}if(e=j.longHexColor.exec(d)){return r.fromHex(e[1])}if(e=j.functionCall.exec(d)){var g=e[1],h=this.parse(e[2]).items;return"hsla"===g||"hsl"===g?new s(D.unbox(h[0]),D.unbox(h[1]),D.unbox(h[2]),D.unbox(h[3])||1):"rgba"===g||"rgb"===g?new r(D.unbox(h[0]),D.unbox(h[1]),D.unbox(h[2]),D.unbox(h[3])||1):new t(g,h)}return(e=j.parenList.exec(d))?new t(this.parse(e[1])):new E.Literal(d)}},{key:"parse",value:function(h){var d,j=this,i=[],f=[],g=null;for(j.str=h,j.index=0;d=j._advance();){i.push(d)}for(var e=0;e<i.length;e++){d=i[e].trim(),","===i[e+1]?(g=g||[],g.push(j.parseValue(d)),e++):g?(g.push(j.parseValue(d)),f.push(new a(g,", ")),g=null):f.push(j.parseValue(d))}return 1===f.length?f[0]:new a(f," ")}}]),c}();C.exports=w},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(k,j,l){var i=k("../Base.js"),a=k("./Type.js"),h=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.value=!!e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new c(this.value)}}]),c}(a);i.apply(h.prototype,{type:"bool",$isFashionBool:!0,value:null}),h.True=new h((!0)),h.True.$constant=!0,h.False=new h((!1)),h.False.$constant=!0,j.exports=h},{"../Base.js":3,"./Type.js":24}],9:[function(o,n,m){var j=o("../Base.js"),p=o("./Type.js"),k=o("./Bool.js"),a=o("./Numeric.js"),l=function(d){function c(){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return _inherits(c,d),_createClass(c,[{key:"toBoolean",value:function(){return k.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(g,i){var h,e=c.units[i],f=c.types[i],r=c.comps[i];return h="hsla"==f?g.getHSLA():g.getRGBA(),new a(h[r],e)}},{key:"adjust",value:function(g,i,f){var h=g.getHSLA().copy(),e=c.comps[i],r=f.value;return h[e]+=r,h.h=c.constrainDegrees(h.h),h.s=c.constrainPercentage(h.s),h.l=c.constrainPercentage(h.l),h.getRGBA()}},{key:"constrainChannel",value:function(e){return Math.max(0,Math.min(e,255))}},{key:"constrainPercentage",value:function(e){return Math.max(0,Math.min(e,100))}},{key:"constrainDegrees",value:function(e){return e%=360,e<0?360+e:e}},{key:"constrainAlpha",value:function(e){return void 0===e?1:Math.max(0,Math.min(e,1))}}]),c}(p);j.apply(l,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),j.apply(l.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),n.exports=l},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(m,a,i){var l=m("../Base.js"),k=m("./Color.js"),j=m("./ColorRGBA.js"),n=function(c){function d(g,h,e,f){_classCallCheck(this,d);var p=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return p.h=k.constrainDegrees(g),p.s=h,p.l=e,void 0!==f&&(p.a=f),p}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.hsla(this)}},{key:"operate",value:function(f,e){return this.getRGBA().operate(f,e)}},{key:"copy",value:function(){return new d(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return j.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(g,h,e,f){return new d(k.constrainDegrees(this.h+g),k.constrainPercentage(this.s+h),k.constrainPercentage(this.l+e),k.constrainAlpha(this.a*f))}},{key:"subtract",value:function(g,e,f){return this.add(-g,-e,-f)}},{key:"adjustLightness",value:function(e){return this.l=k.constrainPercentage(this.l+e),this}},{key:"adjustHue",value:function(e){return this.h=k.constrainDegrees(this.h+e),this}}],[{key:"fromRGBA",value:function(g){if(g.$isFashionHSLA){return g.clone()}var A=g.r/255,s=g.g/255,y=g.b/255,h=g.a,x=Math.max(A,s,y),f=Math.min(A,s,y),r=x-f,e=0,B=0,z=0.5*(x+f);return f!=x&&(B=z<0.5?r/(x+f):r/(2-x-f),e=A==x?60*(s-y)/r:s==x?120+60*(y-A)/r:240+60*(A-s)/r,e<0&&(e+=360),e>=360&&(e-=360)),new d(k.constrainDegrees(e),k.constrainPercentage(100*B),k.constrainPercentage(100*z),h)}}]),d}(k);j.prototype.getHSLA=function(){return n.fromRGBA(this)},l.apply(n.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),a.exports=n},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(m,a,i){function n(d){var c=d.toString(16);return c.length<2&&(c="0"+c),c}var l=m("../Base.js"),k=m("./Color.js"),j=function(d){function c(h,e,g,f){_classCallCheck(this,c);var p=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.r=Math.min(255,Math.max(0,h)),p.g=Math.min(255,Math.max(0,e)),p.b=Math.min(255,Math.max(0,g)),void 0!==f&&(p.a=Math.min(1,Math.max(0,f))),p}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.rgba(this)}},{key:"copy",value:function(){return new c(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var h=this,e=Math.round,s=e(h.r),f=e(h.g),r=e(h.b),g=h.a,t="";return t=1===g?"#"+n(s)+n(f)+n(r):"rgba("+s+", "+f+", "+r+", "+g+")",t=t.toLowerCase()}},{key:"getCompressedValue",value:function(e){var f=c.stringifiedMap[e],g=c.shortFormMap[e];return f&&(e=e.length>f.length?f:e),c.useShortValues&&g&&(e=e.length>g.length?g:e),e}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var g=this,h=Math.round,q=h(g.r),e=h(g.g),r=h(g.b),f=h(255*g.a);return"#"+n(f)+n(q)+n(e)+n(r)}},{key:"add",value:function(h,e,g,f){return new c(this.r+h,this.g+e,this.b+g,this.a*f)}},{key:"subtract",value:function(e,f,g){return new c(this.r-e,this.g-f,this.b-g,this.a)}},{key:"multiply",value:function(e){return new c(this.r*e,this.g*e,this.b*e,this.a)}},{key:"divide",value:function(e){return new c(this.r/e,this.g/e,this.b/e,this.a)}}],[{key:"fromHex",value:function(h){"#"==h.charAt(0)&&(h=h.substr(1));var e,f,g;3===h.length?(e=parseInt(h.charAt(0),16),f=parseInt(h.charAt(1),16),g=parseInt(h.charAt(2),16),e=(e<<4)+e,f=(f<<4)+f,g=(g<<4)+g):(e=parseInt(h.substring(0,2),16),f=parseInt(h.substring(2,4),16),g=parseInt(h.substring(4,6),16));var p=new c(e,f,g);return c.preserveInputStrings&&(p.stringified="#"+h),p}},{key:"fromHSLA",value:function(s){function f(o){return o<0&&++o,o>1&&--o,6*o<1?r+(y-r)*o*6:2*o<1?y:3*o<2?r+(y-r)*(2/3-o)*6:r}if(s.$isFashionRGBA){return s.clone()}var h=s,g=h.h/360,D=h.s/100,z=h.l/100,B=h.a,y=z<=0.5?z*(D+1):z+D-z*D,r=2*z-y,C=k.constrainChannel(255*f(g+1/3)),A=k.constrainChannel(255*f(g)),e=k.constrainChannel(255*f(g-1/3));return new c(C,A,e,B)}}]),c}(k);l.apply(j,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),l.apply(j.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(c).getRGBA();case"deg":return this.getHSLA().adjustHue(c).getRGBA();default:return this.add(c,c,c,1)}},"+.rgba":function(c){return this.add(c.r,c.g,c.b,c.a)},"+.hsla":function(c){return this.getHSLA().add(c.h,c.s,c.l)},"-.number":function(e){var c=e.value,d=e.unit;switch(d){case"%":return this.getHSLA().adjustLightness(-c).getRGBA();case"deg":return this.getHSLA().adjustHue(-c).getRGBA();default:return this.subtract(c,c,c)}},"-.rgba":function(c){return this.subtract(c.r,c.g,c.b)},"-.hsla":function(c){return this.getHSLA().subtract(c.h,c.s,c.l)},"*.number":function(c){return this.multiply(c.value)},"/.number":function(c){return this.divide(c.value)},"*.rgba":function(c){return new j(this.r*c.r,this.g*c.g,this.b*c.b,this.a*c.a)},"/.rgba":function(c){return new j(Math.floor(this.r/c.r),Math.floor(this.g/c.g),Math.floor(this.b/c.b),Math.floor(this.a/c.a))}}),a.exports=j,function(v,d,g,x){var e,u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],w=Object.keys(g);for(w.sort(),e=0;e<w.length;e++){var t=w[e],h=g[t],f=new v(h[0],h[1],h[2],h[3]),c=f.stringify();d[c]=t}u.forEach(function(p){var o=p+p;u.forEach(function(r){var q=r+r;u.forEach(function(F){var D=F+F,C="#"+p+r+F,E="#"+o+q+D;if(x[E]){var s=x[E];C=s.length>C.length?C:s}x[E]=C})})})}(j,j.stringifiedMap,k.map,j.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(m,a,k){var j=m("../Base.js"),l=m("./Type.js"),n=m("./Numeric.js"),i=function(c){function d(f,e){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return g.color=f,g.stop=e,g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.colorstop(this)}},{key:"descend",value:function(e){e.visit(this.color),e.visit(this.stop)}},{key:"toString",value:function(){var f=""+this.color,e=this.stop;return e&&(e=e.copy(),f+=" ",e.unit||(e.value*=100,e.unit="%"),f+=""+e),f}},{key:"toOriginalWebkitString",value:function(){var e=this.stop;return e||(e=new n(0,"%")),e=e.copy(),e.unit||(e.value*=100,e.unit="%"),"color-stop("+e+", "+this.color+")"}},{key:"copy",value:function(){return new d(this.color,this.stop)}}]),d}(l);j.apply(i.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),a.exports=i},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(m,a,l){var i=m("../Base.js"),k=m("./Type.js"),n=m("./List.js"),j=function(d){function c(e,f){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.name=e,Array.isArray(f)&&(f=new n(f)),g.args=f,g}return _inherits(c,d),_createClass(c,[{key:"toString",value:function(){var f,e=this.args;return f=Array.isArray(e)?e.join(", "):""+e,this.name+"("+f+")"}},{key:"doVisit",value:function(e){e.functioncall(this)}},{key:"descend",value:function(e){this.args&&e.visit(this.args)}},{key:"copy",value:function(){return new c(this.name,this.args&&this.args.copy())}}]),c}(k);i.apply(j.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),a.exports=j},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(k,j,l){var h=k("../Base.js"),a=k("./Type.js"),i=function(d){function c(g,f){_classCallCheck(this,c);var e=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.position=g,e.stops=f,e}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.lineargradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops)}},{key:"copy",value:function(){return new c(this.position,this.stops)}},{key:"gradientPoints",value:function(e){}},{key:"operate",value:function(f,e){switch(f){case"!=":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !0}case"==":if("literal"==e.type&&("null"==e.value||"none"==e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){return !!this.vendorPrefixes[e.toLowerCase()]}},{key:"toString",value:function(){var e="linear-gradient(";return this.position&&(e+=this.position+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("top"),n.push("bottom"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(linear, "+n.join(", ")+")"}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}}]),c}(a);h.apply(i.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),j.exports=i},{"../Base.js":3,"./Type.js":24}],15:[function(k,i,l){var h=k("../Base.js"),a=k("./Type.js"),j=function(d){function c(g,e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.items=g||[],f.separator=void 0===e?" ":e,f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.list(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"copy",value:function(){for(var g=this.items,n=g.length,f=[],e=0;e<n;e++){f.push(g[e].clone())}return new c(f,this.separator)}},{key:"clone",value:function(e,r){if(r&&this.matches(e)){return r.clone()}for(var g=this.items,s=g.length,f=[],q=0;q<s;q++){f.push(g[q].clone(e,r))}var t=new c(f,this.separator);return t.$referenceName=this.$referenceName,t.$referenceBase=this.$referenceBase,t.$previousReference=this.$previousReference,t}},{key:"add",value:function(e){return this.items.push(e)}},{key:"get",value:function(e){return this.items[e-1]||null}},{key:"operate",value:function(f,e){switch(f){case"!=":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !0}break;case"==":if(e.$isFashionLiteral&&("null"===e.value||"none"===e.value)){return !1}}return _get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"operate",this).call(this,f,e)}},{key:"supports",value:function(e){for(var g=0;g<this.items.length;g++){var f=this.items[g];if(f.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return h.filter(this.items,function(f){var e=a.unbox(f);return null!==e&&void 0!==e})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var f=[],e=0;e<this.items.length;e++){this.items[e]&&f.push(this.items[e].unquote())}return new c(f,this.separator)}},{key:"toPrefixedString",value:function(e){for(var n=[],g=0;g<this.items.length;g++){var f=this.items[g];f&&n.push(f.toPrefixedString(e))}return n.join(this.separator)}},{key:"==.list",value:function(f){for(var e=this.separator==f.separator&&this.items.length==f.items.length,g=0;e&&g<this.items.length;++g){e=this.items[g].operate("==",f.items[g])}return e}}]),c}(a);h.apply(j.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),i.exports=j},{"../Base.js":3,"./Type.js":24}],16:[function(n,j,o){var a=n("../Base.js"),m=n("./Type.js"),k=n("./Numeric.js"),p=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new d(this.value)}},{key:"+",value:function(e){return new d(this.value+e.getHash())}},{key:"+.number",value:function(e){return null===this.value?e:new d(this.value+(""+e))}},{key:"/",value:function(e){return new d(this.value+"/"+e.getHash())}},{key:"-",value:function(e){return new d(this.value+"-"+e.getHash())}},{key:"%",value:function(e){return new d(this.value+"%"+e.getHash())}},{key:"normalizeStart",value:function(f){var e=m.unbox(f)||0;return e>0&&(e-=1),e<0&&(e=this.value.length+e),e<0&&(e=0),e}},{key:"normalizeEnd",value:function(e){var f=m.unbox(e)||-1;return f>0&&(f-=1),f<0&&(f=this.value.length+f),f<0&&(f=0),f>0&&(f+=1),f}},{key:"slice",value:function(e,f){return e=this.normalizeStart(e),f=this.normalizeEnd(f),new d(this.value.slice(e,f))}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase())}},{key:"indexOf",value:function(e){var f=this.value.indexOf(e.value);if(f!==-1){return new k(f+1)}}},{key:"insert",value:function(h,f){var g=m.unbox(f)||0,e=this.value;return g>0&&(g=Math.min(g-1,e.length)),g<0&&(g=e.length+g+1,g=Math.max(g,0)),e=e.substring(0,g)+h.value+e.substring(g),new d(d.deEscape(e))}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return e.$isFashionString?new d(e.value):e.$isFashionLiteral?e:new d(e.getHash())}}},{key:"deEscape",value:function(h){var f,e,g="";for(f=0;f<h.length;f++){e=h.charAt(f),"\\"===e&&(f++,e=h.charAt(f)),g+=e}return g}}]),d}(m);a.apply(p.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var l=function(c){function d(e){return _classCallCheck(this,d),_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e||null))}return _inherits(d,c),_createClass(d,[{key:"copy",value:function(){return new d(this.value)}}]),d}(p);a.apply(l.prototype,{$isFashionNull:!0,$constant:!0}),l.prototype.$isFashionNull=!0,p.Null=new l(null),p.None=new p("none"),j.exports=p},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(q,s,o){var a=q("../Base.js"),m=q("./List.js"),l=q("./Type.js"),p=q("./Literal.js"),n=p.Null,r=q("./Numeric.js"),t=function(d){function c(e){_classCallCheck(this,c);var f=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));if(f.map={},e){for(var g=0;g<e.length-1;g+=2){var h=f.toKey(e[g]);e[g+1];f.map[h]=g+1}}return f}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.map(this)}},{key:"descend",value:function(e){for(var f=0;f<this.items.length;f++){e.visit(this.items[f])}}},{key:"get",value:function(e){return e instanceof r&&(e=l.unbox(e)),"number"==typeof e?new m([this.items[2*e-2],this.items[2*e-1]]," "):(e=this.toKey(e),this.items[this.map[e]]||n)}},{key:"getItems",value:function(){for(var g=[],e=0;e<this.items.length-1;e+=2){var f=this.toKey(this.items[e]);g.push(this.map[f])}return g}},{key:"put",value:function(f,e){var g=this.toKey(f);this.map.hasOwnProperty(g)?this.items[this.map[g]]=e:(this.items.push(f,e),this.map[g]=this.items.length-1)}},{key:"toString",value:function(){for(var e="",g=0,h=0;h<this.items.length-1;h+=2){var i=this.toKey(this.items[h]),f=this.map[i];f&&(g>0&&(e+=", "),e+=i+": "+f,g++)}return e}},{key:"toKey",value:function(e){return""+this.unquoteKey(e)}},{key:"unquoteKey",value:function(e){return e.$isFashionType?e.unquote():e}}]),c}(m);a.apply(t.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),s.exports=t},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(n,j,o){var a=n("../Base.js"),m=n("./Type.js"),k=n("./Bool.js"),p=n("./Literal.js"),l=function(c){function d(e,f,i,g){_classCallCheck(this,d);var h=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return h.value=e,h.unit=f,f&&!i?h.numeratorUnits=[f]:h.numeratorUnits=i||[],h.denominatorUnits=g||[],h}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var e=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(e+="/"+this.denominatorUnits.join("*")),e}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var f,e=this.value;return f=Math.round(100000*e)/100000+"",f+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new d(this.value,this.unit)}},{key:"-.literal",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.string",value:function(e){return new p(0===this.value&&this.unitless()?"-"+e:""+this+"-"+e)}},{key:"-.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value-e,this.unit||f.unit)}},{key:"+.literal",value:function(e){return new p(e.$isFashionString?""+this+e.value:""+this+(""+e))}},{key:"+.number",value:function(f){var e=f.value;return"%"==f.unit&&f.unit!==this.unit&&(e=this.value*(f.value/100)),new d(this.value+e,this.unit||f.unit)}},{key:"/",value:function(e){return new d(this.value/e.value,this.unit==e.unit?null:this.unit||e.unit)}},{key:"*",value:function(e){return new d(this.value*e.value,this.unit||e.unit)}},{key:"%",value:function(e){return new d(this.value%e.value,this.unit||e.unit)}},{key:"**",value:function(e){return new d(Math.pow(this.value,e.value),this.unit||e.unit)}},{key:"operate",value:function(e,g){var f;this.unit||g.unit;return g.$isFashionRGBA||g.$isFashionHSLA?new p(this+e+g):g.$isFashionNumber?this.numericOperate(e,g):g.$isFashionLiteral&&(f=this.tryCoerce(g))?this.performOperation(e,f):_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"operate",this).call(this,e,g)}},{key:"tryNormalize",value:function(e){var f=e.value,g=e.unit;if(e.$isFashionNumber){switch(this.unit){case"mm":switch(g){case"in":return new d(25.4*f,"mm");case"cm":return new d(2.54*f,"mm")}break;case"cm":switch(g){case"in":return new d(2.54*f,"cm");case"mm":return new d(f/10,"cm")}break;case"in":switch(g){case"mm":return new d(f/25.4,"in");case"cm":return new d(f/2.54,"in")}break;case"ms":switch(g){case"s":return new d(1000*f,"ms")}break;case"s":switch(g){case"ms":return new d(f/1000,"s")}break;case"Hz":switch(g){case"kHz":return new d(1000*f,"Hz")}break;case"kHz":switch(g){case"Hz":return new d(f/1000,"kHz")}break;case"%":switch(g){default:return new d(f)}}}}},{key:"normalize",value:function(f){var e=this.tryNormalize(f);return void 0===e&&raise("Could not normalize "+this+" with "+f),e}},{key:"comparable",value:function(e){var f=this.unit,g=e.unit;return !!e.$isFashionNumber&&(f===g||"mm"===f&&("in"===g||"cm"===g)||"cm"===f&&("in"===g||"mm"===g)||"in"===f&&("mm"===g||"cm"===g)||"ms"===f&&"s"===g||"s"===f&&"ms"===g||"Hz"===f&&"kHz"===g||"kHz"===f&&"Hz"===g)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var e=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);e.num=a.filter(e.num,function(f){return !!f}),e.den=a.filter(e.den,function(f){return !!f}),this.numeratorUnits=e.num,this.denominatorUnits=e.den}}},{key:"numericOperate",value:function(w,e){this.normalizeUnits(),e.normalizeUnits();var z,f=this,g=e,x=d.OPERATIONS,y=d.NON_COERCE_OPERATIONS,v=x[w];if(v){try{f.unitless()?f=f.coerceUnits(g.numeratorUnits,g.denominatorUnits):g=g.coerceUnits(f.numeratorUnits,f.denominatorUnits)}catch(h){if("=="==w){return k.False}if("!="==w){return k.True}throw h}}else{v=y[w]}if(v&&(z=v(f.value,g.value)),"number"==typeof z){var i=this.computeUnits(f,g,w);return new d(z,i.num.length?i.num[0]:null,i.num,i.den)}return new k(z)}},{key:"computeUnits",value:function(g,e,f){switch(f){case"*":return{num:g.numeratorUnits.slice().concat(e.numeratorUnits),den:g.denominatorUnits.slice().concat(e.denominatorUnits)};case"/":return{num:g.numeratorUnits.slice().concat(e.denominatorUnits),den:g.denominatorUnits.slice().concat(e.numeratorUnits)};default:return{num:g.numeratorUnits,den:g.denominatorUnits}}}},{key:"coerceUnits",value:function(e,g){var f=this.value;return this.unitless()||(f=f*this.coercionFactor(this.numeratorUnits,e)/this.coercionFactor(this.denominatorUnits,g)),new d(f,e&&e[0],e,g)}},{key:"coercionFactor",value:function(g,x){var f=this.removeCommonUnits(g,x),z=f.num,v=f.den;z.length===v.length&&this.convertable(z||v)||a.raise("Incompatible units: "+z.join("*")+" and "+v.join("*"));for(var h=0;h<z.length;h++){for(var w=z[h],i=0;i<v.length;i++){var y=v[i],e=this.conversionFactor(w,y);if(null!==e){return e}}}return 1}},{key:"conversionFactor",value:function(e,f){var i=d.CONVERTABLE_UNITS,h=d.CONVERSION_TABLE,g=null;return i[e]&&i[f]&&(g=h[i[e]][i[f]]),null===g&&i[f]&&i[e]&&(g=1/h[i[f]][i[e]]),g}},{key:"convertable",value:function(e){if(e&&!Array.isArray(e)&&(e=[e]),e&&e.length){for(var f=d.CONVERTABLE_UNITS,g=0;g<e.length;g++){if(void 0===f[e[g]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(e,s){var g,f,f,i={},h=[],t=[];for(g=0;g<e.length;g++){f=e[g],i[f]=(i[f]||0)+1}for(g=0;g<s.length;g++){f=s[g],i[f]=(i[f]||0)-1}for(g=0;g<e.length;g++){f=e[g],i[f]>0&&(h.push(f),i[f]--)}for(g=0;g<s.length;g++){f=s[g],i[f]<0&&(t.push(f),i[f]++)}return{num:h,den:t}}}],[{key:"tryGetNumber",value:function(e){if(/^\d*$/.test(e)&&(e=parseFloat(e)),!isNaN(e)){return new d(e)}}},{key:"tryCoerce",value:function(e){return e.$isFashionNumber?e:e.$isFashionLiteral?this.tryGetNumber(e.value):void 0}}]),d}(m);a.apply(l,{OPERATIONS:{"!=":function(d,c){return d!=c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">":function(d,c){return d>c},">=":function(d,c){return d>=c},"==":function(d,c){return d==c},"%":function(d,c){return Math.abs(d%c)}},NON_COERCE_OPERATIONS:{"*":function(d,c){return d*c},"**":function(d,c){return Math.pow(d,c)},"/":function(d,c){return d/c}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),a.apply(l.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),j.exports=l},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(c){function d(e){_classCallCheck(this,d);var f=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return f.value=e,f}return _inherits(d,c),_createClass(d,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(e){e.parenthetical(this)}}]),d}(l);h.apply(a.prototype,{value:null,type:"parenthetical"}),i.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(j,i,k){var h=j("../Base.js"),l=j("./Type.js"),a=function(d){function c(n,f,e){_classCallCheck(this,c);var g=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return g.position=n,g.stops=e,g.shape=f,g}return _inherits(c,d),_createClass(c,[{key:"doVisit",value:function(e){e.radialgradient(this)}},{key:"descend",value:function(e){e.visit(this.position),e.visit(this.stops),e.visit(this.shape)}},{key:"copy",value:function(){return new c(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var e="radial-gradient(";return this.position&&(e+=this.position+", "),this.shape&&(e+=this.shape+", "),e+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var g,n=[],e=this.stops.items,f=e.length;for(n.push("center 0%"),n.push("center 100%"),g=0;g<f;g++){n.push(e[g].toOriginalWebkitString())}return"-webkit-gradient(radial, "+n.join(", ")+")"}},{key:"supports",value:function(e){return["owg","webkit"].indexOf(e.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(e){return"owg"===e?this.toOriginalWebkitString():e+(""+this)}},{key:"gradientPoints",value:function(e){}}]),c}(l);h.apply(a.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),i.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(m,a,l){var j=m("../Base.js"),i=m("./TypeVisitor.js"),n=m("../Output.js"),k=function(d){function c(e){return _classCallCheck(this,c),_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return _inherits(c,d),_createClass(c,[{key:"list",value:function(x){for(var u,e=this.output,v=x.items,w=e.output.length,g=x.separator,h=g&&g.length,f=g&&g.indexOf(" ")>-1,z=e.output,y=0;y<v.length;y++){v[y]&&(this.visit(v[y]),u=e.output.length-w,!u&&h&&y>0&&(e.output=z),z=e.output,y<v.length-1&&h&&(e.add(g),f||e.space()),w=e.output.length)}}},{key:"map",value:function(g){var e,q,h=this.output,f=g.items;this.currDeclaration&&j.raise("("+g+") isn't a valid CSS value.");for(var r=0;r<f.length-1;r+=2){e=f[r],q=f[r+1],e&&q&&(r>0&&(h.add(","),h.space()),this.visit(e),h.add(": "),this.visit(q))}}},{key:"literal",value:function(e){e.value&&this.output.add(e.value)}},{key:"string",value:function(e){var f=this.output;f.add(e.quoteChar),f.add(e.value),f.add(e.quoteChar)}},{key:"functioncall",value:function(e){var f=this.output;f.add(e.name),f.add("("),this.visit(e.args),f.add(")")}},{key:"parenthetical",value:function(e){this.output.add("("),this.visit(e.value),this.output.add(")")}},{key:"number",value:function(f){var e=f.stringify();"."!==e.indexOf(".")||this.output.isCompressed||(e="0"+e),this.output.add(e)}},{key:"bool",value:function(e){this.output.add(e.value?"true":"false")}},{key:"hsla",value:function(e){this.output.add(""+e)}},{key:"rgba",value:function(e){this.output.add(""+e)}},{key:"colorstop",value:function(e){var g=this.output,f=e.stop;this.visit(e.color),f&&(f=f.clone(),g.add(" "),f.unit||(f.value*=100,f.unit="%"),this.visit(f))}},{key:"lineargradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"radialgradient",value:function(e){var f=this.output;f.add("linear-gradient("),e.position&&(this.visit(e.position),f.add(","),f.space()),e.shape&&(this.visit(e.shape),f.add(","),f.space()),this.visit(e.stops),f.add(")")}},{key:"toSource",value:function(e,f){return this.output=f||new n,this.visit(e),this.output.get()}}],[{key:"toSource",value:function(f,g){var e=new c;return e.toSource(f,g)}}]),c}(i);j.apply(k.prototype,{output:null}),a.exports=k},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(s,v,q){var w=s("../Base.js"),x=s("./Type.js"),t=s("./Text.js"),r=s("./Numeric.js"),p=s("./Bool.js"),n=p.True,o=p.False,u=s("./Literal.js"),a=u.Null;v.exports={unboxType:function(c){var d=c;return d&&d.$isFashionType&&d.$canUnbox&&(d=d.value,c.$isFashionString||c.$isFashionLiteral?"none"!==d&&"null"!==d||(d=null):c.$isFashionList&&(d=c.items)),d},boxType:function(c){if(c&&c.$isFashionType){return c}if(null==c){return a}if(c===!0){return n}if(c===!1){return o}var d=void 0===c?"undefined":_typeof(c);switch(d){case"string":return new t(c);case"number":return new r(c)}return c}},w.apply(x,{box:v.exports.boxType,unbox:v.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(k,j,l){var h=k("../Base.js"),a=k("./Literal.js"),i=function(c){function d(e,f){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return void 0!==f&&(d.preferDoubleQuotes&&""===f?g.quoteChar="":g.quoteChar=f),g}return _inherits(d,c),_createClass(d,[{key:"doVisit",value:function(e){e.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new a(this.value)}},{key:"copy",value:function(){return new d(this.value,this.quoteChar)}},{key:"slice",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"slice",this).call(this,e,f).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new d(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new d(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(e,f){return new d(_get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insert",this).call(this,e,f).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(e){if(!e.$isFashionNumber){return new d(e.$isFashionLiteral?e.value:e.getHash())}}}]),d}(a);i.preferDoubleQuotes=!1,h.apply(i.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(c){return new i(this.value+c.getHash())},"+.number":function(c){return new i(this.value+(""+c))},"/":function(c){return new i(this.value+"/"+c.getHash())}}),j.exports=i},{"../Base.js":3,"./Literal.js":16}],24:[function(i,h,j){var g=i("../Base.js"),a=function(){function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"coerce",value:function(d){var e=this.tryCoerce(d);return e||d}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(d){var e=this;return e.constructor===d.constructor?d:e.constructor.tryCoerce?e.constructor.tryCoerce(d):void 0}},{key:"supports",value:function(d){return !1}},{key:"operate",value:function(e,d){return this.performOperation(e,this.coerce(d))}},{key:"performOperation",value:function(l,e){var d=this[l+"."+e.type]||this[l];d||g.raise("Failed to find method for operation "+l+" on type "+e.type+" with value "+e+".");var f=d.call(this,e);return f&&f.$isFashionType||(f=c.box(f)),f}},{key:"==",value:function(d){return this.getHash()===d.getHash()}},{key:"!=",value:function(d){return this.getHash()!==d.getHash()}},{key:">=",value:function(d){return this.getHash()>=d.getHash()}},{key:"<=",value:function(d){return this.getHash()<=d.getHash()}},{key:">",value:function(d){return this.getHash()>d.getHash()}},{key:"<",value:function(d){return this.getHash()<d.getHash()}},{key:"+",value:function(d){return this.getHash()+d.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(d){return !(!d||d!=""+this)}},{key:"clone",value:function(f,e){if(e&&this.matches(f)){return e.copy()}var d=this.copy();return d.ast=this.ast,d.$referenceName=this.$referenceName,d.$referenceBase=this.$referenceBase,d.$previousReference=this.$previousReference,d}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(d){return""+this}},{key:"doVisit",value:function(d){}},{key:"descend",value:function(d){}},{key:"hasTag",value:function(o,e,r,q){e=e||"fashion",r=r||RegExp("^\\s*//#\\s*"+e+"\\s*\\+?"+o+"s*$"),q=q||RegExp("^\\s*//#\\s*"+e+"\\s*\\-"+o+"\\s*$");var f=this.docs;if(f&&f.length){for(var d=0;d<this.docs.length;d++){var p=f[d];if(r.test(p)){return !0}if(q.test(p)){return !1}}}return this.parentNode?this.parentNode.hasTag(o,e,r,q):null}}]),c}();g.apply(a.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),h.exports=a},{"../Base.js":3}],25:[function(j,h,a){var g=j("../Base.js"),i=function(){function c(d){_classCallCheck(this,c),d&&g.apply(this,d)}return _createClass(c,[{key:"literal",value:function(d){d.descend(this)}},{key:"bool",value:function(d){d.descend(this)}},{key:"string",value:function(d){d.descend(this)}},{key:"number",value:function(d){d.descend(this)}},{key:"map",value:function(d){d.descend(this)}},{key:"functioncall",value:function(d){d.descend(this)}},{key:"parenthetical",value:function(d){d.descend(this)}},{key:"list",value:function(d){d.descend(this)}},{key:"hsla",value:function(d){d.descend(this)}},{key:"rgba",value:function(d){d.descend(this)}},{key:"colorstop",value:function(d){d.descend(this)}},{key:"lineargradient",value:function(d){d.descend(this)}},{key:"radialgradient",value:function(d){d.descend(this)}},{key:"visitItem",value:function(d){d.doVisit(this)}},{key:"visit",value:function(d){for(;d&&void 0!==d.visitTarget;){d=d.visitTarget}if(d){if(Array.isArray(d)){for(var e=0;e<d.length;e++){this.visit(d[e])}}else{this.visitItem(d)}}}},{key:"execute",value:function(d,e){this.visit(d)}}]),c}();i.prototype.context=null,h.exports=i},{"../Base.js":3}],26:[function(k,j,l){var h=k("./Bool.js"),a=k("./Literal.js"),i={Bool:h,Literal:a,Text:k("./Text.js"),Numeric:k("./Numeric.js"),Color:k("./Color.js"),ColorRGBA:k("./ColorRGBA.js"),ColorHSLA:k("./ColorHSLA.js"),ColorStop:k("./ColorStop.js"),LinearGradient:k("./LinearGradient.js"),RadialGradient:k("./RadialGradient.js"),List:k("./List.js"),Map:k("./Map.js"),ParentheticalExpression:k("./ParentheticalExpression.js"),FunctionCall:k("./FunctionCall.js"),Null:a.Null,None:a.None,True:h.True,False:h.False};j.exports=i},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});"use strict";function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(b,c,a){return c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a,b}var _get=function get(d,a,f){null===d&&(d=Function.prototype);var b=Object.getOwnPropertyDescriptor(d,a);if(void 0===b){var e=Object.getPrototypeOf(d);return null===e?void 0:get(e,a,f)}if("value" in b){return b.value}var c=b.get;if(void 0!==c){return c.call(f)}},_createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.Fashion=b()}}}(function(){return function a(c,g,e){function d(l,j){if(!g[l]){if(!c[l]){var i="function"==typeof require&&require;if(!j&&i){return i(l,!0)}if(b){return b(l,!0)}var k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[l]={exports:{}};c[l][0].call(h.exports,function(o){var p=c[l][1][o];return d(p?p:o)},h,h.exports,a,c,g,e)}return g[l].exports}for(var b="function"==typeof require&&require,f=0;f<e.length;f++){d(e[f])}return d}({1:[function(b,d,e){var c,f=b("./src/export/Base.js"),g=b("./src/export/css/CssVariableManager.js"),h=new g;f.apply(f,(c={css:h,CssExport:g,Types:b("./src/export/type/Types.js"),ValueParser:b("./src/export/parse/ValueParser.js"),Type:b("./src/export/type/Type.js"),Bool:b("./src/export/type/Bool.js"),Literal:b("./src/export/type/Literal.js"),ParentheticalExpression:b("./src/export/type/ParentheticalExpression.js"),Text:b("./src/export/type/Text.js"),Numeric:b("./src/export/type/Numeric.js"),List:b("./src/export/type/List.js"),Map:b("./src/export/type/Map.js"),Color:b("./src/export/type/Color.js"),ColorRGBA:b("./src/export/type/ColorRGBA.js"),ColorHSLA:b("./src/export/type/ColorHSLA.js"),ColorStop:b("./src/export/type/ColorStop.js"),FunctionCall:b("./src/export/type/FunctionCall.js"),LinearGradient:b("./src/export/type/LinearGradient.js"),RadialGradient:b("./src/export/type/RadialGradient.js"),Statics:b("./src/export/type/Statics.js"),SourceBuilder:b("./src/export/type/SourceBuilder.js")},_defineProperty(c,"Types",b("./src/export/type/Types.js")),_defineProperty(c,"TypeVisitor",b("./src/export/type/TypeVisitor.js")),_defineProperty(c,"Output",b("./src/export/Output.js")),_defineProperty(c,"Runtime",b("./src/export/Runtime.js")),c)),d.exports=f},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,f,d){function c(h){return h.replace(/\-/g,"_").replace(/\//g,"_fs_").replace(/\\/g,"_bs_")}var b=function(){function h(){_classCallCheck(this,h),this.variableNameMap={}}return _createClass(h,[{key:"convertName",value:function(i){var k=this.variableNameMap,j=k[i];return void 0===j&&(j=k[i]=c(i)),j}}]),h}(),g=new b;f.exports={NameConverter:b,getJsName:function(h){return g.convertName(h)}}},{}],3:[function(k,f,A){function x(){}function r(E,D){if(E=E||{},D){for(var C in D){E[C]=D[C]}}return E}function j(C,D){C=C||{};var E,G,F;if(D){for(E in D){G=D[E],G&&G.constructor===Object?(F=C[E],F&&F.constructor===Object?j(F,G):C[E]=G):C[E]=G}}return C}function b(C,D){return D&&D.isFashionScanner?C+=": "+D.currentFile+":"+D.lineNumber:D&&(C+=": "+D.file+":"+D.lineNumber),C}function d(C){return C&&"function"==typeof C}function o(C,D){console.log(b("[DBG] "+C,D))}function h(C,D){console.log(b("[LOG] "+C,D))}function u(C,D){console.log(b("[INF] "+C,D))}function t(C,D){console.log(b("[WRN] "+C,D))}function s(C,D){console.log(b("[ERR] "+C,D))}function v(D,C){throw"string"!=typeof D&&(C=D,D=C.message,delete C.message),r(Error(D),C)}function n(D,E){var C;E&&(D=b(D,E),C=E.isFashionScanner?{file:E.currentFile,lineNumber:E.lineNumber}:{node:E,lineNumber:E.lineNumber,file:E.file}),v(D,C)}function m(G,F){for(var C=[],D=0;D<G.length;D++){var E=G[D];F(E,D)&&C.push(E)}return C}function l(F,D){for(var E=[],C=0;C<F.length;C++){E.push(D(F[C]))}return E}function w(C){return C.length&&C[0]}function e(C){return C.length&&C[C.length-1]}function c(C){return C.length>2?C.slice(1):[]}function g(I,E){for(var D,C,J,H,F=[],G={};I&&I!==E;I=Object.getPrototypeOf(I)){for(H=Object.getOwnPropertyNames(I),D=0,J=H.length;D<J;++D){C=H[D],G[C]||(G[C]=!0,F.push(C))}}return F}function i(H,D){Array.isArray(D)||(D=Array.prototype.slice.call(arguments,1));for(var F=H.prototype,C=0;C<D.length;C++){var G=D[C],E=G.prototype;g(E,z.prototype).forEach(function(I){I in E&&(I in F||(F[I]=E[I]))})}}function p(G,F,C){C=C||[],F=void 0===F?1000:F;for(var D=0;D<G.length;D++){var E=G[D];Array.isArray(E)&&F?p(E,F-1,C):C.push(E)}return C}var B=k("./../NameConverter.js"),z=function z(C){_classCallCheck(this,z),C&&j(this,C)},y=function(){function C(){_classCallCheck(this,C)}return _createClass(C,[{key:"first",value:function(){return w(this.items)}},{key:"last",value:function(){return e(this.items)}},{key:"tail",value:function(){return c(this.items)}}]),C}();y.prototype.items=null;var q=Object.create||function(C){return x.prototype=C,new x};f.exports={EmptyArray:[],getJsName:B.getJsName,chain:q,Base:z,BaseSet:y,apply:r,merge:j,createMessage:b,isFunction:d,debug:o,log:h,info:u,warn:t,error:s,raise:v,raiseAt:n,filter:m,convert:l,first:w,last:e,tail:c,mixin:i,flatten:p}},{"./../NameConverter.js":2}],4:[function(d,f,c){var g=d("./Base.js"),e=g.Base,b=function(i){function h(){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.output="",j}return _inherits(h,i),_createClass(h,[{key:"space",value:function(){this.add(" ")}},{key:"add",value:function(j){this.output+=j}},{key:"addComment",value:function(j){this.output+=j}},{key:"indent",value:function(){this.indentation+=this.indentstr}},{key:"unindent",value:function(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function(j){this.output+="\n"+this.indentation+(j||"")}},{key:"addCommentLn",value:function(j){j&&0===j.indexOf("//")||this.addln(j)}},{key:"get",value:function(){return this.output}},{key:"indentln",value:function(j){this.addln(j),this.indent()}},{key:"unindentln",value:function(j){this.unindent(),this.addln(j)}},{key:"reset",value:function(){this.indentation="",this.output=""}}]),h}(e);g.apply(b.prototype,{indentation:"",output:"",isCompressed:!1,indentstr:"    ",splitThreshold:1000000,selectorCount:0}),f.exports=b},{"./Base.js":3}],5:[function(e,r,i){var p=e("./Base.js"),d=p.Base,h=e("./type/Type.js"),o=e("./type/List.js"),n=e("./type/Bool.js"),g=e("./type/Color.js"),l=e("./type/ColorRGBA.js"),b=e("./type/Text.js"),q=e("./type/Literal.js"),m=e("./type/Statics.js"),k=e("./type/TypeVisitor.js"),c=e("./type/Types.js"),j=function(){function s(t){_classCallCheck(this,s),this.prev=t,this.map={}}return _createClass(s,[{key:"get",value:function(t){for(var v,w=this.map,u=this;w;){if(v=w[t]){return v}u=u.prev,w=u&&u.map}return v}},{key:"has",value:function(t){for(var v=this.map,u=this;v;){if(t in v){return !0}u=u.prev,v=u&&u.map}return !1}},{key:"put",value:function(t,u){return this.map[t]=u,u}},{key:"addEntries",value:function(u){this.prev&&this.prev.addEntries(u);for(var t in this.map){u[t]=this.map[t]}}},{key:"getEntries",value:function(t){return t=t||{},this.addEntries(t),t}}]),s}();p.apply(j.prototype,{$isScope:!0,map:void 0,prev:void 0,resetScope:void 0});var f=function(s){function u(v){_classCallCheck(this,u);var x=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v)),w=x;return w.mixins={},w.functions={},w.processors=[],w.registered={runtime:w,box:m.boxType,unbox:m.unboxType,isArray:function(y){return Array.isArray(y)},getRuntime:function(){return this.runtime},handleArgs:function(D,y){for(var A,B={},C=0,z=0;z<D.length;z++){var E=D[z];if(void 0!==E){if(E===!0||E===!1){B[y[C]]=E,C++}else{if(void 0===E.type){for(A in E){B[A.replace(/^\$/,"")]=E[A]}}else{A=y[C],A instanceof Array?(A=A[0],B[A]=B[A]||new o,B[A].add(E)):(B[A]=E,C++)}}}}return B},sliceArgs:function(z,A,y){return this.getRuntime().sliceArgs(z,A,y).items},tailArgs:function(A,z){var y=Array.prototype.slice.call(z,A);return 1==y.length&&this.isArray(y)&&(y=y[0]),y}},x}return _inherits(u,s),_createClass(u,[{key:"bool",value:function(v){return new n(v)}},{key:"color",value:function t(x){var w=g.map[x],v=new l(w[0],w[1],w[2],w[3]);return v.stringified=x,v}},{key:"quote",value:function(v){return"string"===v.type?v:new b(""+v)}},{key:"unquote",value:function(v){return v.$isFashionType?v.unquote():new q(""+v)}},{key:"not",value:function(v){return this.box(0==this.unbox(v))}},{key:"reset",value:function(){this._currentScope=null,this._globalScope=this.createScope(),this._dynamics={}}},{key:"run",value:function(w,v){return this.load(w),this.compile(w),this.execute(v)}},{key:"createTypesBlock",value:function(w){w=w||this.types;for(var z,x=Object.getOwnPropertyNames(w),y=[],v=0;v<x.length;v++){z=x[v],y.push(z+" = Types."+z),y.push("__"+z+" = "+z)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createMethodBlock",value:function(x){x=x||this.constructor.prototype;for(var w,z,y=[];x;){w=Object.getOwnPropertyNames(x);for(var v=0;v<w.length;v++){z=w[v],"function"==typeof x[z]&&y.push("__rt_"+z+" = __rt."+z+".bind(__rt)")}x=Object.getPrototypeOf(x)}return 0===y.length?"":"var "+y.join(",\n    ")+";\n"}},{key:"createPropertyBlock",value:function(){for(var w,y=Object.getOwnPropertyNames(this),v=[],x=0;x<y.length;x++){w=y[x],v.push("__rt_"+w+" = __rt."+w)}return 0===v.length?"":"var "+v.join(",\n    ")+";\n"}},{key:"createPrefixedFunctionBody",value:function(v){return v=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+v}},{key:"createWrappedFn",value:function(v){return Function("Types","__rt","__gs","__udf","__dyn",this.createPrefixedFunctionBody(v))}},{key:"callWrappedFn",value:function(w,v){return w(p,this,this._globalScope,void 0,v||{})}},{key:"compile",value:function(w){var x,v=this;return this.code=w,x=this.createWrappedFn(w),this.fn=function(y,A,C){var z=y||v,B=C||{};return z.reset(),A&&(A.$isScope?z._globalScope=A:z._globalScope.map=A),C&&(z._dynamics=C),z._currentScope=z._globalScope,z._scopeStack=[z._currentScope],x(v.types,z,z._globalScope,void 0,B),z._globalScope},this.fn}},{key:"execute",value:function(v){return this.fn(this,v)}},{key:"load",value:function(v){return this.code=v,this}},{key:"registerProcessor",value:function(v){this.processors.push(new k(v))}},{key:"register",value:function(v){v.dynamic&&(p.error('Cannot register javascript function named "dynamic"'),delete v.dynamic),v.require&&(p.error('Cannot register javascript function named "require"'),delete v.require),p.apply(this.registered,v)}},{key:"isRegistered",value:function(v){return v=this.reserved[v]?"__"+v:v,!!this.registered[v]}},{key:"getGlobalScope",value:function(){return this._globalScope}},{key:"getCurrentScope",value:function(){return this._currentScope}},{key:"getRegisteredFunctions",value:function(){return this.registered}},{key:"getFunctions",value:function(){return this.functions}},{key:"getMixins",value:function(){return this.mixins}},{key:"createScope",value:function(w){var v=w||this._currentScope,x=new j(v);return this.pushScope(x)}},{key:"pushScope",value:function(v){return v.resetScope=this._currentScope,this._currentScope=v,v}},{key:"popScope",value:function(){return this._currentScope=this._currentScope.resetScope,this._currentScope}},{key:"get",value:function(v){var x=this.getScopeForName(v),w=x.map[v];return void 0===w&&(v in x.map||p.raise("Reference to undeclared variable : "+v)),this.box(w)}},{key:"getScopeForName",value:function(v){for(var w=this._currentScope;w;){if(v in w.map){return w}w=w.prev}return this._currentScope}},{key:"getDefault",value:function(v){if(null!=v&&void 0!==v){if(!v.$isFashionNull){return this.box(v)}if(this.constructor.allowNullDefaults){return v}}}},{key:"getGlobalDefault",value:function(v){var w=this._globalScope.get(v);return this.getDefault(w)}},{key:"getLocalDefault",value:function(v){var w=this._currentScope.get(v);return this.getDefault(w)}},{key:"setGlobal",value:function(x,v,y){var w=this._globalScope;return v&&v.$isFashionLiteral||(v=this.box(v)),v.ast=v.ast||this.getAstNode(y),w.map[x]=v,v}},{key:"setDynamic",value:function(w,y,x){var z,v=p.getJsName(w),A=this._globalScope;return y&&y.$isFashionLiteral||(y=this.box(y)),y.ast=y.ast||this.getAstNode(x),y.$referenceName||y.$constant?(z=y.clone(),z.$previousReference=y,y=z,y.ast=this.getAstNode(x)):y.$referenceName=w,A.map[v]=y,y}},{key:"setScoped",value:function(w,x){var v=this.getScopeForName(w);return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"set",value:function(w,x){var v=this._currentScope;return x&&x.$isFashionLiteral||(x=this.box(x)),v.map[w]=x,x}},{key:"getDocs",value:function(v){if(this.docCache){return this.docCache.get(v)}}},{key:"getString",value:function(v){if(this.stringCache){return this.stringCache.get(v)}}},{key:"getAstNode",value:function(v){if(this.nodeCache){return this.nodeCache.get(v)}}},{key:"applySplat",value:function(v){return v.splat=!0,v}},{key:"sliceArgs",value:function(B,v,x){v=v||0,x=x||B.length;var z,C,D,A=[],w=[],y=", ";for(C=v;C<x;C++){D=B[C],D?D.splat&&D.$isFashionList?(z&&A.push(z),z=D,y=z.separator||y):A.push(D):z||A.push(D)}for(C=0;C<A.length;C++){D=A[C],y=D&&D.splatSeparator||y,w.push(A[C])}return z&&w.push.apply(w,z.items),new o(w,y)}},{key:"applySplatArgs",value:function(A){var y,v,x,B,w,z=[];for(v=0;v<A.length;v++){if(y=A[v],y&&y.splat&&y.$isFashionList){for(w=y.getItems(),B=0;B<w.length;B++){x=w[B],x&&(x.splatSeparator=y.separator),z.push(x)}}else{z.push(y)}y&&(y.splat=void 0)}return z}},{key:"warn",value:function(){p.warn.apply(p,arguments)}},{key:"debug",value:function(){p.debug.apply(p,arguments)}},{key:"setCaches",value:function(v){this.docCache=v.docCache,this.stringCache=v.stringCache,this.nodeCache=v.nodeCache}},{key:"copyRuntimeState",value:function(v){this._dynamics=v._dynamics,this.registered=v.registered,this.functions=v.functions,this.mixins=v.mixins}},{key:"test",value:function(v){return v=this.unbox(v),null!=v&&v!==!1}},{key:"and",value:function(w,v){return this.test(w)?v:w}},{key:"or",value:function(w,v){return this.test(w)?w:v}}]),u}(d);p.apply(f.prototype,{box:h.box,unbox:h.unbox,Scope:j,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:c,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{"if":!0,"else":!0}}),r.exports=f},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(h,f,e){var d=h("../Base.js"),i=h("../Runtime.js"),b=h("../parse/ValueParser.js"),c=h("../type/SourceBuilder.js"),g=function(){function j(){_classCallCheck(this,j),this.reset()}return _createClass(j,[{key:"reset",value:function(){this.initFns=[],this.calcFns=[],this.variableMap={},this.runtime=null}},{key:"createRuntime",value:function(){return new i}},{key:"getRuntime",value:function(){var m=this,k=m.runtime;if(!k){k=m.createRuntime();for(var l=0;l<m.initFns.length;l++){m.initFns[l](k)}m.runtime=k}return k}},{key:"calculate",value:function(w){var s,t,p,k,u,q,m,n=this,l=n.getRuntime(),o=new b,r=n.variableMap;t=new l.Scope;for(k in w){s=d.getJsName(k.replace(n.nameRe,"")),0!==s.indexOf("$")&&(s="$"+s),t.put(s,o.parse(w[k]))}l._globalScope=t,l._currentScope=t;for(var v=0;v<n.calcFns.length;v++){n.calcFns[v](l)}p=new c,w={};for(k in r){u=r[k];for(var v=0;v<u.length;v++){s=u[v],q="$"+d.getJsName(s),m=t.get(q),m&&(m.$isWrapper&&(m=m.value),w[s]=p.toSource(m))}}return w}},{key:"applyVariables",value:function(s){var k=this,m=k.variableMap;for(var n in m){var l=m[n],p=document.querySelectorAll(n);if(p){for(var r=0;r<p.length;r++){for(var q=0;q<l.length;q++){var o=l[q];p[r].style.setProperty("--"+o,s[o])}}}}}},{key:"setVariables",value:function(k){this.applyVariables(this.calculate(k))}},{key:"register",value:function(m,o,l){if(m&&this.initFns.push(m),o&&this.calcFns.push(o),l){var k=this.variableMap;for(var n in l){var p=k[n];p?p.push.apply(p,l[n]):k[n]=l[n]}}}},{key:"buildName",value:function(k){return k.replace(/^--/,"").replace(/^\$/,"")}},{key:"buildJsName",value:function(k){return d.getJsName(k)}},{key:"buildNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildName(m[l])}return k}},{key:"buildJsNames",value:function(m){var l,k={};for(l in m){k[l]=this.buildJsName(m[l])}return k}},{key:"getVariables",value:function(){var k=this,m=k.variableMap,q={};for(var n in m){var l=m[n],p=document.querySelectorAll(n);if(p){for(var s=0;s<p.length;s++){for(var r=0;r<l.length;r++){var o=l[r];q[o]=p[s].style.getPropertyValue("--"+o)}}}}return q}}]),j}();d.apply(g.prototype,{$isExport:!0,nameRe:/^--/}),f.exports=g},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(j,d,m){var q=j("../Base.js"),c=j("../type/Type.js"),l=(j("../type/Statics.js"),j("../type/Types.js")),e=l.Color,h=l.Text,g=l.Numeric,i=l.List,f=l.Bool,o=l.Literal,b=l.ColorRGBA,p=l.ColorHSLA,n=l.FunctionCall,k=function(){function r(){_classCallCheck(this,r),this.index=0}return _createClass(r,[{key:"_advance",value:function(){for(var w,x=this,t="",s=x.str,v=s.length,u=!1,z=!1,y=0;x.index<v;){if(w=s[x.index],x.index++,w<=" "&&!u&&!y){if(t.length){break}}else{if(";"===w&&!u&&!z){break}if("("===w&&y++,")"===w&&y&&y--,","===w&&!u&&!z&&!y){if(t.length){x.index--;break}return w}"\\"===w&&u?(z=1,x.index++):('"'!==w&&"'"!==w||(u?u===w&&(u=!1):u=w),z=!1,t+=w)}}return t}},{key:"parseValue",value:function(z){var y,s,t={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/};if('"'===z[0]||"'"===z[0]){return s=z=z.substring(1,z.length-1),new h(s,z[0])}if("true"===z){return new f((!0))}if("false"===z){return new f((!1))}if("null"===z){return o.Null}if("none"===z){return o.None}if(q.Color.map[z]){var x=e.map[z],u=new b(x[0],x[1],x[2],x[3]);return u.stringified=z,u}if(y=t.number.exec(z)){return new g(parseFloat(y[1]),y[2])}if(y=t.shortHexColor.exec(z)){return b.fromHex(y[1])}if(y=t.longHexColor.exec(z)){return b.fromHex(y[1])}if(y=t.functionCall.exec(z)){var w=y[1],v=this.parse(y[2]).items;return"hsla"===w||"hsl"===w?new p(c.unbox(v[0]),c.unbox(v[1]),c.unbox(v[2]),c.unbox(v[3])||1):"rgba"===w||"rgb"===w?new b(c.unbox(v[0]),c.unbox(v[1]),c.unbox(v[2]),c.unbox(v[3])||1):new n(w,v)}return(y=t.parenList.exec(z))?new n(this.parse(y[1])):new q.Literal(z)}},{key:"parse",value:function(u){var y,s=this,t=[],w=[],v=null;for(s.str=u,s.index=0;y=s._advance();){t.push(y)}for(var x=0;x<t.length;x++){y=t[x].trim(),","===t[x+1]?(v=v||[],v.push(s.parseValue(y)),x++):v?(v.push(s.parseValue(y)),w.push(new i(v,", ")),v=null):w.push(s.parseValue(y))}return 1===w.length?w[0]:new i(w," ")}}]),r}();d.exports=k},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(d,e,c){var f=d("../Base.js"),b=d("./Type.js"),g=function(h){function i(k){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.value=!!k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.bool(this)}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"copy",value:function(){return new i(this.value)}}]),i}(b);f.apply(g.prototype,{type:"bool",$isFashionBool:!0,value:null}),g.True=new g((!0)),g.True.$constant=!0,g.False=new g((!1)),g.False.$constant=!0,e.exports=g},{"../Base.js":3,"./Type.js":24}],9:[function(h,i,b){var f=h("../Base.js"),g=h("./Type.js"),e=h("./Bool.js"),d=h("./Numeric.js"),c=function(j){function k(){return _classCallCheck(this,k),_possibleConstructorReturn(this,(k.__proto__||Object.getPrototypeOf(k)).call(this))}return _inherits(k,j),_createClass(k,[{key:"toBoolean",value:function(){return e.True}},{key:"getRGBA",value:function(){return this}},{key:"getHSLA",value:function(){return this}}],[{key:"component",value:function(o,l){var m,q=k.units[l],p=k.types[l],n=k.comps[l];return m="hsla"==p?o.getHSLA():o.getRGBA(),new d(m[n],q)}},{key:"adjust",value:function(o,l,p){var m=o.getHSLA().copy(),q=k.comps[l],n=p.value;return m[q]+=n,m.h=k.constrainDegrees(m.h),m.s=k.constrainPercentage(m.s),m.l=k.constrainPercentage(m.l),m.getRGBA()}},{key:"constrainChannel",value:function(l){return Math.max(0,Math.min(l,255))}},{key:"constrainPercentage",value:function(l){return Math.max(0,Math.min(l,100))}},{key:"constrainDegrees",value:function(l){return l%=360,l<0?360+l:l}},{key:"constrainAlpha",value:function(l){return void 0===l?1:Math.max(0,Math.min(l,1))}}]),k}(g);f.apply(c,{units:{lightness:"%",saturation:"%",hue:"deg"},types:{red:"rgba",blue:"rgba",green:"rgba",alpha:"rgba",hue:"hsla",saturation:"hsla",lightness:"hsla"},comps:{red:"r",green:"g",blue:"b",alpha:"a",hue:"h",saturation:"s",lightness:"l"},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}}),f.apply(c.prototype,{type:"color",$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1}),i.exports=c},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(b,d,g){var c=b("../Base.js"),e=b("./Color.js"),f=b("./ColorRGBA.js"),h=function(j){function i(l,k,o,m){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.h=e.constrainDegrees(l),n.s=k,n.l=o,void 0!==m&&(n.a=m),n}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.hsla(this)}},{key:"operate",value:function(k,l){return this.getRGBA().operate(k,l)}},{key:"copy",value:function(){return new i(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function(){return f.fromHSLA(this)}},{key:"toString",value:function(){return""+this.getRGBA()}},{key:"add",value:function(l,k,n,m){return new i(e.constrainDegrees(this.h+l),e.constrainPercentage(this.s+k),e.constrainPercentage(this.l+n),e.constrainAlpha(this.a*m))}},{key:"subtract",value:function(k,m,l){return this.add(-k,-m,-l)}},{key:"adjustLightness",value:function(k){return this.l=e.constrainPercentage(this.l+k),this}},{key:"adjustHue",value:function(k){return this.h=e.constrainDegrees(this.h+k),this}}],[{key:"fromRGBA",value:function(o){if(o.$isFashionHSLA){return o.clone()}var m=o.r/255,w=o.g/255,u=o.b/255,n=o.a,v=Math.max(m,w,u),p=Math.min(m,w,u),k=v-p,q=0,l=0,t=0.5*(v+p);return p!=v&&(l=t<0.5?k/(v+p):k/(2-v-p),q=m==v?60*(w-u)/k:w==v?120+60*(u-m)/k:240+60*(m-w)/k,q<0&&(q+=360),q>=360&&(q-=360)),new i(e.constrainDegrees(q),e.constrainPercentage(100*l),e.constrainPercentage(100*t),n)}}]),i}(e);f.prototype.getHSLA=function(){return h.fromRGBA(this)},c.apply(h.prototype,{type:"hsla",$isFashionHSLA:!0,h:null,s:null,l:null,a:1}),d.exports=h},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(b,d,g){function h(i){var j=i.toString(16);return j.length<2&&(j="0"+j),j}var c=b("../Base.js"),e=b("./Color.js"),f=function(i){function j(k,o,l,m){_classCallCheck(this,j);var n=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return n.r=Math.min(255,Math.max(0,k)),n.g=Math.min(255,Math.max(0,o)),n.b=Math.min(255,Math.max(0,l)),void 0!==m&&(n.a=Math.min(1,Math.max(0,m))),n}return _inherits(j,i),_createClass(j,[{key:"doVisit",value:function(k){k.rgba(this)}},{key:"copy",value:function(){return new j(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function(){return null}},{key:"stringify",value:function(){var m=this,q=Math.round,l=q(m.r),p=q(m.g),o=q(m.b),n=m.a,k="";return k=1===n?"#"+h(l)+h(p)+h(o):"rgba("+l+", "+p+", "+o+", "+n+")",k=k.toLowerCase()}},{key:"getCompressedValue",value:function(m){var l=j.stringifiedMap[m],k=j.shortFormMap[m];return l&&(m=m.length>l.length?l:m),j.useShortValues&&k&&(m=m.length>k.length?k:m),m}},{key:"toString",value:function(){return this.stringified||(this.stringified=this.getCompressedValue(this.stringify())),this.stringified}},{key:"toIeHexStr",value:function(){var m=this,k=Math.round,o=k(m.r),p=k(m.g),l=k(m.b),n=k(255*m.a);return"#"+h(n)+h(o)+h(p)+h(l)}},{key:"add",value:function(k,n,l,m){return new j(this.r+k,this.g+n,this.b+l,this.a*m)}},{key:"subtract",value:function(m,l,k){return new j(this.r-m,this.g-l,this.b-k,this.a)}},{key:"multiply",value:function(k){return new j(this.r*k,this.g*k,this.b*k,this.a)}},{key:"divide",value:function(k){return new j(this.r/k,this.g/k,this.b/k,this.a)}}],[{key:"fromHex",value:function(k){"#"==k.charAt(0)&&(k=k.substr(1));var o,m,l;3===k.length?(o=parseInt(k.charAt(0),16),m=parseInt(k.charAt(1),16),l=parseInt(k.charAt(2),16),o=(o<<4)+o,m=(m<<4)+m,l=(l<<4)+l):(o=parseInt(k.substring(0,2),16),m=parseInt(k.substring(2,4),16),l=parseInt(k.substring(4,6),16));var n=new j(o,m,l);return j.preserveInputStrings&&(n.stringified="#"+k),n}},{key:"fromHSLA",value:function(x){function t(r){return r<0&&++r,r>1&&--r,6*r<1?k+(w-k)*r*6:2*r<1?w:3*r<2?k+(w-k)*(2/3-r)*6:k}if(x.$isFashionRGBA){return x.clone()}var p=x,q=p.h/360,l=p.s/100,v=p.l/100,n=p.a,w=v<=0.5?v*(l+1):v+l-v*l,k=2*v-w,m=e.constrainChannel(255*t(q+1/3)),o=e.constrainChannel(255*t(q)),u=e.constrainChannel(255*t(q-1/3));return new j(m,o,u,n)}}]),j}(e);c.apply(f,{stringifiedMap:{"rgba(0, 0, 0, 0)":"transparent"},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1}),c.apply(f.prototype,{type:"rgba",$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(k).getRGBA();case"deg":return this.getHSLA().adjustHue(k).getRGBA();default:return this.add(k,k,k,1)}},"+.rgba":function(i){return this.add(i.r,i.g,i.b,i.a)},"+.hsla":function(i){return this.getHSLA().add(i.h,i.s,i.l)},"-.number":function(i){var k=i.value,j=i.unit;switch(j){case"%":return this.getHSLA().adjustLightness(-k).getRGBA();case"deg":return this.getHSLA().adjustHue(-k).getRGBA();default:return this.subtract(k,k,k)}},"-.rgba":function(i){return this.subtract(i.r,i.g,i.b)},"-.hsla":function(i){return this.getHSLA().subtract(i.h,i.s,i.l)},"*.number":function(i){return this.multiply(i.value)},"/.number":function(i){return this.divide(i.value)},"*.rgba":function(i){return new f(this.r*i.r,this.g*i.g,this.b*i.b,this.a*i.a)},"/.rgba":function(i){return new f(Math.floor(this.r/i.r),Math.floor(this.g/i.g),Math.floor(this.b/i.b),Math.floor(this.a/i.a))}}),d.exports=f,function(q,m,j,o){var l,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],p=Object.keys(j);for(p.sort(),l=0;l<p.length;l++){var s=p[l],i=j[s],k=new q(i[0],i[1],i[2],i[3]),n=k.stringify();m[n]=s}r.forEach(function(t){var u=t+t;r.forEach(function(v){var w=v+v;r.forEach(function(y){var A=y+y,B="#"+t+v+y,z="#"+u+w+A;if(o[z]){var x=o[z];B=x.length>B.length?B:x}o[z]=B})})})}(f,f.stringifiedMap,e.map,f.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(b,d,e){var f=b("../Base.js"),c=b("./Type.js"),h=b("./Numeric.js"),g=function(j){function i(l,m){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.color=l,k.stop=m,k}return _inherits(i,j),_createClass(i,[{key:"doVisit",value:function(k){k.colorstop(this)}},{key:"descend",value:function(k){k.visit(this.color),k.visit(this.stop)}},{key:"toString",value:function(){var k=""+this.color,l=this.stop;return l&&(l=l.copy(),k+=" ",l.unit||(l.value*=100,l.unit="%"),k+=""+l),k}},{key:"toOriginalWebkitString",value:function(){var k=this.stop;return k||(k=new h(0,"%")),k=k.copy(),k.unit||(k.value*=100,k.unit="%"),"color-stop("+k+", "+this.color+")"}},{key:"copy",value:function(){return new i(this.color,this.stop)}}]),i}(c);f.apply(g.prototype,{type:"colorstop",$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null}),d.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(b,d,c){var g=b("../Base.js"),e=b("./Type.js"),h=b("./List.js"),f=function(i){function j(m,l){_classCallCheck(this,j);var k=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return k.name=m,Array.isArray(l)&&(l=new h(l)),k.args=l,k}return _inherits(j,i),_createClass(j,[{key:"toString",value:function(){var k,l=this.args;return k=Array.isArray(l)?l.join(", "):""+l,this.name+"("+k+")"}},{key:"doVisit",value:function(k){k.functioncall(this)}},{key:"descend",value:function(k){this.args&&k.visit(this.args)}},{key:"copy",value:function(){return new j(this.name,this.args&&this.args.copy())}}]),j}(e);g.apply(f.prototype,{type:"functioncall",$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null}),d.exports=f},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(d,e,c){var g=d("../Base.js"),b=d("./Type.js"),f=function(h){function i(j,k){_classCallCheck(this,i);var l=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.position=j,l.stops=k,l}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.lineargradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops)}},{key:"copy",value:function(){return new i(this.position,this.stops)}},{key:"gradientPoints",value:function(j){}},{key:"operate",value:function(j,k){switch(j){case"!=":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !0}case"==":if("literal"==k.type&&("null"==k.value||"none"==k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(j){return !!this.vendorPrefixes[j.toLowerCase()]}},{key:"toString",value:function(){var j="linear-gradient(";return this.position&&(j+=this.position+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("top"),m.push("bottom"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(linear, "+m.join(", ")+")"}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}}]),i}(b);g.apply(f.prototype,{type:"lineargradient",$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}}),e.exports=f},{"../Base.js":3,"./Type.js":24}],15:[function(d,f,c){var g=d("../Base.js"),b=d("./Type.js"),e=function(h){function i(j,l){_classCallCheck(this,i);var k=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return k.items=j||[],k.separator=void 0===l?" ":l,k}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.list(this)}},{key:"descend",value:function(k){for(var j=0;j<this.items.length;j++){k.visit(this.items[j])}}},{key:"copy",value:function(){for(var j=this.items,m=j.length,k=[],l=0;l<m;l++){k.push(j[l].clone())}return new i(k,this.separator)}},{key:"clone",value:function(p,m){if(m&&this.matches(p)){return m.clone()}for(var l=this.items,k=l.length,o=[],n=0;n<k;n++){o.push(l[n].clone(p,m))}var j=new i(o,this.separator);return j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"add",value:function(j){return this.items.push(j)}},{key:"get",value:function(j){return this.items[j-1]||null}},{key:"operate",value:function(j,k){switch(j){case"!=":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !0}break;case"==":if(k.$isFashionLiteral&&("null"===k.value||"none"===k.value)){return !1}}return _get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"operate",this).call(this,j,k)}},{key:"supports",value:function(l){for(var j=0;j<this.items.length;j++){var k=this.items[j];if(k.supports(l)){return !0}}return !1}},{key:"toBoolean",value:function(){return !!this.items.length}},{key:"getItems",value:function(){return g.filter(this.items,function(j){var k=b.unbox(j);return null!==k&&void 0!==k})}},{key:"toString",value:function(){return this.items.join(this.separator)}},{key:"unquote",value:function(){for(var j=[],k=0;k<this.items.length;k++){this.items[k]&&j.push(this.items[k].unquote())}return new i(j,this.separator)}},{key:"toPrefixedString",value:function(l){for(var m=[],j=0;j<this.items.length;j++){var k=this.items[j];k&&m.push(k.toPrefixedString(l))}return m.join(this.separator)}},{key:"==.list",value:function(k){for(var l=this.separator==k.separator&&this.items.length==k.items.length,j=0;l&&j<this.items.length;++j){l=this.items[j].operate("==",k.items[j])}return l}}]),i}(b);g.apply(e.prototype,{type:"list",$isFashionList:!0,items:null,separator:null}),f.exports=e},{"../Base.js":3,"./Type.js":24}],16:[function(i,f,h){var d=i("../Base.js"),b=i("./Type.js"),e=i("./Numeric.js"),g=function(k){function j(m){_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.value=m,l}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.literal(this)}},{key:"_getHash",value:function(){return this.value}},{key:"toString",value:function(){return this.value||""}},{key:"toBoolean",value:function(){return this.value.length}},{key:"copy",value:function(){return new j(this.value)}},{key:"+",value:function(l){return new j(this.value+l.getHash())}},{key:"+.number",value:function(l){return null===this.value?l:new j(this.value+(""+l))}},{key:"/",value:function(l){return new j(this.value+"/"+l.getHash())}},{key:"-",value:function(l){return new j(this.value+"-"+l.getHash())}},{key:"%",value:function(l){return new j(this.value+"%"+l.getHash())}},{key:"normalizeStart",value:function(l){var m=b.unbox(l)||0;return m>0&&(m-=1),m<0&&(m=this.value.length+m),m<0&&(m=0),m}},{key:"normalizeEnd",value:function(m){var l=b.unbox(m)||-1;return l>0&&(l-=1),l<0&&(l=this.value.length+l),l<0&&(l=0),l>0&&(l+=1),l}},{key:"slice",value:function(m,l){return m=this.normalizeStart(m),l=this.normalizeEnd(l),new j(this.value.slice(m,l))}},{key:"toUpperCase",value:function(){return new j(this.value.toUpperCase())}},{key:"toLowerCase",value:function(){return new j(this.value.toLowerCase())}},{key:"indexOf",value:function(m){var l=this.value.indexOf(m.value);if(l!==-1){return new e(l+1)}}},{key:"insert",value:function(l,n){var m=b.unbox(n)||0,o=this.value;return m>0&&(m=Math.min(m-1,o.length)),m<0&&(m=o.length+m+1,m=Math.max(m,0)),o=o.substring(0,m)+l.value+o.substring(m),new j(j.deEscape(o))}}],[{key:"tryCoerce",value:function(l){if(!l.$isFashionNumber){return l.$isFashionString?new j(l.value):l.$isFashionLiteral?l:new j(l.getHash())}}},{key:"deEscape",value:function(l){var n,o,m="";for(n=0;n<l.length;n++){o=l.charAt(n),"\\"===o&&(n++,o=l.charAt(n)),m+=o}return m}}]),j}(b);d.apply(g.prototype,{type:"literal",$isFashionLiteral:!0,value:null});var c=function(k){function j(l){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,l||null))}return _inherits(j,k),_createClass(j,[{key:"copy",value:function(){return new j(this.value)}}]),j}(g);d.apply(c.prototype,{$isFashionNull:!0,$constant:!0}),c.prototype.$isFashionNull=!0,g.Null=new c(null),g.None=new g("none"),f.exports=g},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(c,k,e){var i=c("../Base.js"),g=c("./List.js"),h=c("./Type.js"),d=c("./Literal.js"),f=d.Null,b=c("./Numeric.js"),j=function(l){function m(q){_classCallCheck(this,m);var p=_possibleConstructorReturn(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,q));if(p.map={},q){for(var o=0;o<q.length-1;o+=2){var n=p.toKey(q[o]);q[o+1];p.map[n]=o+1}}return p}return _inherits(m,l),_createClass(m,[{key:"doVisit",value:function(n){n.map(this)}},{key:"descend",value:function(o){for(var n=0;n<this.items.length;n++){o.visit(this.items[n])}}},{key:"get",value:function(n){return n instanceof b&&(n=h.unbox(n)),"number"==typeof n?new g([this.items[2*n-2],this.items[2*n-1]]," "):(n=this.toKey(n),this.items[this.map[n]]||f)}},{key:"getItems",value:function(){for(var n=[],p=0;p<this.items.length-1;p+=2){var o=this.toKey(this.items[p]);n.push(this.map[o])}return n}},{key:"put",value:function(o,p){var n=this.toKey(o);this.map.hasOwnProperty(n)?this.items[this.map[n]]=p:(this.items.push(o,p),this.map[n]=this.items.length-1)}},{key:"toString",value:function(){for(var r="",p=0,o=0;o<this.items.length-1;o+=2){var n=this.toKey(this.items[o]),q=this.map[n];q&&(p>0&&(r+=", "),r+=n+": "+q,p++)}return r}},{key:"toKey",value:function(n){return""+this.unquoteKey(n)}},{key:"unquoteKey",value:function(n){return n.$isFashionType?n.unquote():n}}]),m}(g);i.apply(j.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null}),k.exports=j},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(i,f,h){var d=i("../Base.js"),b=i("./Type.js"),e=i("./Bool.js"),g=i("./Literal.js"),c=function(k){function j(p,o,l,n){_classCallCheck(this,j);var m=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return m.value=p,m.unit=o,o&&!l?m.numeratorUnits=[o]:m.numeratorUnits=l||[],m.denominatorUnits=n||[],m}return _inherits(j,k),_createClass(j,[{key:"doVisit",value:function(l){l.number(this)}},{key:"unitless",value:function(){return(!this.numeratorUnits||!this.numeratorUnits.length)&&(!this.denominatorUnits||!this.denominatorUnits.length)}},{key:"getUnitStr",value:function(){this.normalizeUnits();var l=this.numeratorUnits.join("*");return this.denominatorUnits.length&&(l+="/"+this.denominatorUnits.join("*")),l}},{key:"_getHash",value:function(){return this.value}},{key:"stringify",value:function(){this.normalizeUnits();var l,m=this.value;return l=Math.round(100000*m)/100000+"",l+this.getUnitStr()}},{key:"toString",value:function(){return this.stringify()}},{key:"toBoolean",value:function(){return !!this.unit||!!this.value}},{key:"copy",value:function(){return new j(this.value,this.unit)}},{key:"-.literal",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.string",value:function(l){return new g(0===this.value&&this.unitless()?"-"+l:""+this+"-"+l)}},{key:"-.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value-m,this.unit||l.unit)}},{key:"+.literal",value:function(l){return new g(l.$isFashionString?""+this+l.value:""+this+(""+l))}},{key:"+.number",value:function(l){var m=l.value;return"%"==l.unit&&l.unit!==this.unit&&(m=this.value*(l.value/100)),new j(this.value+m,this.unit||l.unit)}},{key:"/",value:function(l){return new j(this.value/l.value,this.unit==l.unit?null:this.unit||l.unit)}},{key:"*",value:function(l){return new j(this.value*l.value,this.unit||l.unit)}},{key:"%",value:function(l){return new j(this.value%l.value,this.unit||l.unit)}},{key:"**",value:function(l){return new j(Math.pow(this.value,l.value),this.unit||l.unit)}},{key:"operate",value:function(n,l){var m;this.unit||l.unit;return l.$isFashionRGBA||l.$isFashionHSLA?new g(this+n+l):l.$isFashionNumber?this.numericOperate(n,l):l.$isFashionLiteral&&(m=this.tryCoerce(l))?this.performOperation(n,m):_get(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"operate",this).call(this,n,l)}},{key:"tryNormalize",value:function(n){var m=n.value,l=n.unit;if(n.$isFashionNumber){switch(this.unit){case"mm":switch(l){case"in":return new j(25.4*m,"mm");case"cm":return new j(2.54*m,"mm")}break;case"cm":switch(l){case"in":return new j(2.54*m,"cm");case"mm":return new j(m/10,"cm")}break;case"in":switch(l){case"mm":return new j(m/25.4,"in");case"cm":return new j(m/2.54,"in")}break;case"ms":switch(l){case"s":return new j(1000*m,"ms")}break;case"s":switch(l){case"ms":return new j(m/1000,"s")}break;case"Hz":switch(l){case"kHz":return new j(1000*m,"Hz")}break;case"kHz":switch(l){case"Hz":return new j(m/1000,"kHz")}break;case"%":switch(l){default:return new j(m)}}}}},{key:"normalize",value:function(l){var m=this.tryNormalize(l);return void 0===m&&raise("Could not normalize "+this+" with "+l),m}},{key:"comparable",value:function(n){var m=this.unit,l=n.unit;return !!n.$isFashionNumber&&(m===l||"mm"===m&&("in"===l||"cm"===l)||"cm"===m&&("in"===l||"mm"===l)||"in"===m&&("mm"===l||"cm"===l)||"ms"===m&&"s"===l||"s"===m&&"ms"===l||"Hz"===m&&"kHz"===l||"kHz"===m&&"Hz"===l)}},{key:"normalizeUnits",value:function(){if(!this.normalized&&(this.normalized=!0,!this.unitless())){var l=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits);l.num=d.filter(l.num,function(m){return !!m}),l.den=d.filter(l.den,function(m){return !!m}),this.numeratorUnits=l.num,this.denominatorUnits=l.den}}},{key:"numericOperate",value:function(t,p){this.normalizeUnits(),p.normalizeUnits();var q,o=this,n=p,s=j.OPERATIONS,r=j.NON_COERCE_OPERATIONS,u=s[t];if(u){try{o.unitless()?o=o.coerceUnits(n.numeratorUnits,n.denominatorUnits):n=n.coerceUnits(o.numeratorUnits,o.denominatorUnits)}catch(m){if("=="==t){return e.False}if("!="==t){return e.True}throw m}}else{u=r[t]}if(u&&(q=u(o.value,n.value)),"number"==typeof q){var l=this.computeUnits(o,n,t);return new j(q,l.num.length?l.num[0]:null,l.num,l.den)}return new e(q)}},{key:"computeUnits",value:function(l,n,m){switch(m){case"*":return{num:l.numeratorUnits.slice().concat(n.numeratorUnits),den:l.denominatorUnits.slice().concat(n.denominatorUnits)};case"/":return{num:l.numeratorUnits.slice().concat(n.denominatorUnits),den:l.denominatorUnits.slice().concat(n.numeratorUnits)};default:return{num:l.numeratorUnits,den:l.denominatorUnits}}}},{key:"coerceUnits",value:function(n,l){var m=this.value;return this.unitless()||(m=m*this.coercionFactor(this.numeratorUnits,n)/this.coercionFactor(this.denominatorUnits,l)),new j(m,n&&n[0],n,l)}},{key:"coercionFactor",value:function(n,s){var o=this.removeCommonUnits(n,s),q=o.num,u=o.den;q.length===u.length&&this.convertable(q||u)||d.raise("Incompatible units: "+q.join("*")+" and "+u.join("*"));for(var m=0;m<q.length;m++){for(var t=q[m],l=0;l<u.length;l++){var r=u[l],p=this.conversionFactor(t,r);if(null!==p){return p}}}return 1}},{key:"conversionFactor",value:function(p,o){var l=j.CONVERTABLE_UNITS,m=j.CONVERSION_TABLE,n=null;return l[p]&&l[o]&&(n=m[l[p]][l[o]]),null===n&&l[o]&&l[p]&&(n=1/m[l[o]][l[p]]),n}},{key:"convertable",value:function(n){if(n&&!Array.isArray(n)&&(n=[n]),n&&n.length){for(var m=j.CONVERTABLE_UNITS,l=0;l<n.length;l++){if(void 0===m[n[l]]){return !1}}}return !0}},{key:"removeCommonUnits",value:function(r,o){var p,q,q,m={},n=[],l=[];for(p=0;p<r.length;p++){q=r[p],m[q]=(m[q]||0)+1}for(p=0;p<o.length;p++){q=o[p],m[q]=(m[q]||0)-1}for(p=0;p<r.length;p++){q=r[p],m[q]>0&&(n.push(q),m[q]--)}for(p=0;p<o.length;p++){q=o[p],m[q]<0&&(l.push(q),m[q]++)}return{num:n,den:l}}}],[{key:"tryGetNumber",value:function(l){if(/^\d*$/.test(l)&&(l=parseFloat(l)),!isNaN(l)){return new j(l)}}},{key:"tryCoerce",value:function(l){return l.$isFashionNumber?l:l.$isFashionLiteral?this.tryGetNumber(l.value):void 0}}]),j}(b);d.apply(c,{OPERATIONS:{"!=":function(j,k){return j!=k},"+":function(j,k){return j+k},"-":function(j,k){return j-k},"<=":function(j,k){return j<=k},"<":function(j,k){return j<k},">":function(j,k){return j>k},">=":function(j,k){return j>=k},"==":function(j,k){return j==k},"%":function(j,k){return Math.abs(j%k)}},NON_COERCE_OPERATIONS:{"*":function(j,k){return j*k},"**":function(j,k){return Math.pow(j,k)},"/":function(j,k){return j/k}},CONVERTABLE_UNITS:{"in":0,cm:1,pc:2,mm:3,pt:4,px:5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]}),d.apply(c.prototype,{type:"number",$isFashionNumber:!0,value:void 0,unit:void 0,numeratorUnits:void 0,denominatorUnits:void 0,normalized:!1}),f.exports=c},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(i){function h(k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return j.value=k,j}return _inherits(h,i),_createClass(h,[{key:"toString",value:function(){return"("+this.value+")"}},{key:"doVisit",value:function(j){j.parenthetical(this)}}]),h}(c);g.apply(b.prototype,{value:null,type:"parenthetical"}),f.exports=b},{"../Base.js":3,"./Type.js":24}],20:[function(e,f,d){var g=e("../Base.js"),c=e("./Type.js"),b=function(h){function i(m,k,l){_classCallCheck(this,i);var j=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return j.position=m,j.stops=l,j.shape=k,j}return _inherits(i,h),_createClass(i,[{key:"doVisit",value:function(j){j.radialgradient(this)}},{key:"descend",value:function(j){j.visit(this.position),j.visit(this.stops),j.visit(this.shape)}},{key:"copy",value:function(){return new i(this.position,this.shape,this.stops)}},{key:"toString",value:function(){var j="radial-gradient(";return this.position&&(j+=this.position+", "),this.shape&&(j+=this.shape+", "),j+this.stops+")"}},{key:"toOriginalWebkitString",value:function(){var j,m=[],l=this.stops.items,k=l.length;for(m.push("center 0%"),m.push("center 100%"),j=0;j<k;j++){m.push(l[j].toOriginalWebkitString())}return"-webkit-gradient(radial, "+m.join(", ")+")"}},{key:"supports",value:function(j){return["owg","webkit"].indexOf(j.toLowerCase())!==-1}},{key:"toPrefixedString",value:function(j){return"owg"===j?this.toOriginalWebkitString():j+(""+this)}},{key:"gradientPoints",value:function(j){}}]),i}(c);g.apply(b.prototype,{type:"radialgradient",$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null}),f.exports=b},{"../Base.js":3,"./Type.js":24}],21:[function(b,d,c){var f=b("../Base.js"),g=b("./TypeVisitor.js"),h=b("../Output.js"),e=function(i){function j(k){return _classCallCheck(this,j),_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k))}return _inherits(j,i),_createClass(j,[{key:"list",value:function(q){for(var t,n=this.output,s=q.items,r=n.output.length,l=q.separator,k=l&&l.length,m=l&&l.indexOf(" ")>-1,o=n.output,p=0;p<s.length;p++){s[p]&&(this.visit(s[p]),t=n.output.length-r,!t&&k&&p>0&&(n.output=o),o=n.output,p<s.length-1&&k&&(n.add(l),m||n.space()),r=n.output.length)}}},{key:"map",value:function(m){var p,o,k=this.output,n=m.items;this.currDeclaration&&f.raise("("+m+") isn't a valid CSS value.");for(var l=0;l<n.length-1;l+=2){p=n[l],o=n[l+1],p&&o&&(l>0&&(k.add(","),k.space()),this.visit(p),k.add(": "),this.visit(o))}}},{key:"literal",value:function(k){k.value&&this.output.add(k.value)}},{key:"string",value:function(l){var k=this.output;k.add(l.quoteChar),k.add(l.value),k.add(l.quoteChar)}},{key:"functioncall",value:function(l){var k=this.output;k.add(l.name),k.add("("),this.visit(l.args),k.add(")")}},{key:"parenthetical",value:function(k){this.output.add("("),this.visit(k.value),this.output.add(")")}},{key:"number",value:function(k){var l=k.stringify();"."!==l.indexOf(".")||this.output.isCompressed||(l="0"+l),this.output.add(l)}},{key:"bool",value:function(k){this.output.add(k.value?"true":"false")}},{key:"hsla",value:function(k){this.output.add(""+k)}},{key:"rgba",value:function(k){this.output.add(""+k)}},{key:"colorstop",value:function(m){var k=this.output,l=m.stop;this.visit(m.color),l&&(l=l.clone(),k.add(" "),l.unit||(l.value*=100,l.unit="%"),this.visit(l))}},{key:"lineargradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"radialgradient",value:function(l){var k=this.output;k.add("linear-gradient("),l.position&&(this.visit(l.position),k.add(","),k.space()),l.shape&&(this.visit(l.shape),k.add(","),k.space()),this.visit(l.stops),k.add(")")}},{key:"toSource",value:function(l,k){return this.output=k||new h,this.visit(l),this.output.get()}}],[{key:"toSource",value:function(l,k){var m=new j;return m.toSource(l,k)}}]),j}(g);f.apply(e.prototype,{output:null}),d.exports=e},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(m,j,c){var i=m("../Base.js"),h=m("./Type.js"),l=m("./Text.js"),b=m("./Numeric.js"),d=m("./Bool.js"),f=d.True,e=d.False,k=m("./Literal.js"),g=k.Null;j.exports={unboxType:function(o){var n=o;return n&&n.$isFashionType&&n.$canUnbox&&(n=n.value,o.$isFashionString||o.$isFashionLiteral?"none"!==n&&"null"!==n||(n=null):o.$isFashionList&&(n=o.items)),n},boxType:function(o){if(o&&o.$isFashionType){return o}if(null==o){return g}if(o===!0){return f}if(o===!1){return e}var n=void 0===o?"undefined":_typeof(o);switch(n){case"string":return new l(o);case"number":return new b(o)}return o}},i.apply(h,{box:j.exports.boxType,unbox:j.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(d,e,c){var g=d("../Base.js"),b=d("./Literal.js"),f=function(i){function h(l,k){_classCallCheck(this,h);var j=_possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l));return void 0!==k&&(h.preferDoubleQuotes&&""===k?j.quoteChar="":j.quoteChar=k),j}return _inherits(h,i),_createClass(h,[{key:"doVisit",value:function(j){j.string(this)}},{key:"toString",value:function(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function(){return new b(this.value)}},{key:"copy",value:function(){return new h(this.value,this.quoteChar)}},{key:"slice",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"slice",this).call(this,k,j).value,this.quoteChar)}},{key:"toUpperCase",value:function(){return new h(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function(){return new h(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function(k,j){return new h(_get(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insert",this).call(this,k,j).value,this.quoteChar)}}],[{key:"tryCoerce",value:function(j){if(!j.$isFashionNumber){return new h(j.$isFashionLiteral?j.value:j.getHash())}}}]),h}(b);f.preferDoubleQuotes=!1,g.apply(f.prototype,{type:"string",$isFashionString:!0,value:null,quoteChar:'"',"+":function(h){return new f(this.value+h.getHash())},"+.number":function(h){return new f(this.value+(""+h))},"/":function(h){return new f(this.value+"/"+h.getHash())}}),e.exports=f},{"../Base.js":3,"./Literal.js":16}],24:[function(d,e,c){var f=d("../Base.js"),b=function(){function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"coerce",value:function(i){var h=this.tryCoerce(i);return h||i}},{key:"_getHash",value:function(){return this.visitTarget?""+this.visitTarget:""+this}},{key:"getHash",value:function(){return null==this._hash&&(this._hash=this._getHash()),this._hash}},{key:"tryCoerce",value:function(i){var h=this;return h.constructor===i.constructor?i:h.constructor.tryCoerce?h.constructor.tryCoerce(i):void 0}},{key:"supports",value:function(h){return !1}},{key:"operate",value:function(h,i){return this.performOperation(h,this.coerce(i))}},{key:"performOperation",value:function(h,j){var k=this[h+"."+j.type]||this[h];k||f.raise("Failed to find method for operation "+h+" on type "+j.type+" with value "+j+".");var i=k.call(this,j);return i&&i.$isFashionType||(i=g.box(i)),i}},{key:"==",value:function(h){return this.getHash()===h.getHash()}},{key:"!=",value:function(h){return this.getHash()!==h.getHash()}},{key:">=",value:function(h){return this.getHash()>=h.getHash()}},{key:"<=",value:function(h){return this.getHash()<=h.getHash()}},{key:">",value:function(h){return this.getHash()>h.getHash()}},{key:"<",value:function(h){return this.getHash()<h.getHash()}},{key:"+",value:function(h){return this.getHash()+h.getHash()}},{key:"copy",value:function(){return this}},{key:"matches",value:function(h){return !(!h||h!=""+this)}},{key:"clone",value:function(h,i){if(i&&this.matches(h)){return i.copy()}var j=this.copy();return j.ast=this.ast,j.$referenceName=this.$referenceName,j.$referenceBase=this.$referenceBase,j.$previousReference=this.$previousReference,j}},{key:"unquote",value:function(){return this}},{key:"toPrefixedString",value:function(h){return""+this}},{key:"doVisit",value:function(h){}},{key:"descend",value:function(h){}},{key:"hasTag",value:function(n,l,h,j){l=l||"fashion",h=h||RegExp("^\\s*//#\\s*"+l+"\\s*\\+?"+n+"s*$"),j=j||RegExp("^\\s*//#\\s*"+l+"\\s*\\-"+n+"\\s*$");var i=this.docs;if(i&&i.length){for(var m=0;m<this.docs.length;m++){var k=i[m];if(h.test(k)){return !0}if(j.test(k)){return !1}}}return this.parentNode?this.parentNode.hasTag(n,l,h,j):null}}]),g}();f.apply(b.prototype,{visitTarget:void 0,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:void 0,$referenceBase:void 0,$previousReference:void 0,value:void 0,unit:void 0,parentNode:void 0,docs:void 0,ast:void 0}),e.exports=b},{"../Base.js":3}],25:[function(c,e,b){var f=c("../Base.js"),d=function(){function g(h){_classCallCheck(this,g),h&&f.apply(this,h)}return _createClass(g,[{key:"literal",value:function(h){h.descend(this)}},{key:"bool",value:function(h){h.descend(this)}},{key:"string",value:function(h){h.descend(this)}},{key:"number",value:function(h){h.descend(this)}},{key:"map",value:function(h){h.descend(this)}},{key:"functioncall",value:function(h){h.descend(this)}},{key:"parenthetical",value:function(h){h.descend(this)}},{key:"list",value:function(h){h.descend(this)}},{key:"hsla",value:function(h){h.descend(this)}},{key:"rgba",value:function(h){h.descend(this)}},{key:"colorstop",value:function(h){h.descend(this)}},{key:"lineargradient",value:function(h){h.descend(this)}},{key:"radialgradient",value:function(h){h.descend(this)}},{key:"visitItem",value:function(h){h.doVisit(this)}},{key:"visit",value:function(i){for(;i&&void 0!==i.visitTarget;){i=i.visitTarget}if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++){this.visit(i[h])}}else{this.visitItem(i)}}}},{key:"execute",value:function(i,h){this.visit(i)}}]),g}();d.prototype.context=null,e.exports=d},{"../Base.js":3}],26:[function(d,e,c){var g=d("./Bool.js"),b=d("./Literal.js"),f={Bool:g,Literal:b,Text:d("./Text.js"),Numeric:d("./Numeric.js"),Color:d("./Color.js"),ColorRGBA:d("./ColorRGBA.js"),ColorHSLA:d("./ColorHSLA.js"),ColorStop:d("./ColorStop.js"),LinearGradient:d("./LinearGradient.js"),RadialGradient:d("./RadialGradient.js"),List:d("./List.js"),Map:d("./Map.js"),ParentheticalExpression:d("./ParentheticalExpression.js"),FunctionCall:d("./FunctionCall.js"),Null:b.Null,None:b.None,True:g.True,False:g.False};e.exports=f},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});(function(g){var ad=undefined,I=g.Types,e={_:"$color",$:"$color_name",A:"$colorLookup",a:"$color_variant"},W=g.css.buildNames(e),L=g.css.buildJsNames(e);var y=I.Bool,k=y,t=I.Literal,q=t,w=I.Text,f=w,aa=I.Numeric,z=aa,h=I.Color,V=h,b=I.ColorRGBA,j=b,T=I.ColorHSLA,x=T,ac=I.ColorStop,d=ac,i=I.LinearGradient,r=i,c=I.RadialGradient,Z=c,a=I.List,n=a,R=I.Map,P=R,m=I.ParentheticalExpression,Y=m,K=I.FunctionCall,S=K,F=I.Null,M=F,l=I.None,N=l,s=I.True,O=s,p=I.False,J=p,G=I.Ruleset,C=G,Q=I.Declaration,A=Q,D=I.SelectorPart,B=D,U=I.CompoundSelector,ab=U,X=I.MultiPartSelector,E=X,u=I.SelectorList,v=u,H=I.SelectorProperty,o=H;g.css.register(function(aS){aS.register({map_get:function(ba,bb){return ba.get(bb)},rgba:function(bd,ba,be,bb,bf){var bc;return bd&&bf&&g.raise("Unsupported arguments to RGBA"),bf&&!bd?bf.$isFashionColor?bc=bf:g.raise("Unsupported arguments to RGBA"):bd&&bd.$isFashionColor&&(bc=bd),bc&&(bb=ba||bb,bc=bc.getRGBA(),bd=new aa(bc.r),ba=new aa(bc.g),be=new aa(bc.b)),bd&&bd.$isFashionNumber||g.raise(bd+" is not a number for 'rgba' red"),ba&&ba.$isFashionNumber||g.raise(ba+" is not a number for 'rgba' green"),be&&be.$isFashionNumber||g.raise(be+" is not a number for 'rgba' blue"),bb&&bb.$isFashionNumber||g.raise(bb+" is not a number for 'rgba' alpha"),"%"==bd.unit?bd=new aa(h.constrainPercentage(bd.value)/100*255):bd.value!==h.constrainChannel(bd.value)&&g.raise("Color value "+bd+" must be between 0 and 255 inclusive for 'rgba'"),"%"==ba.unit?ba=new aa(h.constrainPercentage(ba.value)/100*255):ba.value!==h.constrainChannel(ba.value)&&g.raise("Color value "+ba+" must be between 0 and 255 inclusive for 'rgba'"),"%"==be.unit?be=new aa(h.constrainPercentage(be.value)/100*255):be.value!==h.constrainChannel(be.value)&&g.raise("Color value "+be+" must be between 0 and 255 inclusive for 'rgba'"),"%"==bb.unit?bb=new aa(h.constrainPercentage(bb.value)/100):bb.value!==h.constrainAlpha(bb.value)&&g.raise("Alpha channel "+bb+" must be between 0 and 1 inclusive for 'rgba'"),new b(bd.value,ba.value,be.value,bb.value)}});var b4=aS.constructor.bind(aS),an=aS.bool.bind(aS),aC=aS.color.bind(aS),ah=aS.quote.bind(aS),bZ=aS.unquote.bind(aS),ao=aS.not.bind(aS),a8=aS.reset.bind(aS),af=aS.run.bind(aS),am=aS.createTypesBlock.bind(aS),bP=aS.createMethodBlock.bind(aS),aG=aS.createPropertyBlock.bind(aS),ae=aS.createPrefixedFunctionBody.bind(aS),bT=aS.createWrappedFn.bind(aS),aF=aS.callWrappedFn.bind(aS),aP=aS.compile.bind(aS),aW=aS.execute.bind(aS),bS=aS.load.bind(aS),bG=aS.registerProcessor.bind(aS),ak=aS.register.bind(aS),bO=aS.isRegistered.bind(aS),bI=aS.getGlobalScope.bind(aS),aH=aS.getCurrentScope.bind(aS),aw=aS.getRegisteredFunctions.bind(aS),b3=aS.getFunctions.bind(aS),b2=aS.getMixins.bind(aS),a4=aS.createScope.bind(aS),bM=aS.pushScope.bind(aS),aA=aS.popScope.bind(aS),ay=aS.get.bind(aS),bU=aS.getScopeForName.bind(aS),au=aS.getDefault.bind(aS),aK=aS.getGlobalDefault.bind(aS),ai=aS.getLocalDefault.bind(aS),bW=aS.setGlobal.bind(aS),aL=aS.setDynamic.bind(aS),bR=aS.setScoped.bind(aS),aU=aS.set.bind(aS),aQ=aS.getDocs.bind(aS),bK=aS.getString.bind(aS),bX=aS.getAstNode.bind(aS),bN=aS.applySplat.bind(aS),bL=aS.sliceArgs.bind(aS),bH=aS.applySplatArgs.bind(aS),ap=aS.warn.bind(aS),av=aS.debug.bind(aS),aR=aS.setCaches.bind(aS),aj=aS.copyRuntimeState.bind(aS),aE=aS.test.bind(aS),aN=aS.and.bind(aS),al=aS.or.bind(aS),bD=aS.box.bind(aS),bE=aS.unbox.bind(aS),aZ=aS.Scope.bind(aS),b4=aS.constructor.bind(aS),aB=aS.toString.bind(aS),a3=aS.toLocaleString.bind(aS),bJ=aS.valueOf.bind(aS),bF=aS.hasOwnProperty.bind(aS),at=aS.propertyIsEnumerable.bind(aS),ax=aS.isPrototypeOf.bind(aS),aq=aS.__defineGetter__.bind(aS),a0=aS.__defineSetter__.bind(aS),bY=aS.__lookupGetter__.bind(aS),b0=aS.__lookupSetter__.bind(aS),b4=aS.constructor.bind(aS);var b1=aS.context,a6=aS.mixins,a2=aS.functions,aI=aS.processors,bV=aS.registered,aM=aS.registerSelectorHooks,a9=aS.registerAtRuleHook,az=aS.registerStyleHooks,aY=aS.registerFunctionCallHooks,ag=aS.docCache,ar=aS.stringCache,aT=aS.nodeCache,aV=aS.code,a5=aS.fn,aJ=aS._currentScope,a7=aS._globalScope,aX=aS._dynamics,aD=aS.css,a1=aS.rulesets,aO=aS.extenders,bQ=aS._scopeStack;g.apply(aS.functions,{material_color:function(bb,ba){a4(a2.material_color&&a2.material_color.createdScope);var bb=bb||M;aU(e.$,bb,true);var ba=ba||new f("500","'");aU(e.a,ba,true);aU(e.A,bD(bV.map_get.apply(aS.registered,bH([ay("$material_colors"),ay(e.$)]))));if(bE(ay(e.A))){aU(e._,bD(aS.registered.map_get.apply(aS.registered,bH([ay(e.A),ay(e.a)]))));if(bE(ay(e._))){var bc=ay(e._);aA();return bc}else{ap(bE(new f("=> ERROR: COLOR NOT FOUND! <= | ",'"').operate("+",ay(e.$)).operate("+",new f(",",'"')).operate("+",ay(e.a)).operate("+",new f(" combination did not match any of the material design colors.",'"'))))}}else{ap(bE(new f("=> ERROR: COLOR NOT FOUND! <= | ",'"').operate("+",ay(e.$)).operate("+",new f(" did not match any of the material design colors.",'"'))))}var bc=j.fromHex("#ff0000");aA();return bc},material_foreground_color:function(bb){a4(a2.material_foreground_color&&a2.material_foreground_color.createdScope);var bb=bb||M;aU(e.$,bb,true);aU(e._,bD(aS.registered.map_get.apply(aS.registered,bH([ay("$material_foreground_colors"),ay(e.$)]))));if(bE(ay(e._))){var ba=ay(e._);aA();return ba}else{ap(bE(new f("=> ERROR: COLOR NOT FOUND! <= | ",'"').operate("+",ay(e.$)).operate("+",new f(" did not match any of the material design colors.",'"'))))}var ba=j.fromHex("#ff0000");aA();return ba}})},function(aS){var b4=aS.constructor.bind(aS),an=aS.bool.bind(aS),aC=aS.color.bind(aS),ah=aS.quote.bind(aS),bZ=aS.unquote.bind(aS),ao=aS.not.bind(aS),a8=aS.reset.bind(aS),af=aS.run.bind(aS),am=aS.createTypesBlock.bind(aS),bP=aS.createMethodBlock.bind(aS),aG=aS.createPropertyBlock.bind(aS),ae=aS.createPrefixedFunctionBody.bind(aS),bT=aS.createWrappedFn.bind(aS),aF=aS.callWrappedFn.bind(aS),aP=aS.compile.bind(aS),aW=aS.execute.bind(aS),bS=aS.load.bind(aS),bG=aS.registerProcessor.bind(aS),ak=aS.register.bind(aS),bO=aS.isRegistered.bind(aS),bI=aS.getGlobalScope.bind(aS),aH=aS.getCurrentScope.bind(aS),aw=aS.getRegisteredFunctions.bind(aS),b3=aS.getFunctions.bind(aS),b2=aS.getMixins.bind(aS),a4=aS.createScope.bind(aS),bM=aS.pushScope.bind(aS),aA=aS.popScope.bind(aS),ay=aS.get.bind(aS),bU=aS.getScopeForName.bind(aS),au=aS.getDefault.bind(aS),aK=aS.getGlobalDefault.bind(aS),ai=aS.getLocalDefault.bind(aS),bW=aS.setGlobal.bind(aS),aL=aS.setDynamic.bind(aS),bR=aS.setScoped.bind(aS),aU=aS.set.bind(aS),aQ=aS.getDocs.bind(aS),bK=aS.getString.bind(aS),bX=aS.getAstNode.bind(aS),bN=aS.applySplat.bind(aS),bL=aS.sliceArgs.bind(aS),bH=aS.applySplatArgs.bind(aS),ap=aS.warn.bind(aS),av=aS.debug.bind(aS),aR=aS.setCaches.bind(aS),aj=aS.copyRuntimeState.bind(aS),aE=aS.test.bind(aS),aN=aS.and.bind(aS),al=aS.or.bind(aS),bD=aS.box.bind(aS),bE=aS.unbox.bind(aS),aZ=aS.Scope.bind(aS),b4=aS.constructor.bind(aS),aB=aS.toString.bind(aS),a3=aS.toLocaleString.bind(aS),bJ=aS.valueOf.bind(aS),bF=aS.hasOwnProperty.bind(aS),at=aS.propertyIsEnumerable.bind(aS),ax=aS.isPrototypeOf.bind(aS),aq=aS.__defineGetter__.bind(aS),a0=aS.__defineSetter__.bind(aS),bY=aS.__lookupGetter__.bind(aS),b0=aS.__lookupSetter__.bind(aS),b4=aS.constructor.bind(aS);var b1=aS.context,a6=aS.mixins,a2=aS.functions,aI=aS.processors,bV=aS.registered,aM=aS.registerSelectorHooks,a9=aS.registerAtRuleHook,az=aS.registerStyleHooks,aY=aS.registerFunctionCallHooks,ag=aS.docCache,ar=aS.stringCache,aT=aS.nodeCache,aV=aS.code,a5=aS.fn,aJ=aS._currentScope,a7=aS._globalScope,aX=aS._dynamics,aD=aS.css,a1=aS.rulesets,aO=aS.extenders,bQ=aS._scopeStack;aL("$dark-mode",aK("$dark_mode")||J,0);aL("$base_color_name",aK("$base_color_name")||new f("blue","'"),1);aL("$material-colors",aK("$material_colors")||new P([new f("red","'"),new P([new f("50","'"),j.fromHex("#ffebee"),new f("100","'"),j.fromHex("#ffcdd2"),new f("200","'"),j.fromHex("#ef9a9a"),new f("300","'"),j.fromHex("#e57373"),new f("400","'"),j.fromHex("#ef5350"),new f("500","'"),j.fromHex("#f44336"),new f("600","'"),j.fromHex("#e53935"),new f("700","'"),j.fromHex("#d32f2f"),new f("800","'"),j.fromHex("#c62828"),new f("900","'"),j.fromHex("#b71c1c"),new f("a100","'"),j.fromHex("#ff8a80"),new f("a200","'"),j.fromHex("#ff5252"),new f("a400","'"),j.fromHex("#ff1744"),new f("a700","'"),j.fromHex("#d50000")]),new f("pink","'"),new P([new f("50","'"),j.fromHex("#fce4ec"),new f("100","'"),j.fromHex("#f8bbd0"),new f("200","'"),j.fromHex("#f48fb1"),new f("300","'"),j.fromHex("#f06292"),new f("400","'"),j.fromHex("#ec407a"),new f("500","'"),j.fromHex("#e91e63"),new f("600","'"),j.fromHex("#d81b60"),new f("700","'"),j.fromHex("#c2185b"),new f("800","'"),j.fromHex("#ad1457"),new f("900","'"),j.fromHex("#880e4f"),new f("a100","'"),j.fromHex("#ff80ab"),new f("a200","'"),j.fromHex("#ff4081"),new f("a400","'"),j.fromHex("#f50057"),new f("a700","'"),j.fromHex("#c51162")]),new f("purple","'"),new P([new f("50","'"),j.fromHex("#f3e5f5"),new f("100","'"),j.fromHex("#e1bee7"),new f("200","'"),j.fromHex("#ce93d8"),new f("300","'"),j.fromHex("#ba68c8"),new f("400","'"),j.fromHex("#ab47bc"),new f("500","'"),j.fromHex("#9c27b0"),new f("600","'"),j.fromHex("#8e24aa"),new f("700","'"),j.fromHex("#7b1fa2"),new f("800","'"),j.fromHex("#6a1b9a"),new f("900","'"),j.fromHex("#4a148c"),new f("a100","'"),j.fromHex("#ea80fc"),new f("a200","'"),j.fromHex("#e040fb"),new f("a400","'"),j.fromHex("#d500f9"),new f("a700","'"),j.fromHex("#aa00ff")]),new f("deep-purple","'"),new P([new f("50","'"),j.fromHex("#ede7f6"),new f("100","'"),j.fromHex("#d1c4e9"),new f("200","'"),j.fromHex("#b39ddb"),new f("300","'"),j.fromHex("#9575cd"),new f("400","'"),j.fromHex("#7e57c2"),new f("500","'"),j.fromHex("#673ab7"),new f("600","'"),j.fromHex("#5e35b1"),new f("700","'"),j.fromHex("#512da8"),new f("800","'"),j.fromHex("#4527a0"),new f("900","'"),j.fromHex("#311b92"),new f("a100","'"),j.fromHex("#b388ff"),new f("a200","'"),j.fromHex("#7c4dff"),new f("a400","'"),j.fromHex("#651fff"),new f("a700","'"),j.fromHex("#6200ea")]),new f("indigo","'"),new P([new f("50","'"),j.fromHex("#e8eaf6"),new f("100","'"),j.fromHex("#c5cae9"),new f("200","'"),j.fromHex("#9fa8da"),new f("300","'"),j.fromHex("#7986cb"),new f("400","'"),j.fromHex("#5c6bc0"),new f("500","'"),j.fromHex("#3f51b5"),new f("600","'"),j.fromHex("#3949ab"),new f("700","'"),j.fromHex("#303f9f"),new f("800","'"),j.fromHex("#283593"),new f("900","'"),j.fromHex("#1a237e"),new f("a100","'"),j.fromHex("#8c9eff"),new f("a200","'"),j.fromHex("#536dfe"),new f("a400","'"),j.fromHex("#3d5afe"),new f("a700","'"),j.fromHex("#304ffe")]),new f("blue","'"),new P([new f("50","'"),j.fromHex("#e3f2fd"),new f("100","'"),j.fromHex("#bbdefb"),new f("200","'"),j.fromHex("#90caf9"),new f("300","'"),j.fromHex("#64b5f6"),new f("400","'"),j.fromHex("#42a5f5"),new f("500","'"),j.fromHex("#2196f3"),new f("600","'"),j.fromHex("#1e88e5"),new f("700","'"),j.fromHex("#1976d2"),new f("800","'"),j.fromHex("#1565c0"),new f("900","'"),j.fromHex("#0d47a1"),new f("a100","'"),j.fromHex("#82b1ff"),new f("a200","'"),j.fromHex("#448aff"),new f("a400","'"),j.fromHex("#2979ff"),new f("a700","'"),j.fromHex("#2962ff")]),new f("light-blue","'"),new P([new f("50","'"),j.fromHex("#e1f5fe"),new f("100","'"),j.fromHex("#b3e5fc"),new f("200","'"),j.fromHex("#81d4fa"),new f("300","'"),j.fromHex("#4fc3f7"),new f("400","'"),j.fromHex("#29b6f6"),new f("500","'"),j.fromHex("#03a9f4"),new f("600","'"),j.fromHex("#039be5"),new f("700","'"),j.fromHex("#0288d1"),new f("800","'"),j.fromHex("#0277bd"),new f("900","'"),j.fromHex("#01579b"),new f("a100","'"),j.fromHex("#80d8ff"),new f("a200","'"),j.fromHex("#40c4ff"),new f("a400","'"),j.fromHex("#00b0ff"),new f("a700","'"),j.fromHex("#0091ea")]),new f("cyan","'"),new P([new f("50","'"),j.fromHex("#e0f7fa"),new f("100","'"),j.fromHex("#b2ebf2"),new f("200","'"),j.fromHex("#80deea"),new f("300","'"),j.fromHex("#4dd0e1"),new f("400","'"),j.fromHex("#26c6da"),new f("500","'"),j.fromHex("#00bcd4"),new f("600","'"),j.fromHex("#00acc1"),new f("700","'"),j.fromHex("#0097a7"),new f("800","'"),j.fromHex("#00838f"),new f("900","'"),j.fromHex("#006064"),new f("a100","'"),j.fromHex("#84ffff"),new f("a200","'"),j.fromHex("#18ffff"),new f("a400","'"),j.fromHex("#00e5ff"),new f("a700","'"),j.fromHex("#00b8d4")]),new f("teal","'"),new P([new f("50","'"),j.fromHex("#e0f2f1"),new f("100","'"),j.fromHex("#b2dfdb"),new f("200","'"),j.fromHex("#80cbc4"),new f("300","'"),j.fromHex("#4db6ac"),new f("400","'"),j.fromHex("#26a69a"),new f("500","'"),j.fromHex("#009688"),new f("600","'"),j.fromHex("#00897b"),new f("700","'"),j.fromHex("#00796b"),new f("800","'"),j.fromHex("#00695c"),new f("900","'"),j.fromHex("#004d40"),new f("a100","'"),j.fromHex("#a7ffeb"),new f("a200","'"),j.fromHex("#64ffda"),new f("a400","'"),j.fromHex("#1de9b6"),new f("a700","'"),j.fromHex("#00bfa5")]),new f("green","'"),new P([new f("50","'"),j.fromHex("#e8f5e9"),new f("100","'"),j.fromHex("#c8e6c9"),new f("200","'"),j.fromHex("#a5d6a7"),new f("300","'"),j.fromHex("#81c784"),new f("400","'"),j.fromHex("#66bb6a"),new f("500","'"),j.fromHex("#4caf50"),new f("600","'"),j.fromHex("#43a047"),new f("700","'"),j.fromHex("#388e3c"),new f("800","'"),j.fromHex("#2e7d32"),new f("900","'"),j.fromHex("#1b5e20"),new f("a100","'"),j.fromHex("#b9f6ca"),new f("a200","'"),j.fromHex("#69f0ae"),new f("a400","'"),j.fromHex("#00e676"),new f("a700","'"),j.fromHex("#00c853")]),new f("light-green","'"),new P([new f("50","'"),j.fromHex("#f1f8e9"),new f("100","'"),j.fromHex("#dcedc8"),new f("200","'"),j.fromHex("#c5e1a5"),new f("300","'"),j.fromHex("#aed581"),new f("400","'"),j.fromHex("#9ccc65"),new f("500","'"),j.fromHex("#8bc34a"),new f("600","'"),j.fromHex("#7cb342"),new f("700","'"),j.fromHex("#689f38"),new f("800","'"),j.fromHex("#558b2f"),new f("900","'"),j.fromHex("#33691e"),new f("a100","'"),j.fromHex("#ccff90"),new f("a200","'"),j.fromHex("#b2ff59"),new f("a400","'"),j.fromHex("#76ff03"),new f("a700","'"),j.fromHex("#64dd17")]),new f("lime","'"),new P([new f("50","'"),j.fromHex("#f9fbe7"),new f("100","'"),j.fromHex("#f0f4c3"),new f("200","'"),j.fromHex("#e6ee9c"),new f("300","'"),j.fromHex("#dce775"),new f("400","'"),j.fromHex("#d4e157"),new f("500","'"),j.fromHex("#cddc39"),new f("600","'"),j.fromHex("#c0ca33"),new f("700","'"),j.fromHex("#afb42b"),new f("800","'"),j.fromHex("#9e9d24"),new f("900","'"),j.fromHex("#827717"),new f("a100","'"),j.fromHex("#f4ff81"),new f("a200","'"),j.fromHex("#eeff41"),new f("a400","'"),j.fromHex("#c6ff00"),new f("a700","'"),j.fromHex("#aeea00")]),new f("yellow","'"),new P([new f("50","'"),j.fromHex("#fffde7"),new f("100","'"),j.fromHex("#fff9c4"),new f("200","'"),j.fromHex("#fff59d"),new f("300","'"),j.fromHex("#fff176"),new f("400","'"),j.fromHex("#ffee58"),new f("500","'"),j.fromHex("#ffeb3b"),new f("600","'"),j.fromHex("#fdd835"),new f("700","'"),j.fromHex("#fbc02d"),new f("800","'"),j.fromHex("#f9a825"),new f("900","'"),j.fromHex("#f57f17"),new f("a100","'"),j.fromHex("#ffff8d"),new f("a200","'"),j.fromHex("#ffff00"),new f("a400","'"),j.fromHex("#ffea00"),new f("a700","'"),j.fromHex("#ffd600")]),new f("amber","'"),new P([new f("50","'"),j.fromHex("#fff8e1"),new f("100","'"),j.fromHex("#ffecb3"),new f("200","'"),j.fromHex("#ffe082"),new f("300","'"),j.fromHex("#ffd54f"),new f("400","'"),j.fromHex("#ffca28"),new f("500","'"),j.fromHex("#ffc107"),new f("600","'"),j.fromHex("#ffb300"),new f("700","'"),j.fromHex("#ffa000"),new f("800","'"),j.fromHex("#ff8f00"),new f("900","'"),j.fromHex("#ff6f00"),new f("a100","'"),j.fromHex("#ffe57f"),new f("a200","'"),j.fromHex("#ffd740"),new f("a400","'"),j.fromHex("#ffc400"),new f("a700","'"),j.fromHex("#ffab00")]),new f("orange","'"),new P([new f("50","'"),j.fromHex("#fff3e0"),new f("100","'"),j.fromHex("#ffe0b2"),new f("200","'"),j.fromHex("#ffcc80"),new f("300","'"),j.fromHex("#ffb74d"),new f("400","'"),j.fromHex("#ffa726"),new f("500","'"),j.fromHex("#ff9800"),new f("600","'"),j.fromHex("#fb8c00"),new f("700","'"),j.fromHex("#f57c00"),new f("800","'"),j.fromHex("#ef6c00"),new f("900","'"),j.fromHex("#e65100"),new f("a100","'"),j.fromHex("#ffd180"),new f("a200","'"),j.fromHex("#ffab40"),new f("a400","'"),j.fromHex("#ff9100"),new f("a700","'"),j.fromHex("#ff6d00")]),new f("deep-orange","'"),new P([new f("50","'"),j.fromHex("#fbe9e7"),new f("100","'"),j.fromHex("#ffccbc"),new f("200","'"),j.fromHex("#ffab91"),new f("300","'"),j.fromHex("#ff8a65"),new f("400","'"),j.fromHex("#ff7043"),new f("500","'"),j.fromHex("#ff5722"),new f("600","'"),j.fromHex("#f4511e"),new f("700","'"),j.fromHex("#e64a19"),new f("800","'"),j.fromHex("#d84315"),new f("900","'"),j.fromHex("#bf360c"),new f("a100","'"),j.fromHex("#ff9e80"),new f("a200","'"),j.fromHex("#ff6e40"),new f("a400","'"),j.fromHex("#ff3d00"),new f("a700","'"),j.fromHex("#dd2c00")]),new f("brown","'"),new P([new f("50","'"),j.fromHex("#efebe9"),new f("100","'"),j.fromHex("#d7ccc8"),new f("200","'"),j.fromHex("#bcaaa4"),new f("300","'"),j.fromHex("#a1887f"),new f("400","'"),j.fromHex("#8d6e63"),new f("500","'"),j.fromHex("#795548"),new f("600","'"),j.fromHex("#6d4c41"),new f("700","'"),j.fromHex("#5d4037"),new f("800","'"),j.fromHex("#4e342e"),new f("900","'"),j.fromHex("#3e2723")]),new f("grey","'"),new P([new f("50","'"),j.fromHex("#fafafa"),new f("100","'"),j.fromHex("#f5f5f5"),new f("200","'"),j.fromHex("#eeeeee"),new f("300","'"),j.fromHex("#e0e0e0"),new f("400","'"),j.fromHex("#bdbdbd"),new f("500","'"),j.fromHex("#9e9e9e"),new f("600","'"),j.fromHex("#757575"),new f("700","'"),j.fromHex("#616161"),new f("800","'"),j.fromHex("#424242"),new f("900","'"),j.fromHex("#212121")]),new f("blue-grey","'"),new P([new f("50","'"),j.fromHex("#eceff1"),new f("100","'"),j.fromHex("#cfd8dc"),new f("200","'"),j.fromHex("#b0bec5"),new f("300","'"),j.fromHex("#90a4ae"),new f("400","'"),j.fromHex("#78909c"),new f("500","'"),j.fromHex("#607d8b"),new f("600","'"),j.fromHex("#546e7a"),new f("700","'"),j.fromHex("#455a64"),new f("800","'"),j.fromHex("#37474f"),new f("900","'"),j.fromHex("#263238"),new f("1000","'"),j.fromHex("#11171a")])]),2);aL("$base-color",aK("$base_color")||bD((a2.material_color||material_color__fn).apply(aS.functions,bH([ay("$base_color_name"),new f("500","'")]))),3);aL("$base-highlight-color",aK("$base_highlight_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$base_color_name"),new f("300","'")]))),4);aL("$base-light-color",aK("$base_light_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$base_color_name"),new f("100","'")]))),5);aL("$base-dark-color",aK("$base_dark_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$base_color_name"),new f("700","'")]))),6);aL("$base-pressed-color",aK("$base_pressed_color")||bD(bV.rgba.apply(aS.registered,bH([ay("$base_color"),new z(0.8),ad,ad,ad]))),7);aL("$base-invisible-color",aK("$base_invisible_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$base_color"),new z(0),ad,ad,ad]))),8);aL("$material-foreground-colors",aK("$material_foreground_colors")||new P([new f("red","'"),j.fromHex("#ffffff"),new f("pink","'"),j.fromHex("#ffffff"),new f("purple","'"),j.fromHex("#ffffff"),new f("deep-purple","'"),j.fromHex("#ffffff"),new f("indigo","'"),j.fromHex("#ffffff"),new f("blue","'"),j.fromHex("#ffffff"),new f("light-blue","'"),j.fromHex("#ffffff"),new f("cyan","'"),j.fromHex("#ffffff"),new f("teal","'"),j.fromHex("#ffffff"),new f("green","'"),j.fromHex("#ffffff"),new f("light-green","'"),j.fromHex("#ffffff"),new f("lime","'"),j.fromHex("#111111"),new f("yellow","'"),j.fromHex("#111111"),new f("amber","'"),j.fromHex("#111111"),new f("orange","'"),j.fromHex("#111111"),new f("deep-orange","'"),j.fromHex("#ffffff"),new f("brown","'"),j.fromHex("#ffffff"),new f("grey","'"),j.fromHex("#111111"),new f("blue-grey","'"),j.fromHex("#ffffff")]),9);aL("$base-foreground-color",aK("$base_foreground_color")||bD((aS.functions.material_foreground_color||material_foreground_color__fn).apply(aS.functions,bH([ay("$base_color_name")]))),10);aL("$accent_color_name",aK("$accent_color_name")||new f("orange","'"),11);aL("$accent-color",aK("$accent_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$accent_color_name"),new f("500","'")]))),12);aL("$accent-light-color",aK("$accent_light_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$accent_color_name"),new f("100","'")]))),13);aL("$accent-dark-color",aK("$accent_dark_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$accent_color_name"),new f("700","'")]))),14);aL("$accent-pressed-color",aK("$accent_pressed_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$accent_color"),new z(0.8),ad,ad,ad]))),15);aL("$accent-invisible-color",aK("$accent_invisible_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$accent_color"),new z(0),ad,ad,ad]))),16);aL("$accent-foreground-color",aK("$accent_foreground_color")||bD((aS.functions.material_foreground_color||material_foreground_color__fn).apply(aS.functions,bH([ay("$accent_color_name")]))),17);aL("$confirm-color",aK("$confirm_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([new f("light-green","'"),new f("600","'")]))),18);aL("$confirm-pressed-color",aK("$confirm_pressed_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$confirm_color"),new z(0.8),ad,ad,ad]))),19);aL("$alert-color",aK("$alert_color")||bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([new f("red","'"),new f("800","'")]))),20);aL("$alert-pressed-color",aK("$alert_pressed_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$alert_color"),new z(0.8),ad,ad,ad]))),21);aL(e._,aK(e._)||(aE(ay("$dark_mode"))?j.fromHex("#fff"):j.fromHex("#111111")),22);aL("$highlight-color",aK("$highlight_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay(e._),new z(0.54),ad,ad,ad]))),23);aL("$disabled-color",aK("$disabled_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay(e._),new z(0.38),ad,ad,ad]))),24);aL("$divider-color",aK("$divider_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay(e._),new z(0.12),ad,ad,ad]))),25);aL("$reverse-color",aK("$reverse_color")||(aE(ay("$dark_mode"))?j.fromHex("#222"):j.fromHex("#fff")),26);aL("$reverse-highlight-color",aK("$reverse_highlight_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$reverse_color"),new z(0.54),ad,ad,ad]))),27);aL("$reverse-disabled-color",aK("$reverse_disabled_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$reverse_color"),new z(0.38),ad,ad,ad]))),28);aL("$reverse-divider-color",aK("$reverse_divider_color")||bD(aS.registered.rgba.apply(aS.registered,bH([ay("$reverse_color"),new z(0.12),ad,ad,ad]))),29);aL("$background-color",aK("$background_color")||(aE(ay("$dark_mode"))?j.fromHex("#303030"):j.fromHex("#fafafa")),30);aL("$alt-background-color",aK("$alt_background_color")||(aE(ay("$dark_mode"))?j.fromHex("#3a3a3a"):j.fromHex("#f5f5f5")),31);aL("$reverse-background-color",aK("$reverse_background_color")||(aE(ay("$dark_mode"))?j.fromHex("#fafafa"):j.fromHex("#303030")),32);aL("$reverse-alt-background-color",aK("$reverse_alt_background_color")||(aE(ay("$dark_mode"))?j.fromHex("#f5f5f5"):j.fromHex("#3a3a3a")),33);aL("$faded-color",aK("$faded_color")||(aE(ay("$dark_mode"))?j.fromHex("#4d4d4d"):j.fromHex("#c3c3c3")),34);aL("$overlay-color",aK("$overlay_color")||(aE(ay("$dark_mode"))?bD(aS.registered.rgba.apply(aS.registered,bH([j.fromHex("#fff"),new z(0.03),ad,ad,ad]))):bD(aS.registered.rgba.apply(aS.registered,bH([j.fromHex("#000"),new z(0.03),ad,ad,ad])))),35);aL("$content-padding",aK("$content_padding")||new z(16,"px"),36);aL("$listitem-selected-background-color",aK("$listitem_selected_background_color")||(aE(ay("$dark_mode"))?bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$base_color_name"),new f("700","'")]))):bD((aS.functions.material_color||material_color__fn).apply(aS.functions,bH([ay("$base_color_name"),new f("200","'")])))),37)},{":root":["dark-mode","base-color","base-highlight-color","base-light-color","base-dark-color","base-pressed-color","base-invisible-color","base-foreground-color","accent-color","accent-light-color","accent-dark-color","accent-pressed-color","accent-invisible-color","accent-foreground-color","confirm-color","confirm-pressed-color","alert-color","alert-pressed-color",W._,"highlight-color","disabled-color","divider-color","reverse-color","reverse-highlight-color","reverse-disabled-color","reverse-divider-color","background-color","alt-background-color","reverse-background-color","reverse-alt-background-color","faded-color","overlay-color","content-padding","listitem-selected-background-color"],html:["base_color_name","accent_color_name"]})})(Fashion);